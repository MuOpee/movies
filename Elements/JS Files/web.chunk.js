(self.webpackChunk=self.webpackChunk||[]).push([[242],{6325:function(e,t,n){"use strict";n.d(t,{Ay:function(){return O}});var a=n(46683),o=n(32485),r=n.n(o),i=n(96540),s=n(72267),l=n(6442),c=n(63457),u=n(15215),d=n(66331),p=n(94066),m=n(86587),f=n(38798),v=n(13500),g=n(27948),h=n(21219),y=n(77161),A=n(97651),E=n(20680),b=n(67409),C=n(30485),S=n(40616),w=n(21459),k="rpyQi",R=(0,s.YK)({label:{id:"src/common/components/uilib/GoogleButton/GoogleButton:label",defaultMessage:"Register via Google"}}),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1},t.mounted=!1,t.handleCodeResponse=function(e){var n=t.props.dispatch,a=e.code;n((0,y.XL)({code:a,method:A.UR.SIGNIN_WITH_GOOGLE})).catch((function(){t.setApiLoadSuccess(!1)})),t.setState({loading:!1})},t.handleAuthError=function(e){E.Ay.error(e,"Error when sign in on google auth api"),t.setState({loading:!1})},t.handleClick=function(e){e.preventDefault(),t.clicked=!0,void 0===t.apiLoadSuccess?t.setState({loading:!0}):t.handleGoogleAuth()},t}return(0,u.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;(0,d.hd)(h.zX).then((function(){var n,a=window.google.accounts.oauth2.initCodeClient({client_id:null===(n=null===S.Ay||void 0===S.Ay?void 0:S.Ay.google)||void 0===n?void 0:n.clientID,scope:"https://www.googleapis.com/auth/userinfo.email",ux_mode:"popup",callback:e.handleCodeResponse,error_callback:e.handleAuthError});t.auth2=a,e.setApiLoadSuccess(!0)})).catch((function(t){e.setApiLoadSuccess(!1),(0,C.jv)({type:g.ij.clientInfo,subtype:g.rr.REGISTRATION.GOOGLE_SIGN_IN_ERROR,message:"GoogleButton.componentDidMount - ".concat(t?t.stack||t.message:void 0)}),E.Ay.error(t,"Error initializing google auth api")})),this.mounted=!0},t.prototype.setApiLoadSuccess=function(e){this.apiLoadSuccess=e,this.clicked&&this.handleGoogleAuth()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.handleGoogleAuth=function(){if(t.auth2&&this.mounted&&this.clicked){var e=this.props,n=e.dispatch,a=e.onClick;if(!this.apiLoadSuccess)return n((0,v.z8)(w.GOOGLE_AUTH_FAILED.notification,"google-auth")),(0,b.bJ)({manip:p.cx.SIGNIN,current:"GOOGLE",message:p.B2.ERROR,status:p.VI.FAIL}),void this.setState({loading:!1});null==a||a(),t.auth2.requestCode()}},t.prototype.render=function(){var e=this.props,t=e.label,n=e.className,a=e.icon,o=e.intl,s=a,l=t||o.formatMessage(R.label);return i.createElement(m.A,{appearance:"secondary",className:r()(k,n),icon:s,iconAlignment:"left",loading:this.state.loading,onClick:this.handleClick,type:"button"},l)},t}(i.PureComponent),I=(0,f.Ay)(P),M=n(58168),_=n(10685),T=function(e){var t=e.className,n=(0,u.__rest)(e,["className"]);return i.createElement(_.A,(0,M.A)({viewBox:"0 0 24 24",fill:"none",className:t},n,{role:"img"}),i.createElement("title",null,"Google Icon"),i.createElement("g",{clipPath:"url(#clip0)"},i.createElement("path",{d:"M22 12.23c0-.68-.056-1.364-.176-2.032H12.2v3.85h5.51a4.624 4.624 0 01-2.039 3.04v2.498h3.288C20.89 17.844 22 15.272 22 12.23z",fill:"#4285F4"}),i.createElement("path",{d:"M12.2 22c2.752 0 5.073-.886 6.764-2.414l-3.288-2.499c-.915.61-2.096.956-3.472.956-2.661 0-4.918-1.76-5.728-4.127H3.083v2.576C4.816 19.869 8.343 22 12.201 22z",fill:"#34A853"}),i.createElement("path",{d:"M6.472 13.916a5.877 5.877 0 010-3.829V7.513H3.083a9.831 9.831 0 000 8.98l3.39-2.576z",fill:"#FBBC04"}),i.createElement("path",{d:"M12.2 5.957a5.606 5.606 0 013.914 1.5L19.027 4.6A9.916 9.916 0 0012.201 2C8.343 2 4.815 4.13 3.083 7.512l3.39 2.575c.805-2.37 3.066-4.13 5.728-4.13z",fill:"#EA4335"})),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0"},i.createElement("path",{fill:"#fff",transform:"translate(2 2)",d:"M0 0h20v20H0z"}))))},N=n(52691),L="scU0H",D="reI3P",x=(0,s.YK)({google:{id:"src/common/components/SSOButtonGroup/SSOButtonGroup:google",defaultMessage:"Continue with Google"}}),O=(0,c.Ng)()((function(e){var t=e.dispatch,n=e.buttonOnClick,o=e.googleOnClick,s=e.googleClass,c=(0,i.useCallback)((function(){var e;n&&n(),e=N.Dsp.SSO_GOOGLE,(0,b.Pw)({progress:a.s.CLICKED_SIGNIN,current:e})}),[n]),u=(0,l.A)().formatMessage,d=r()(L,s);return i.createElement(i.Fragment,null,i.createElement(I,{label:u(x.google),icon:T,className:d,dispatch:t,key:"google",onClick:o||c}),i.createElement("div",{className:D}))}))},14529:function(e,t,n){"use strict";n.d(t,{EG:function(){return f},gA:function(){return m}});var a=n(15215),o=n(22325),r=n(52691),i=n(64275),s=n(20963),l=function(e){return e.video.byId},c=function(e,t){var n=e.history.contentIdMap[t]||r.ur7,a=n.position;return(n.episodes||r.EOB)[a]},u=function(e,t){return e.video.byId[t]||r.ur7},d=(0,o.Mz)([l,c],(function(e,t){return t?e[t.contentId]:null})),p=(0,o.Mz)(l,u,(function(e,t){return Array.isArray(t.seasons)&&t.seasons[0]?e[t.seasons[0].episodes[0].id]:null})),m=(0,o.Mz)([c,d,p,function(e,t){return t}],(function(e,t,n,o){var r=null;return e&&t&&(r=(0,a.__assign)((0,a.__assign)({},e),{title:t.title,duration:t.duration,type:t.type,id:t.id})),!r&&n&&(r=(0,a.__assign)({},n)),r&&(r.series_id=o.slice(1)),r})),f=(0,o.Mz)([function(e,t){var n=t.seriesId;return u(e,n)},function(e,t){var n=t.seriesId;return c(e,n)},function(e,t){return t.formatMessage}],(function(e,t,n){var a;if(!e||!Array.isArray(e.seasons))return"";var o=t?t.contentId:null===(a=e.seasons[0])||void 0===a?void 0:a.episodes[0].id,r=(0,i.ih)("".concat(o),e.seasons);if(!r)return"";var s=e.seasons&&e.seasons[r.season],l=s&&s.episodes[r.episode];return s&&l?(0,i.Mc)({formatMessage:n,season:s.number,episode:l.num}):""})),v=(0,o.Mz)((function(e){return e.contentIdMap}),(function(e,t){return t}),(function(e,t){return e[t]}));(0,o.Mz)(v,(function(e){var t={};return e&&e.episodes&&e.episodes.forEach((function(e){t[e.contentId]={position:(0,s.do)(e)}})),t}))},52591:function(e,t,n){"use strict";n.d(t,{OQ:function(){return i},Rt:function(){return r},cR:function(){return o}});var a=n(7177);function o(e){return e.player.playerState}function r(e){return e.player.progress.position}function i(e){return e.player.playerState===a.td.playing}},29363:function(e,t,n){"use strict";n.d(t,{Rf:function(){return u},Ru:function(){return c},VP:function(){return d},j1:function(){return l}});n(92427);var a,o=n(61950),r=n(67409),i=n(30485);function s(e,t,n,a,s){var l;l=(0,r.w4)(e,t,n,a,s),(0,i.sx)(o.CT,l)}function l(e,t,n,a){s(e,"LIKE",t,n,a)}function c(e,t,n){s(e,"DISLIKE",t,n)}function u(e,t,n){s(e,"UNDO_LIKE",t,n)}function d(e,t,n){s(e,"UNDO_DISLIKE",t,n)}!function(e){e.LIKE_OR_DISLIKE="LIKE_OR_DISLIKE",e.LIKE="LIKE",e.DISLIKE="DISLIKE"}(a||(a={}))},41549:function(e,t,n){"use strict";n.r(t),n.d(t,{IntlSeries:function(){return pe},default:function(){return me},fetchData:function(){return le},fetchDataDeferred:function(){return ce},mapStateToProps:function(){return de}});var a=n(15215),o=n(58104),r=n(96540),i=n(80545),s=n(72267),l=n(38798),c=n(63457),u=n(71085),d=n(61427),p=n(52691),m=n(85070),f=n(32174),v=n(52171),g=n(40962),h=n(10208),y=n(20680),A=n(37129),E=n(4703),b=n(14529),C=n(43955),S=n(77831),w=n(69780),k=n(80208),R=n(91759),P=n(20802),I=n(45709),M=n(47442),_=n(38191),T=n(42236),N=n(69926),L=n(7350),D=n.n(L),x=n(24179),O=n(99869),V=n(91466),B=n(25016),F=n(60957),U=n(33642),W=n(74055),Y=n(77705),H="zBQ0e",z="DYw_D",K=function(e){function t(t){var n=e.call(this,t)||this;return n.handleResize=function(){var e=window.innerWidth;n.setState({vw:e})},n.handleWatch=function(){var e,t=n.props,a=t.dispatch,o=t.history,r=t.latestEpisodeInfo,i=t.isMobile,s=t.mobilePlaybackEnabled,l=t.isThirdPartySDKTrackingEnabled,c=t.deviceId;if(i&&!s)return(0,V.c)({deeplinkSource:"SeriesDetail"}),void(window.location.href=(0,P.VR)(r,c,{stopTracking:!l}));var u=(0,P.qA)({video:r});B.Ay.createNavigateToPageComponent({componentType:N.K_.middleNavComponent,endY:(0,T.RI)(null!=o?o:{})?F.CC.Play:F.CC.ContinueWatching}),a((0,O.VC)({pathname:u,state:(e={},e[p.x39]=!0,e)}))},n.state={vw:p.LOf.xl},n.handleResize=D()(n.handleResize,250),n}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){(0,U.q2)(window,"resize",this.handleResize),this.handleResize()},t.prototype.componentWillUnmount=function(){(0,U.f)(window,"resize",this.handleResize)},t.prototype.render=function(){var e=this.props,t=e.series,n=e.latestEpisodeInfo,a=e.isContentReady,o=e.isContentUnavailable,i=e.isContentComingSoon,s=e.seasonIndex,l=e.onSeasonIndexChange,c=this.state.vw,u=t.backgrounds,d=void 0===u?[]:u,p=t.hero_images,m=void 0===p?[]:p,f=t.posterarts,v=void 0===f?[]:f,g=d[0]||m[0]||v[0],h=v[0];return r.createElement("div",{className:H},r.createElement(W.A,{src:g}),r.createElement("div",{className:z},r.createElement(Y.A,{belongSeries:t.id,content:t,onClickWatch:n?this.handleWatch:null,posterUrl:h,seasons:t.seasons,vw:c,isSeriesDetail:!0,isContentReady:a,shouldShowContentUnavailable:o,shouldShowComingSoon:i,seasonIndex:s,onSeasonIndexChange:l})))},t}(r.Component),G=(0,c.Ng)((function(e){return{deviceId:e.auth.deviceId}}))((0,x.withRouter)(K)),q=n(34123),Q=n(66302),j=n(31550),X=n(66080),Z=n(13410),J=n(577),$=n(18031),ee=function(e){return e.map($.Dn)},te=function(e,t,n,a){return e.map((function(e){var o=t[e]||{},r=(0,P.qA)({video:o});return{"@type":"TVEpisode",name:o.title,episodeNumber:o.episode_number,url:r,potentialAction:{"@type":"WatchAction",target:{"@type":"EntryPoint",urlTemplate:r,inLanguage:o.lang,actionPlatform:["http://schema.org/DesktopWebPlatform","http://schema.org/IOSPlatform","http://schema.org/AndroidPlatform"]},expectsAcceptanceOf:{"@type":"Offer",offeredBy:{"@type":"Organization",name:"TubiTV"}}},partOfSeason:{"@type":"TVSeason",seasonNumber:n},partOfSeries:{"@type":"TVSeries",name:a}}}))},ne=function(e,t,n){var o,r=e.actors,i=void 0===r?[]:r,s=e.description,l=e.directors,c=void 0===l?[]:l,u=e.posterarts,d=void 0===u?[]:u,p=e.ratings,m=e.seasons,f=void 0===m?[]:m,v=e.thumbnails,g=void 0===v?[]:v,h=e.tags,y=void 0===h?[]:h,A=e.title,E=e.year,b=(0,Z.G)(f,t),C=(0,P.qA)({video:e,absolute:!0}),S=(0,I.HK)(d[0]||g[0]),w=null===(o=null==p?void 0:p[0])||void 0===o?void 0:o.value,k=ee(i),R=ee(c),M=function(e){if(e)return new Date(e.toString()).toISOString().split("T")[0]}(E),_=(0,Z.P)(f,t);return(0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)({"@context":"https://schema.org","@type":"TVSeries",url:C,name:A,description:s,image:S},w&&{contentRating:w}),M&&{dateCreated:M,startDate:M}),k.length&&{actor:k}),R.length&&{director:R}),f.length&&{numberOfSeasons:f.length}),y.length&&{genre:y}),{episode:te(b,n,"".concat(_),A)})},ae=function(e){var t=e.series,n=e.seasonIndex,a=void 0===n?0:n,o=(0,X.A)((function(e){return e.video.byId}),c.bN),i=(0,r.useMemo)((function(){return ne(t,a,o)}),[t,a,o]);return r.createElement(J.A,{jsonLd:i})},oe=n(20124),re=(0,s.YK)({keywords:{id:"src/web/containers/Series/Series:keywords",defaultMessage:"{title}, Free, Movies, TV shows, legal, streaming, HD, full length"},description:{id:"src/web/containers/Series/Series:description",defaultMessage:"Watch {title} Free Online | {seasonsTotal, select, 0 {{description}} 1 {{seasonsTotal} Season. {description}} other {{seasonsTotal} Seasons. {description}}}"}}),ie=function(e){function t(t){var n=e.call(this,t)||this;return n.getMeta=n.getMeta.bind(n),n.meta=n.getMeta(),n}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.userAgent&&(0,o.isMobileWebkit)(this.props.userAgent)&&this.props.webIosPlayback.logExposure(),this.props.webRepositionVideoResource.logExposure()},t.prototype.getMeta=function(){var e=this.props,t=e.intl,n=e.series,o=e.params,r=e.deviceId,i=t.formatMessage,s=n.posterarts,l=void 0===s?[]:s,c=n.thumbnails,u=void 0===c?[]:c,d=n.landscape_images,p=n.description,f=n.id,v=o.season,g=(0,oe.T_)(v&&"1"!==v?m.yi.seriesSeasonDetail:m.yi.seriesDetail,(0,a.__assign)((0,a.__assign)({},o),{title:o.title||(0,R.jg)(n.title)})),h=(0,P.VR)(n),y=(0,I.HK)(d[0]||l[0]||u[0]),A=v?"".concat(n.title," Season ").concat(v):n.title,E="utm_campaign=applink&utm_medium=mobile_web&utm_source=fbapplink&utm_content=".concat(f),b="contentType=series&contentId=".concat(f).concat(r?"&deviceId=".concat(r):"");return{title:(0,oe.dV)({title:A,limit:Number.POSITIVE_INFINITY}),link:[(0,oe.n8)(g)],meta:[{name:"keywords",content:i(re.keywords,{title:A})},{name:"description",content:i(re.description,{title:A,description:p,seasonsTotal:(n.seasons||[]).length})},{property:"og:title",content:A},{property:"og:image",content:y},{property:"og:url",content:g},{property:"og:type",content:"tv_show"},{property:"og:description",content:p},{property:"twitter:title",content:A},{property:"twitter:description",content:p},{property:"twitter:image",content:y},{property:"al:android:url",content:"tubitv://media-details?".concat(b,"&").concat(E)},{property:"al:web:url",content:g},{property:"al:ios:url",content:h}]}},t.prototype.render=function(){var e=this.props,t=e.contentId,n=e.location,a=e.series,o=e.isMobile,s=e.isKidsModeEnabled,l=e.latestEpisodeInfo,c=e.history,u=e.isInMobileWhitelist,d=e.dispatch,p=e.isContentReady,m=e.isContentUnavailable,f=e.isContentComingSoon,v=e.isThirdPartySDKTrackingEnabled,g=e.seasonIndex,h=e.onSeasonIndexChange,y=a.id;return r.createElement("div",{key:y},r.createElement(i.mg,this.meta),r.createElement(G,{series:a,dispatch:d,latestEpisodeInfo:l,history:c,isMobile:o,mobilePlaybackEnabled:u,isKidsModeEnabled:s,isContentReady:p,isContentUnavailable:m,isContentComingSoon:f,isThirdPartySDKTrackingEnabled:v,seasonIndex:g,onSeasonIndexChange:h}),r.createElement(ae,{series:a,seasonIndex:g}),r.createElement(M.A,null),(0,Q.xc)(n)?r.createElement(q.A,{contentId:t,contentType:"series",location:n,title:a.title}):null,r.createElement(_.A,{contentId:(0,w.B9)(y),useRefreshStyle:!0}))},t.fetchData=le,t.fetchDataDeferred=ce,t.reserveContainerContext=!0,t.hasDynamicMeta=!0,t}(r.Component),se=function(e,t){var n=e.video,a=n.fullContentById,o=n.byId[t],r=a[t];return(0,j.x)({isContentReady:r,content:o})};function le(e){var t=e.dispatch,n=e.params.id,a=(0,d.hg)({seriesId:n,force:!0,season:1,page:1,size:p.por});return t(a).catch((function(e){var t=(0,k.X)(e.errType);return y.Ay[t]({error:e,contentId:n},"error when loading ".concat("paginated data"," for Series container")),Promise.reject(e)}))}function ce(e){var t=e.dispatch,n=e.getState,a=e.params.id,o="0".concat(a),r=n(),i=[],s=!se(r,o);i.push(t((0,d.C1)(o,p.NDj)).catch((function(e){var t=(0,k.X)(e.errType);return y.Ay[t]({error:e,contentId:o},"error when loading related contents for series container"),Promise.reject(e)})));var l=(0,g.dc)(r),c=(0,C.AS)(r);return s&&l&&!c&&i.push(t((0,u.gs)(o)).catch((function(e){y.Ay.error(e,"Series - error loading user reactions")}))),Promise.all(i)}var ue={},de=function(e,t){var n,o=e.video,r=e.history,i=e.ui,s=e.auth.deviceId,l=t.params,c=t.location,u=o.byId,d=o.fullContentById,p="0".concat(l.id),f=u[p]||ue,v=f.seasons,g=i.isMobile,y=i.userAgent,A=i.isKidsModeEnabled,C=(0,E.b)(e),w=g&&(0,S.Ir)({userAgent:y,enableMobileWebIosPlayback:C}),k=r.contentIdMap[p]||ue,R=(0,b.gA)(e,p),P=d[p],I=l.season;I&&-1===(n=null==v?void 0:v.findIndex((function(e){return e.number===I})))&&(n=void 0);return{contentId:p,isInMobileWhitelist:w,series:f,latestEpisodeInfo:R,history:k,isMobile:g,isKidsModeEnabled:A,isContentReady:P,isContentUnavailable:se(e,p),isContentComingSoon:(0,j.Z)({content:f,location:c}),isThirdPartySDKTrackingEnabled:(0,h.VM)(e),seasonIndex:n,onSeasonIndexChange:function(e){if(l.title){var t=(null==v?void 0:v[e].number)||"".concat(e+1),n=0===e?(0,oe.Yn)(m.yi.seriesDetail,l):(0,oe.Yn)(m.yi.seriesSeasonDetail,(0,a.__assign)((0,a.__assign)({},l),{season:t}));window.history.replaceState(null,"",n)}},userAgent:y,deviceId:s}},pe=(0,l.Ay)(ie),me=(0,A.A)((0,c.Ng)(de)(pe),{webIosPlayback:f.Ay,webRepositionVideoResource:v.Ay})},34123:function(e,t,n){"use strict";var a=n(96540),o=n(6442),r=n(63457),i=n(12494),s=n(40962),l=n(66080),c=n(67550),u=n(69780),d=n(66302);t.A=function(e){var t=e.contentId,n=void 0===t?"":t,p=e.contentType,m=e.location,f=e.title,v=void 0===f?"":f,g=(0,r.wA)(),h=(0,o.A)(),y=(0,d.NT)(m),A=(0,l.A)((function(e){return e.video.byId})),E=n||(0,d.$W)(m),b=A[E];b||(b=A[E=(0,u.B9)(E)]);var C=v||(null==b?void 0:b.title),S=(0,l.A)(s.dc),w=(0,l.A)((function(e){return e.queue})),k=(0,l.A)((function(e){return e.history.loaded})),R=!0;switch(y){case d.pL.REMOVE_FROM_MY_LIST:R=!S||w.loaded;break;case d.pL.REMOVE_FROM_CONTINUE_WATCHING:R=k}var P=(0,a.useState)(!1),I=P[0],M=P[1];(0,a.useEffect)((function(){y&&E&&C&&R&&!I&&((0,d.VN)({action:y,contentId:E,contentType:p,dispatch:g,intl:h,isLoggedIn:S,queue:w,title:C}),M(!0))}),[y,p,E,C,R,I,g,h,S,w]);var _=(0,l.A)((function(e){return e.ui.notifications}));return(0,a.useEffect)((function(){return function(){_.find((function(e){return e.id===d.bt}))&&g((0,c.A)(i.tEZ,{id:d.bt}))}}),[g,_]),null}},91244:function(e,t,n){"use strict";n.d(t,{$o:function(){return m},TL:function(){return d},ZA:function(){return u},yJ:function(){return c},yk:function(){return p}});var a=n(15215),o=n(63009),r=n.n(o),i=n(85070),s=n(91759),l=n(20124),c=6,u=function(e){return r()(e).toString().slice(0,c)},d=function(e){var t=e.replace(/^person-/,"");return(0,l.T_)(i.yi.person,{id:u(t),name:t}).replace(l.jg,"")},p=function(e){return function(t){var n=(0,s.PV)(e),o=(0,a.__spreadArray)((0,a.__spreadArray)([],t.actors||[],!0),t.directors||[],!0).map((function(e){return(0,s.PV)(e)}));return o.includes(n)}},m=function(e){var t=(0,s.PV)(e),n=d(t);return"".concat(l.jg).concat(n)}},62434:function(e,t,n){"use strict";n.d(t,{A:function(){return Ie}});var a=n(15215),o=n(646),r=n(69926),i=n(32485),s=n.n(i),l=n(96540),c=n(72267),u=n(58065),d=n(63457),p=n(99869),m=n(61427),f=n(10691),v=n(52691),g=n(61950),h=n(38054),y=n(70978),A=n(25016),E=n(67409),b=n(69780),C=n(20802),S=function(e){return e?5:20},w=function(e){var t=e.id;return e.type===v.vG4?function(e){var t,n=e.type,a=e.seasons;return n===v.vG4&&a&&(null===(t=a[0])||void 0===t?void 0:t.episodes)?a[0].episodes[0].id:null}(e)||(0,b.B9)(t):t},k=function(e){return"".concat((0,C.qA)({video:e}),"?autoplay=true")},R=n(30485),P="gd9NH",I="JcRVq",M="QYxHg",_="K5dQD",T="McM7k",N="KI6mw",L="rLwkJ",D="I0tKo",x=n(58980),O=n(6442),V=n(92763),B=n(34970),F="s1VNK",U="on5vy",W="nLypd",Y="BP32r",H="fRkjo",z=function(e){var t=e.duration,n=e.year,a=e.ratings,o=e.genres,r=e.showCC;return l.createElement("div",{className:F},l.createElement("div",{className:U},n?l.createElement("div",null,n):null,n&&t?l.createElement("span",null,"Â Â·Â "):null,l.createElement(B.dw,{key:"duration",duration:t}),r?l.createElement(V.A,{className:W}):null,l.createElement(B.fb,{rating:a,cls:Y,descriptorCls:H})),l.createElement("div",{className:U},l.createElement(B.iW,{genres:o,splitSymbol:" Â·Â "})))},K="aSBas",G="kLsUH",q="_3Eqv",Q="J0QCe",j="HKN6Y",X="YcR_x",Z=(0,c.YK)({startingIn:{id:"src/web/features/playback/components/AutoPlay/AutoPlayContents/AutoPlayDetail/AutoPlayDetail:startingIn",defaultMessage:"Starting in {seconds} s"}}),J=function(e){var t=e.content,n=e.className,a=e.counter,o=e.toUrl,r=e.onLinkClick,i=(0,O.A)(),c=(0,l.useCallback)((function(e){null==e||e.preventDefault(),r(e)}),[r]),u=t.title,d=t.description,p=t.year,m=t.duration,f=t.tags,v=void 0===f?[]:f,g=t.ratings,h=void 0===g?[]:g,y=t.has_subtitle;return l.createElement("div",{className:s()(K,n)},a?l.createElement("div",{className:G},i.formatMessage(Z.startingIn,{seconds:a})):null,l.createElement("div",null,l.createElement(x.A,{onClick:c,to:o,className:q},u)),l.createElement(z,{duration:m,year:p,ratings:h,genres:v,showCC:y,className:Q,labelRowClassName:j}),l.createElement("div",{className:X},d))},$=n(19001),ee=n(17468),te=function(e){var t=e.children,n=e.className,a=e.gradient,o=e.url,r=[a,(0,ee.iw)((0,C.M8)(o))].filter(Boolean).join(", ");return l.createElement("div",{className:n,style:{backgroundImage:r}},t)},ne="lMwu7",ae="oLY1Y",oe="w4wP4",re="FdbB1",ie="PaxoH",se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getSrcImg=function(){var e=t.props,n=e.content,a=e.isEpisode,o=n.posterarts,r=void 0===o?[]:o,i=n.thumbnails;return a?(void 0===i?[]:i)[0]:r[0]},t.handleClick=function(e){null==e||e.preventDefault();var n=t.props,a=n.index;(0,n.onTileClick)(a)},t}return(0,a.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.active,a=t.isEpisode,o=s()(ne,((e={})[ae]=n,e[re]=a,e)),r=this.getSrcImg();return l.createElement("div",{className:o,onClick:this.handleClick},l.createElement(te,{className:oe,url:r},n?l.createElement($.A,{className:ie,onClick:this.handleClick}):null))},t}(l.PureComponent),le=se,ce=function(e){var t=e.contents,n=e.isEpisode,a=e.toUrl,o=e.activeIndex,r=e.counter,i=e.className,c=e.onTileClick,u=e.onLinkClick;return l.createElement("div",{className:s()(P,i)},l.createElement("div",{className:I},t.map((function(e,t){var i,d,p,m=o===t,f=s()(M,((i={})[_]=m,i)),v=s()(T,((d={})[N]=n,d[_]=m,d)),g=s()(L,((p={})[N]=n,p));return l.createElement("div",{className:f,key:e.id},l.createElement("div",{className:v},l.createElement(le,{content:e,active:m,index:t,isEpisode:n,onTileClick:c})),m?l.createElement("div",{className:g},l.createElement(J,{className:D,content:e,counter:r,toUrl:a,onLinkClick:u})):null)}))))},ue=n(24179),de="TGrH4",pe="Mzvw7",me="ERYbl",fe="RapWZ",ve="k7TYq",ge=(0,c.YK)({startingIn:{id:"src/web/features/playback/components/AutoPlay/AutoPlayMinimizedDetail/AutoPlayMinimizedDetail:startingIn",defaultMessage:"Starting in {seconds}s"},playingNext:{id:"src/web/features/playback/components/AutoPlay/AutoPlayMinimizedDetail/AutoPlayMinimizedDetail:playingNext",defaultMessage:"Playing Next"}}),he=function(e){var t=e.title,n=e.toUrl,a=e.onLinkClick,o=e.counter,r=e.compactAutoplayUiMode,i=(0,O.A)();return l.createElement("div",{className:s()(de)},l.createElement("div",{className:s()(pe,me)},l.createElement(ue.Link,{onClick:function(e){e.preventDefault(),a(e)},to:n},t)),r?l.createElement("div",{className:ve},i.formatMessage(ge.startingIn,{seconds:o})):l.createElement("div",{className:fe},i.formatMessage(ge.playingNext)))},ye="YB49l",Ae="nID5l",Ee="BeN3C",be="iQVwQ",Ce="cWkYh",Se="J_4hd",we="XNhm8",ke="UMObM",Re=(0,c.YK)({hideAutoplay:{id:"src/web/features/playback/components/AutoPlay/AutoPlay:hideAutoplay",defaultMessage:"Hide"},openAutoplay:{id:"src/web/features/playback/components/AutoPlay/AutoPlay:openAutoplay",defaultMessage:"Open"}}),Pe=function(e){function t(t){var n=e.call(this,t)||this;n.counterTimer=null,n.stopPropagation=function(e){return e.stopPropagation()},n.timeHandler=function(){if(void 0!==n.state.timeLeft&&!n.props.videoPaused&&!n.state.minimized){if(n.state.timeLeft<=0)return A.Ay.setAutoplayDeliberate(!1),n.clearCounterTimer(),void n.autoPlay();n.setState({timeLeft:n.state.timeLeft-1})}},n.changeActiveIndex=function(e){n.state.activeIndex!==e&&n.setState({activeIndex:e,timeLeft:S(n.props.isEpisode)})},n.getAutoPlayVideo=function(){var e=n.props,t=e.contents,a=e.byId,o=t[n.state.activeIndex];return a[w(o)]||o},n.autoPlay=function(e){void 0===e&&(e=!1);var t=n.props,a=t.dispatch,o=t.onAutoplay,r=n.getAutoPlayVideo(),i=k(r);a((0,p.VC)(i)),o&&o({contentId:r.id,isFromAutoplayDeliberate:e,isFromAutoplayAutomatic:!e})},n.toggle=function(){return n.setState({minimized:!n.state.minimized})},n.onTileClick=function(e){if(e===n.state.activeIndex)n.manualAutoPlay();else{var t=n.state.activeIndex,a=n.props.contents[t].id;A.Ay.trackCarouselTrigger({startX:t,endX:e,contentId:a,slug:"",componentType:r.K_.autoplayComponent}),n.changeActiveIndex(e)}},n.onLinkClick=function(){n.manualAutoPlay()};var a=t.isEpisode,o=t.isCounterEnabled;return n.state={timeLeft:o?S(a):void 0,activeIndex:0,minimized:!1},n}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.dispatch,a=t.id,r=t.isEpisode,i=t.isFromAutoplay,s=t.contentLimit;(0,R.sx)(g.LD,(0,E.cY)(a,o.O.SHOW));var l=r?1:5;n((0,m.mn)(a,{isAutoPlayVideo:i,limit:null!=s?s:l})).then((function(){0!==e.props.contents.length&&(e.props.onAutoplayContentLoaded&&e.state.timeLeft&&e.props.onAutoplayContentLoaded(e.props.contents,e.state.timeLeft),e.handleMountWithContents())}))},t.prototype.componentWillUnmount=function(){this.clearCounterTimer()},t.prototype.componentDidUpdate=function(e,t){var n=this.state.minimized||this.props.videoPaused;n!==(t.minimized||e.videoPaused)&&(n&&this.props.onPause&&this.props.onPause(),!n&&this.props.onResume&&this.props.onResume())},t.prototype.handleMountWithContents=function(){this.props.isCounterEnabled&&(this.counterTimer=setInterval(this.timeHandler,1e3))},t.prototype.clearCounterTimer=function(){this.counterTimer&&clearInterval(this.counterTimer)},t.prototype.manualAutoPlay=function(){var e=this.getAutoPlayVideo(),t=e.type,n=e.id;A.Ay.createNavigateToPageComponent({startX:this.state.activeIndex,startY:0,containerSlug:null,contentId:t===v.vG4?"0".concat(n):n,componentType:r.K_.autoplayComponent}),A.Ay.setAutoplayDeliberate(!0),this.autoPlay(!0)},t.prototype.render=function(){var e,t=this.props,n=t.contents,a=t.isEpisode,o=t.className,r=t.compactAutoplayUiMode;if(0===n.length)return null;var i=this.state,c=i.minimized,d=i.activeIndex,p=i.timeLeft,m=n[d],v=k(m),g=s()(Se,((e={})[we]=c,e)),h=c?Re.openAutoplay:Re.hideAutoplay;return l.createElement("div",{className:s()(ye,o),onClick:this.stopPropagation},l.createElement("div",{className:Ae}),l.createElement("div",{className:s()(Ee,r&&be)},!r&&l.createElement("div",{className:Ce,onClick:this.toggle},l.createElement(f.A,{className:g}),l.createElement("div",{className:ke},l.createElement(u.A,h))),c||r?l.createElement(he,{title:m.title,toUrl:v,onLinkClick:this.onLinkClick,compactAutoplayUiMode:r,counter:p}):l.createElement(ce,{contents:n,counter:p,activeIndex:d,isEpisode:a,toUrl:v,onTileClick:this.onTileClick,onLinkClick:this.onLinkClick})))},t}(l.PureComponent);var Ie=(0,d.Ng)((function(e,t){var n=t.id,a=e.video.byId;return{contents:(0,y.VL)(e,n),byId:a,isCounterEnabled:!(0,h.Fd)(e)}}))(Pe)},97368:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ne},mapStateToProps:function(){return Me},rawChromecastSender:function(){return Te}});var a=n(15215),o=n(96540),r=n(38798),i=n(63457),s=n(17394),l=n(15138),c=n(13500),u=n(61427),d=n(12494),p=n(52691),m=n(61950),f=n(70978),v=n(25016),g=n(67550),h=n(67409),y=n(20888),A=n(57877),E=n(30485),b=n(40616),C=n(19386),S=n(62434),w=n(58168),k=n(10348),R=n(83990),P=n(94301),I=n(76095),M=n(57439),_=n(32485),T=n.n(_),N=n(72267),L=n(6442),D=n(58065),x=n(56488),O=n(9434),V=n(62584),B=n(41013),F=n(92656),U=n(93705),W=n(20970),Y=n(27852),H="XBWOp",z="Kltz5",K="vGjQW",G="c2PqU",q="MhpVh",Q="iKnri",j="f0M8L",X="qXcpK",Z="RcxMf",J="NY2SP",$="zuCpx",ee="KPWeR",te="yrv6J",ne="wj9ir",ae="jIJln",oe="CDwHq",re="AYR5r",ie="Wnfzc",se="Daj_L",le="qskDN",ce="QcgbU",ue="U_oir",de="yD5qC",pe="dcAYL",me="hZDGp",fe="UPvJL",ve="nqLB8",ge="QLwmD",he=(0,N.YK)({castOn:{id:"src/web/features/playback/components/ChromecastController/ChromecastController:castOn",defaultMessage:"Ready to cast"},castOnDevice:{id:"src/web/features/playback/components/ChromecastController/ChromecastController:castOnDevice",defaultMessage:"Ready to cast on {deviceName}"},playBegin:{id:"src/web/features/playback/components/ChromecastController/ChromecastController:playBegin",defaultMessage:"Play any title to begin casting"},errorCasting:{id:"src/web/features/playback/components/ChromecastController/ChromecastController:errorCasting",defaultMessage:"We experienced an error. Please try that again."},castLoading:{id:"src/web/features/playback/components/ChromecastController/ChromecastController:castLoading",defaultMessage:"Preparing your video"},castAd:{id:"src/web/features/playback/components/ChromecastController/ChromecastController:castAd",defaultMessage:"Your title will resume shortly"}}),ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.containerRef=(0,o.createRef)(),t}return(0,a.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props,a=n.deviceName,r=n.castPlayerState,i=n.seriesTitle,s=n.videoTitle,l=n.isAd,c=n.position,u=n.duration,d=n.seek,m=n.isMuted,f=n.volumeLevel,v=n.updateVolume,g=n.toggleVolumeMute,h=n.setCaptions,y=n.captionsIndex,A=n.captionsList,E=n.togglePlayPause,b=n.castVideoLoadError,C=n.castVideoLoading,S=n.captionsAvailable,w=n.captionSettings,R=n.isLive,P=n.getAudioTracks,I=n.setAudioTrack,M=n.getCurrentAudioTrack,_=window.chrome.cast.media.PlayerState,N=_.IDLE,L=_.PLAYING,D=_.BUFFERING;if(r===N)return o.createElement(Ee,{deviceName:a,error:!!b,loading:!!C});var x=r===L,O=r===D,B=T()(X,((e={})[Z]=!!R,e)),F=w.background.toggle,U={fontSize:w.font.size,backgroundToggle:F};return o.createElement("div",{key:"ccStatusBar",className:H,ref:this.containerRef},o.createElement(k.A,{className:z},o.createElement("div",{className:B},o.createElement("div",{className:me},l?o.createElement(Ce,null):o.createElement(be,{seriesTitle:i,videoTitle:s})),o.createElement("div",{className:J},R?null:o.createElement("div",{className:$},o.createElement("div",{key:"playPause",className:ae},x||O?o.createElement(V.vR,{onClick:E,className:oe}):o.createElement(V.jG,{onClick:E,className:oe}))),o.createElement("div",{className:ee},u&&c?o.createElement(W.A,{position:c,duration:u,isAd:l,seek:d,compactUiMode:!1,thumbnailSprites:p.ur7}):null),o.createElement("div",{className:T()(te,(t={},t[ne]=!!R,t))},o.createElement(Se,{isMuted:m,volumeLevel:f,updateVolume:v,toggleVolumeMute:g,setCaptions:h,captionsIndex:y,captionsList:A,captionsAvailable:S,basicCaptionSettings:U,containerRef:this.containerRef,getAudioTracks:P,setAudioTrack:I,getCurrentAudioTrack:M,isLive:R}))))))},t}(o.Component),Ae=ye,Ee=function(e){var t=e.deviceName,n=e.error,a=e.loading,r=(0,L.A)(),i=t?r.formatMessage(he.castOnDevice,{deviceName:t}):r.formatMessage(he.castOn),s=o.createElement("div",{className:q},o.createElement("div",{className:Q},i),o.createElement("div",{className:j},r.formatMessage(he.playBegin)));return(n||a)&&(s=o.createElement("div",{className:q},o.createElement("div",{className:Q},r.formatMessage(n?he.errorCasting:he.castLoading)))),o.createElement("div",{className:H},o.createElement(k.A,{className:z},s,o.createElement("div",{className:K},o.createElement("button",{class:G,is:"google-cast-button"}))))},be=function(e){var t=e.seriesTitle,n=void 0===t?"":t,a=e.videoTitle;return o.createElement("div",{className:fe},o.createElement("div",{className:Q},n||a),n?o.createElement("div",{className:j},a):null)},Ce=function(){return o.createElement("div",{className:ve},o.createElement("div",null,o.createElement(D.A,he.castAd)))},Se=function(e){function t(t){var n=e.call(this,t)||this;return n.hideVolumeRangeTimer=null,n.showVolumeRangeTimer=null,n.volumeRangeNodeRef=(0,o.createRef)(),n.showVolumeRange=function(){clearTimeout(n.hideVolumeRangeTimer),n.showVolumeRangeTimer=setTimeout((function(){n.state.showVolumeRange||n.setState({showVolumeRange:!0})}),200)},n.hideVolumeRange=function(){clearTimeout(n.showVolumeRangeTimer),n.hideVolumeRangeTimer=setTimeout((function(){n.state.showVolumeRange&&n.setState({showVolumeRange:!1})}),200)},n.handleCaptionSettingsToggle=function(e){if(n.setState({captionSettingsVisible:e}),e){var t=(0,h.Jw)((0,B.M)(),R.hs.SUBTITLE_AUDIO,"",R.pZ.SHOW);(0,E.sx)(m.NM,t)}},n.renderCaptionsControl=function(){var e=n.props,t=e.basicCaptionSettings,a=e.captionsList,r=e.captionsIndex,i=e.containerRef,s=e.setCaptions;if(e.captionsAvailable){var l={basicCaptionSettings:t,captionsList:a,captionsIndex:r,className:ge,getMenuContainer:function(){return i.current},iconClass:oe,isAd:!1,isFullscreen:!1,setCaptions:s,toggleDelay:Y.J,forceFullHeightMenu:!1,onToggle:n.handleCaptionSettingsToggle,visible:n.state.captionSettingsVisible,getAudioTracks:n.props.getAudioTracks,getCurrentAudioTrack:n.props.getCurrentAudioTrack,setAudioTrack:n.props.setAudioTrack,hideAdvancedSettings:!0,isCasting:!0};return o.createElement(U.A,(0,w.A)({key:"captions"},l))}},n.state={showVolumeRange:!1,captionSettingsVisible:!1},n}return(0,a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isMuted,n=e.volumeLevel,a=e.updateVolume,r=e.toggleVolumeMute,i=this.state.showVolumeRange,s={enter:le,enterActive:ce,exit:ue,exitActive:de};return o.createElement("div",{className:re},o.createElement("div",null,o.createElement("div",{className:pe},o.createElement(O.A,null))),o.createElement("span",{key:"volume",id:"volumeArea",className:ie,onMouseEnter:this.showVolumeRange,onMouseLeave:this.hideVolumeRange},o.createElement(M.A,{icon:t?o.createElement(P.A,{className:oe}):o.createElement(I.A,{className:oe}),onClick:r}),!t&&i?o.createElement(x.A,{key:"volumeRange",classNames:s,timeout:300,nodeRef:this.volumeRangeNodeRef},o.createElement("div",{className:se,ref:this.volumeRangeNodeRef},o.createElement(F.A,{min:1,max:100,value:100*n,onChanging:a,useRefresh:!0}))):null),this.renderCaptionsControl())},t}(o.PureComponent),we=n(69440),ke="TiEgM",Re=n(51622),Pe=b.Ay.isStagingOrAlpha,Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkCastAvailabilityTimeout=null,t.audioTracks=[],t.state={activeAudioTrackLabel:(0,l.s)(p.Jg4)||y.Jy.EN.main},t.checkCastAvailability=function(){window.hasOwnProperty("castApiAvailable")&&(!window.castApiAvailable||window.cast&&window.cast.framework)?window.castApiAvailable&&(t.props.dispatch((0,g.A)(d.YM_,{castApiAvailable:!0})),t.onCastApiAvailable()):t.checkCastAvailabilityTimeout=setTimeout(t.checkCastAvailability,100)},t.convertMediaTrackToAudioTrackInfo=function(e){var n,a={id:e.trackId,language:e.language,role:"description"===(null===(n=e.roles)||void 0===n?void 0:n[0])?"description":"main",active:!1,label:e.name};return a.active=t.state.activeAudioTrackLabel===a.label,a},t.processTracks=function(e){t.audioTracks=e.filter((function(e){return e.type===chrome.cast.media.TrackType.AUDIO})).map((function(e){return t.convertMediaTrackToAudioTrackInfo(e)}))},t.getAudioTracks=function(){return t.audioTracks},t.getCurrentAudioTrack=function(){return t.audioTracks.find((function(e){return e.label===t.state.activeAudioTrackLabel}))},t.setAudioTrack=function(e){var n,a=t.props,o=a.contentId,r=a.isLoggedIn,i=null===(n=t.castSession)||void 0===n?void 0:n.getMediaSession();if(!i)throw new Error("there is no media session during setting captions");var s=t.audioTracks[e];if(!s)throw new Error("No selected track found");var c=(0,y.DT)(s),u=(0,y.us)(s),d=(0,h.tm)(o,c,u);(0,E.sx)(m.Ix,d),(0,l.My)(p.Jg4,s.label,r?void 0:p.KmL);var f=["string"==typeof s.id?parseInt(s.id,10):s.id],v=new chrome.cast.media.EditTracksInfoRequest(f);return new Promise((function(e,n){i.editTracksInfo(v,(function(){t.setState({activeAudioTrackLabel:s.label}),e(s)}),(function(e){t.log("edit tracks error",e),n(e)}))}))},t.onCastApiAvailable=function(){var e,n=t.props.dispatch,a=window.cast,o=window.cast.framework.RemotePlayerEventType,r=o.CURRENT_TIME_CHANGED,i=o.PLAYER_STATE_CHANGED,s=o.VOLUME_LEVEL_CHANGED,l=o.IS_MUTED_CHANGED,c=o.MEDIA_INFO_CHANGED;t.playerControllerHandlers=((e={})[r]=function(e){var n=e.value;t.props.isAd||(t.props.dispatch((0,g.A)(d.hb2,{value:parseInt(n,10)})),t.checkShouldShowAutoPlay(parseInt(n,10)))},e[i]=function(e){var n=e.value;n&&t.props.dispatch((0,g.A)(d.F9D,{playerState:n}))},e[s]=function(e){var n=e.value;t.props.dispatch((0,g.A)(d.pxD,{volumeLevel:n}))},e[l]=function(e){var n=e.value;t.props.dispatch((0,g.A)(d._AW,{isMuted:!!n}))},e[c]=function(e){var n=e.value;if(n&&(n.tracks&&t.processTracks(n.tracks),n.customData)){var a=(n.customData.content||{}).contentId;t.props.contentId!==a&&(t.log("New content ID is casting: ".concat(a)),t.props.dispatch((0,g.A)(d.Hs9,{contentId:a})))}},e),t.castContext=a.framework.CastContext.getInstance();var u=t.castContext.getCastState();n((0,g.A)(d.P6b,{castState:u})),u===a.framework.CastState.CONNECTED&&t.onConnected(),t.castContext.addEventListener(a.framework.CastContextEventType.CAST_STATE_CHANGED,t.onCastStateChanged)},t.onCastStateChanged=function(e){var n=e.castState;(0,t.props.dispatch)((0,g.A)(d.P6b,{castState:n})),n===cast.framework.CastState.CONNECTED?t.onConnected():n===cast.framework.CastState.NOT_CONNECTED&&t.onDisconnected()},t.checkShouldShowAutoPlay=function(e){var n=t.props,a=n.autoPlayShowTime,o=n.dispatch,r=n.chromecastAutoplayVisible;e&&a&&e>=a&&!r&&o((0,c.XC)(!0))},t.autoplay=function(e){var n=e.contentId,a=e.isFromAutoplayAutomatic,o=e.isFromAutoplayDeliberate,r=e.isLive;(0,t.props.dispatch)((0,C.R)(n,{isFromAutoplayAutomatic:a,isFromAutoplayDeliberate:o,isLive:r,resumeFromCurrentPosition:!1})),(0,A.s)({type:we.E.AUTOPLAY_START})},t.initPlayerController=function(){var e,n,a,o;t.log("initPlayerController",t.playerController);var r=t.props,i=r.dispatch,s=r.isLive,l=window.cast,c=null===(e=t.castSession)||void 0===e?void 0:e.getMediaSession();if(!c)return t.log("Cannot find current media",c);t.log("detaching and reattaching ad listener"),c.removeUpdateListener(t.updateAdStatus),c.addUpdateListener(t.updateAdStatus),t.removePlayerController();var u=new l.framework.RemotePlayer,p=new l.framework.RemotePlayerController(u);t.playerController=p,t.log("new playerController",u,t.playerController);var m=u.playerState;m&&i((0,g.A)(d.F9D,{playerState:m})),t.log("attaching event handlers onto playerController");var f=t.playerControllerHandlers;if(f&&Object.keys(f).forEach((function(e){var t=f[e];t&&p.addEventListener(e,t)})),s){var v=null===(a=null===(n=c.customData)||void 0===n?void 0:n.content)||void 0===a?void 0:a.contentId;v&&t.props.contentId!==v&&t.props.dispatch((0,g.A)(d.Hs9,{contentId:v})),t.log("tracks",c.media.tracks),c.media.tracks&&(t.liveTrackId=null===(o=c.media.tracks.find((function(e){return"TEXT"===e.type})))||void 0===o?void 0:o.trackId)}},t.updateAdStatus=function(){var e,n=t.props,a=n.isAd,o=n.dispatch;if(!n.isLive){var r=(((null===(e=t.castSession)||void 0===e?void 0:e.getMediaSession())||{customData:void 0}).customData||{isPlayingAd:void 0}).isPlayingAd;void 0!==r&&(t.log("updateAdStatus. isPlayingAd:",r),r!==a&&o((0,g.A)(d.Ap7,{isAd:r})))}},t.getAutoPlayStatus=function(){var e=t.props.isFromAutoplay,n=v.Ay.getState().fromAutoplayDeliberate;return{isFromAutoplayDeliberate:!(!e||!n),isFromAutoplayAutomatic:!(!e||n)}},t.onConnected=function(){t.log("On connected");var e=t.props,n=e.currentPageContentId,a=e.dispatch,o=e.isVideoPage,r=e.isLive,i=t.getAutoPlayStatus(),s=i.isFromAutoplayAutomatic,l=i.isFromAutoplayDeliberate;if(!t.castContext)throw new Error("there is no cast context when connected");var c=t.castContext.getCurrentSession();if(!c)throw new Error("there is no cast session when connected");t.castSession=c;var u=t.castSession.getCastDevice(),p=u.friendlyName,m=u.volume,f=m.muted,v=m.level;a((0,g.A)(d.h5t,{deviceName:p,isMuted:f,volumeLevel:v})),t.castSession.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,t.onMediaSession);var h=t.castSession.getMediaSession();if(h)return t.joinMediaSession(h);o&&(t.log("Video page detected, cast contentId:",n),a((0,C.R)(n,{isFromAutoplayAutomatic:s,isFromAutoplayDeliberate:l,isLive:r,resumeFromCurrentPosition:!0})))},t.onMediaSession=function(e){var n,a,o=(e||{}).mediaSession.media;if(o&&!o.contentId&&!(null===(a=null===(n=o.customData)||void 0===n?void 0:n.content)||void 0===a?void 0:a.contentId))return t.log("Media session has no contentId, ignore media_session event",e);t.initPlayerController()},t.joinMediaSession=function(e){t.log("joining session",e),t.props.dispatch((0,g.A)(d.hb2,{value:e.getEstimatedTime()})),t.initPlayerController()},t.onDisconnected=function(){t.log("on disconnected"),t.removePlayerController(),t.removeCastSession()},t.seek=function(e){var n;t.log("seek to",e);var a=null===(n=t.castSession)||void 0===n?void 0:n.getMediaSession();if(!a)throw new Error("there is no media session during seeking");var o=new window.chrome.cast.media.SeekRequest;o.currentTime=e,a.seek(o,(function(){t.log("Seeked to ",e)}),(function(n){return t.log("Error seeking to ",e,n)}))},t.updateVolume=function(e){var n;t.log("UPDATE VOLUME",e/100);var a=null===(n=t.castSession)||void 0===n?void 0:n.getMediaSession();if(!a)throw new Error("there is no media session during updating volume");var o=e/100,r=new window.chrome.cast.Volume(o),i=new window.chrome.cast.media.VolumeRequest(r);a.setVolume(i,(function(){t.props.dispatch((0,g.A)(d.pxD,{volumeLevel:o}))}),t.log)},t.toggleVolumeMute=function(){t.playerController&&t.playerController.muteOrUnmute()},t.setCaptions=function(e){var n,a=t.props,o=a.dispatch,r=a.isLive,i=[];e>0&&(r&&t.liveTrackId?i.push(t.liveTrackId):i.push(e));var s=null===(n=t.castSession)||void 0===n?void 0:n.getMediaSession();if(!s)throw new Error("there is no media session during setting captions");var l=new window.chrome.cast.media.TextTrackStyle;l.foregroundColor="#FFFFFFFF",l.backgroundColor="#00000099",l.fontScale=.8;var c=new window.chrome.cast.media.EditTracksInfoRequest(i,l);s.editTracksInfo(c,(function(){return o((0,g.A)(d.IV$,{captionsIndex:e}))}),(function(e){return t.log("edit tracks error",e)}))},t.togglePlayPause=function(){t.playerController&&t.playerController.playOrPause()},t.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Pe&&console.log.apply(console,(0,a.__spreadArray)(["## chromecast sender-"],e,!1))},t}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){setTimeout((function(){window.castApiAvailable||(window.castApiAvailable=!1)}),6e4),this.checkCastAvailabilityTimeout=setTimeout(this.checkCastAvailability,100)},t.prototype.componentDidUpdate=function(e){var t=e.contentId,n=this.props,a=n.contentId,o=n.dispatch;t!==a&&(o((0,u.mo)(a)),this.initPlayerController())},t.prototype.componentWillUnmount=function(){var e,t;clearTimeout(this.checkCastAvailabilityTimeout),null===(t=null===(e=this.castSession)||void 0===e?void 0:e.getMediaSession())||void 0===t||t.removeUpdateListener(this.updateAdStatus),this.removePlayerController(),this.removeCastSession(),this.removeCastContext()},t.prototype.removeCastContext=function(){var e;null===(e=this.castContext)||void 0===e||e.removeEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.onCastStateChanged),delete this.castContext},t.prototype.onAutoplayContentLoaded=function(e,t){var n=e[0];(0,A.s)({type:we.E.AUTOPLAY_SHOW,data:{video:n,timeLeft:t}})},t.prototype.onAutoplayPause=function(){(0,A.s)({type:we.E.AUTOPLAY_PAUSE})},t.prototype.onAutoplayResume=function(){(0,A.s)({type:we.E.AUTOPLAY_RESUME})},t.prototype.removePlayerController=function(){var e=this.playerController,t=this.playerControllerHandlers;e&&(this.log("removing event handlers off playerController"),t&&Object.keys(t).forEach((function(n){var a=t[n];a&&e.removeEventListener(n,a)})),delete this.playerController)},t.prototype.removeCastSession=function(){var e;null===(e=this.castSession)||void 0===e||e.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.onMediaSession),delete this.castSession},t.prototype.render=function(){var e=this.props,t=e.castReceiverState,n=e.castApiAvailable,a=e.castPlayerState,r=e.deviceName,i=e.seriesTitle,l=e.videoTitle,c=e.position,u=e.duration,d=e.isMuted,p=e.volumeLevel,m=e.isAd,f=e.captionsIndex,v=e.captionsList,g=e.castVideoLoading,h=e.castVideoLoadError,y=e.captionsAvailable,A=e.contentId,E=e.isSeries,b=e.isFromAutoplay,C=e.chromecastAutoplayVisible,w=e.isLive,k=e.captionSettings,R=e.intl;if(!n||!(0,s.br)(t))return null;var P=a===window.chrome.cast.media.PlayerState.PAUSED,I=w?(0,Re.m)(v,R):v;return o.createElement(o.Fragment,null,C&&o.createElement("div",{className:ke},o.createElement(S.A,{id:A,isEpisode:E,videoPaused:P,isFromAutoplay:b,onAutoplay:this.autoplay,onPause:this.onAutoplayPause,onResume:this.onAutoplayResume,onAutoplayContentLoaded:this.onAutoplayContentLoaded,contentLimit:1,compactAutoplayUiMode:!1})),o.createElement(Ae,{deviceName:r,castPlayerState:a,seriesTitle:i,videoTitle:l,position:c,duration:u,seek:this.seek,updateVolume:this.updateVolume,toggleVolumeMute:this.toggleVolumeMute,togglePlayPause:this.togglePlayPause,setCaptions:this.setCaptions,captionsIndex:f,captionsList:I,getAudioTracks:this.getAudioTracks,getCurrentAudioTrack:this.getCurrentAudioTrack,setAudioTrack:this.setAudioTrack,isMuted:d,volumeLevel:p,isAd:m,castVideoLoading:g,castVideoLoadError:h,captionsAvailable:y,isLive:w,captionSettings:k}))},t}(o.Component),Me=function(e){var t=e.auth,n=e.chromecast,a=e.routing,o=e.video.byId,r=e.ui.chromecastAutoplayVisible,i=e.captionSettings,s=e.player.captions.captionsList,l=n.castReceiverState,c=n.castApiAvailable,u=n.contentId,d=n.deviceName,p=n.position,m=n.isMuted,v=n.castPlayerState,g=n.isAd,h=n.captionsIndex,y=n.volumeLevel,A=n.castVideoLoading,E=n.castVideoLoadError,b=o[u]||{},C=b.title,S=b.duration,w=b.has_subtitle,k=b.credit_cuepoints,R=void 0===k?{}:k,P="",I=!1;b.series_id&&(P=(o["0".concat(b.series_id)]||{}).title,I=!0);var M="undefined"==typeof window?[]:window.location.pathname.split("/").filter(Boolean),_=["tv-shows","movies","video","live"].indexOf(M[0])>=0,T=["live"].indexOf(M[0])>=0,N="";_&&(N=M[1]);var L=(a&&a._unsafeLocationBeforeTransitions&&a._unsafeLocationBeforeTransitions.query||{}).autoplay,D=void 0===L?null:L,x=R.postlude||S-1;return{isFromAutoplay:!!D,castApiAvailable:c,castReceiverState:l,castPlayerState:v,deviceName:d,seriesTitle:P,videoTitle:C,captionsAvailable:!!w,position:p,duration:S,isMuted:m,volumeLevel:y,isAd:g,captionsList:s,captionsIndex:h,castVideoLoading:A,castVideoLoadError:E,contentId:u,isVideoPage:_,currentPageContentId:N,autoplayContents:(0,f.VL)(e,u),isSeries:I,autoPlayShowTime:x,chromecastAutoplayVisible:r,isLive:T,captionSettings:i,isLoggedIn:!(!t||!t.user)}},_e=(0,i.Ng)(Me)((0,r.Ay)(Ie)),Te=Ie,Ne=_e},20970:function(e,t,n){"use strict";n.d(t,{A:function(){return H}});var a=n(58168),o=n(51114),r=n(32485),i=n.n(r),s=n(7350),l=n.n(s),c=n(96540),u=n(69680),d=n(56488),p=n(33995),m=n(66080),f=n(10619),v=n(43955),g=n(33642),h=n(48902),y=n(2543),A=n(15215),E=n(17468),b=n(7177),C="dOUbG",S="EA4QM",w="vCxAh",k="UXsyO",R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={backgroundImage:"none",backgroundPosition:"-1px bottom"},t.updateThumbnailBackground=l()((function(){var e=t.props,n=e.indicatorPosition,a=e.duration,o=e.thumbnailSprites["".concat(b.p5,"x")]||{},r=o.count_per_sprite,i=void 0===r?1:r,s=o.frame_width,l=void 0===s?120:s,c=o.sprites,u=void 0===c?[]:c;if(t.isComponentMounted&&0!==u.length){var d=function(e){var t=e.position,n=e.duration,a=e.countPerSprite,o=e.interval,r=Math.floor(n/o)-1,i=Math.min(Math.floor(t/o),r);return{spriteIndex:Math.floor(i/a),thumbnailIndex:i%a}}({position:n,duration:a,countPerSprite:i,interval:5}),p=d.spriteIndex,m=d.thumbnailIndex;t.setState({backgroundImage:(0,E.iw)(u[p]),backgroundPosition:"-".concat(m*l+1,"px bottom")})}}),200),t.isComponentMounted=!1,t.handleClick=function(e){var n=t.props.handleClick;null==n||n(e)},t}return(0,A.__extends)(t,e),t.prototype.componentDidMount=function(){this.isComponentMounted=!0,this.updateThumbnailBackground()},t.prototype.componentDidUpdate=function(e){e.indicatorPosition!==this.props.indicatorPosition&&this.updateThumbnailBackground()},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1},t.prototype.render=function(){var e,t,n=this.props,a=n.duration,r=n.indicatorPosition,s=n.isAnimated,l=n.isShowText,u=n.positionOffset,d=n.positionWidth,p=n.thumbnailSprites["".concat(b.p5,"x")]||{},m=p.frame_width,f=void 0===m?120:m,v=p.height,g=void 0===v?0:v,y=p.sprites,A=void 0===y?[]:y,E=this.state,R=E.backgroundImage,P=E.backgroundPosition,I=f/2,M=d>0?I/d:0,_=1-M,T=r/a;if(T=(0,o.clamp)(T,M,_),Array.isArray(u)){var N=(u[0]+I)/d,L=(u[1]-I)/d;T=(0,o.clamp)(T,N,L)}var D=a>0?"".concat(100*T,"%"):0,x=r?(0,h.Xd)(r):"00:00";return 0!==A.length||l?0===A.length?c.createElement("span",{ref:this.props.nodeRef,className:k,style:{left:D}},x):c.createElement("div",{ref:this.props.nodeRef,className:i()(C,(e={},e[S]=s,e)),onClick:this.handleClick,style:{height:"".concat(g+2,"px"),left:D,width:"".concat(f,"px")}},c.createElement("div",{className:i()(w,(t={},t[S]=s,t)),style:{backgroundImage:R,backgroundPosition:P}}),l?c.createElement("span",{className:k},x):null):null},t}(c.PureComponent),P=R,I=n(81409),M="nmb7c",_="Ud9YL",T="UoV2V",N="kOpji",L="SIG6O",D="yDQuj",x="RDBql",O="QW6WE",V="YyvkS",B="fMfuT",F="SnXT0",U="qAZ1z",W="FSR1C",Y={enter:"FGRwh",enterActive:"VgCn6",exit:"nX8hJ",exitActive:"nyVJ9"},H=function(e){var t,n,r=e.seek,s=e.thumbnailSprites,A=(e.adBreaks,e.compactUiMode),E=(0,f.A)(p.Ay);(0,c.useEffect)((function(){E.logExposure()}),[E]);var b=E.getValue(),C=(0,m.A)(I.ZU),S=(0,m.A)(I.ch),w=(0,m.A)(I.Rt),k=(0,m.A)(I.Ll),R=(0,m.A)(v.MH),H=function(){var e=(0,c.useRef)(null),t=(0,c.useState)(0),n=t[0],a=t[1],o=(0,c.useState)(0),r=o[0],i=o[1];return(0,c.useEffect)((function(){var t=(0,y.debounce)((function(){if(e.current){var t=e.current.getBoundingClientRect();a(t.left),i(t.width)}}),50);return(0,g.q2)(window,"resize",t),t(),function(){(0,g.f)(window,"resize",t),t.cancel()}}),[]),{timelineElRef:e,left:n,width:r}}(),z=H.timelineElRef,K=H.left,G=H.width,q=(0,c.useState)(!1),Q=q[0],j=q[1],X=(0,c.useState)(!1),Z=X[0],J=X[1],$=(0,c.useState)(-1),ee=$[0],te=$[1],ne=(0,c.useState)(w),ae=ne[0],oe=ne[1],re=c.useRef(),ie=c.useRef(),se=(0,c.useCallback)((function(e){var t=(0,o.clamp)((e-K)/G,0,1);return Math.floor(t*S)}),[K,G,S]),le=(0,c.useCallback)((function(){r(ee)}),[ee,r]),ce=(0,c.useCallback)((function(e){e.stopPropagation(),k||re.current||r(se(e.clientX))}),[k,r,se]),ue=(0,c.useCallback)((function(){Z||k||(ie.current&&(clearTimeout(ie.current),ie.current=void 0),te(-1))}),[k,Z]),de=(0,c.useCallback)((function(e){var t=e.clientX;k||(ue(),J(!0),oe(se(t)))}),[k,ue,se]),pe=(0,c.useCallback)((function(e){var t,n=e.touches;if(!k){var a=null===(t=n[0])||void 0===t?void 0:t.clientX;void 0!==a&&(te(se(a)),j(!0))}}),[k,se]),me=(0,c.useCallback)((function(e){var t=e.clientX;Z||k||(ie.current=setTimeout((function(){ie.current=void 0,te(se(t))}),200))}),[Z,k,se]),fe=(0,c.useCallback)((function(e){var t=e.clientX;Z||k||ie.current||te(se(t))}),[Z,k,se]),ve=(0,c.useCallback)(l()((function(e){fe(e)}),50,{leading:!0,trailing:!0}),[fe]);(0,c.useEffect)((function(){return function(){ve.cancel()}}),[ve]),(0,c.useEffect)((function(){if(!R){var e=function(e){var t=e.clientX;if(Z&&!k){var n=se(t);oe(n)}};return(0,g.q2)(window,"mousemove",e),function(){(0,g.f)(window,"mousemove",e)}}}),[Z,k,se,R]),(0,c.useEffect)((function(){if(!R){var e=function(e){var t=e.clientX;Z&&!k&&(J(!1),r(se(t)),re.current=setTimeout((function(){re.current=void 0}),0))};return(0,g.q2)(window,"mouseup",e),function(){(0,g.f)(window,"mouseup",e)}}}),[Z,k,r,se,R]),(0,c.useEffect)((function(){if(R){var e=function(e){var t,n=e.touches;if(!k){var a=null===(t=n[0])||void 0===t?void 0:t.clientX;void 0!==a&&Q&&te(se(a))}};return(0,g.q2)(window,"touchmove",e),function(){(0,g.f)(window,"touchmove",e)}}}),[k,Q,se,R]),(0,c.useEffect)((function(){var e=function(){k||Q&&(r(ee),te(-1),j(!1))};return(0,g.q2)(window,"touchend",e),function(){(0,g.f)(window,"touchend",e)}}),[k,Q,ee,r]);var ge=Z?ae:w,he=S>0&&void 0!==C?parseFloat((C/S).toFixed(4)):0,ye="".concat(100*he,"%"),Ae=S>0?parseFloat((ee/S).toFixed(4)):0,Ee="".concat(100*Ae,"%"),be=S>0?parseFloat((ge/S).toFixed(4)):0,Ce="".concat(100*be,"%"),Se=!k&&ee>=0&&!A,we=i()(M,((t={})[U]=!!k,t[W]=A,t)),ke=R?{onTouchStart:pe}:{onMouseEnter:me,onMouseMove:b?ve:fe,onMouseLeave:ue},Re=(0,c.useRef)(null);return c.createElement("div",(0,a.A)({className:we},ke),c.createElement("div",{className:_},c.createElement("span",{className:T},ge?(0,h.Xd)(ge):"00:00"),c.createElement(u.A,{component:"div",className:N},Se?c.createElement(d.A,{key:"thumbnailPreview",classNames:Y,timeout:300,nodeRef:Re},c.createElement(P,{nodeRef:Re,duration:S,handleClick:le,indicatorPosition:ee,isAnimated:!0,isShowText:!0,key:"thumbnailPreview",positionWidth:G,thumbnailSprites:s})):null),c.createElement("span",{className:T},S?(0,h.Xd)(S):"00:00")),c.createElement("div",{className:L,onClick:R?void 0:ce,ref:z},c.createElement("div",{className:D},C?c.createElement("div",{className:x,style:{width:ye}}):null,!k&&ee>=0?c.createElement("div",{className:O,style:{width:Ee}}):null,c.createElement("div",{className:V,style:{width:Ce}}),null),k?null:c.createElement("span",{className:i()(B,(n={},n[F]=Z,n)),style:{left:Ce},onMouseDown:R?void 0:de})))}},27852:function(e,t,n){"use strict";n.d(t,{J:function(){return ne},A:function(){return re}});var a=n(58168),o=n(15215),r=n(70853),i=n(2424),s=n(50004),l=n(25628),c=n(92427),u=n(52337),d=n(96540),p=(0,d.memo)((function(e){return d.createElement("svg",(0,o.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",role:"img"},e),d.createElement("path",{stroke:"#fff",strokeWidth:2,d:"M4 9V7a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3h-3"}),d.createElement("rect",{width:10,height:8,x:3,y:12,fill:"#fff",stroke:"#fff",strokeWidth:2,rx:2}))})),m=(0,d.memo)((function(e){return d.createElement("svg",(0,o.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",role:"img"},e),d.createElement("mask",{id:"path-1-inside-1_14156_1563",fill:"#fff"},d.createElement("path",{fillRule:"evenodd",d:"M7 4a3 3 0 0 0-3 3v2h8a4 4 0 0 1 4 4v5h3a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z",clipRule:"evenodd"})),d.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 4a3 3 0 0 0-3 3v2h8a4 4 0 0 1 4 4v5h3a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z",clipRule:"evenodd"}),d.createElement("path",{fill:"#fff",d:"M4 9H2v2h2zm12 9h-2v2h2zM6 7a1 1 0 0 1 1-1V2a5 5 0 0 0-5 5zm0 2V7H2v2zm-2 2h8V7H4zm8 0a2 2 0 0 1 2 2h4a6 6 0 0 0-6-6zm2 2v5h4v-5zm5 3h-3v4h3zm1-1a1 1 0 0 1-1 1v4a5 5 0 0 0 5-5zm0-8v8h4V7zm-1-1a1 1 0 0 1 1 1h4a5 5 0 0 0-5-5zM7 6h12V2H7z",mask:"url(#path-1-inside-1_14156_1563)"}),d.createElement("rect",{width:10,height:8,x:3,y:12,stroke:"#fff",strokeWidth:2,rx:2}))})),f=n(56629),v=n(34843),g=(0,d.memo)((function(e){return d.createElement("svg",(0,o.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none","data-test-id":"icons-pause",viewBox:"0 0 24 24",role:"img"},e),d.createElement("title",null,"Pause Icon"),d.createElement("path",{fill:"currentColor",d:"M8.5 21h-2c-.825 0-1.5-.675-1.5-1.5v-15C5 3.675 5.675 3 6.5 3h2c.825 0 1.5.675 1.5 1.5v15c0 .825-.675 1.5-1.5 1.5M17.5 21h-2c-.825 0-1.5-.675-1.5-1.5v-15c0-.825.675-1.5 1.5-1.5h2c.825 0 1.5.675 1.5 1.5v15c0 .825-.675 1.5-1.5 1.5"}))})),h=n(39178),y=(0,d.memo)((function(e){return d.createElement("svg",(0,o.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none","data-test-id":"icons-back-30",viewBox:"0 0 24 24",role:"img"},e),d.createElement("title",null,"Back 30 Icon"),d.createElement("path",{fill:"currentColor",d:"M13 4h-1V2.729a.7.7 0 0 0-1.053-.604L7.061 4.396c-.027.016-.037.044-.061.062v-1.73a.7.7 0 0 0-1.053-.604L2.061 4.396a.7.7 0 0 0 0 1.209l3.885 2.271A.7.7 0 0 0 7 7.271v-1.73c.024.019.034.047.061.063l3.885 2.271A.7.7 0 0 0 12 7.271V6h1c3.859 0 7 3.14 7 7s-3.141 7-7 7-7-3.14-7-7a1 1 0 1 0-2 0c0 4.962 4.037 9 9 9s9-4.038 9-9-4.037-9-9-9Z"}),d.createElement("path",{fill:"currentColor",d:"M15.502 16.431c-.613-.007-2.007-.248-2.042-2.334v-2.184c.034-2.078 1.424-2.331 2.02-2.345.62.013 2.002.266 2.055 2.328v2.189c-.053 2.1-1.44 2.34-2.033 2.346m-.022-5.576c-.268.006-.716.016-.733 1.069v2.163c.017 1.05.461 1.055.754 1.058.279-.003.72-.008.747-1.074v-2.148c-.029-1.051-.474-1.061-.768-1.068M12.518 13.511a1.719 1.719 0 0 0-.54-.627c.235-.178.405-.382.506-.608.095-.248.144-.51.144-.778a2.063 2.063 0 0 0-.531-1.384c-.364-.4-.859-.607-1.476-.613a1.762 1.762 0 0 0-1.264.541 2.075 2.075 0 0 0-.61 1.31l-.009.094h1.097l.014-.068c.055-.256.162-.447.319-.568.15-.121.31-.18.489-.18a.861.861 0 0 1 .619.247.906.906 0 0 1 .248.64c0 .26-.078.464-.239.626-.161.166-.384.247-.681.247h-.407v1.019h.484c.268 0 .482.081.653.248.176.173.264.413.269.732-.005.315-.093.549-.271.718a.835.835 0 0 1-.63.265c-.235 0-.417-.063-.558-.194a1.272 1.272 0 0 1-.33-.512l-.021-.056H8.7l.018.101c.105.576.338 1.022.694 1.328.356.307.771.462 1.234.462.595-.007 1.089-.206 1.469-.591.387-.378.586-.899.592-1.55 0-.294-.063-.579-.189-.849"}))})),A=(0,d.memo)((function(e){return d.createElement("svg",(0,o.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none","data-test-id":"icons-forward-30",viewBox:"0 0 24 24",role:"img"},e),d.createElement("title",null,"Forward 30 Icon"),d.createElement("g",{fill:"currentColor",clipPath:"url(#clip0_9_2337)"},d.createElement("path",{d:"M11 4h1V2.729a.7.7 0 0 1 1.053-.604l3.885 2.271c.028.016.038.044.062.062v-1.73a.7.7 0 0 1 1.053-.604l3.885 2.271a.7.7 0 0 1 0 1.209l-3.885 2.271A.7.7 0 0 1 17 7.271v-1.73c-.024.018-.034.047-.061.062l-3.885 2.271A.7.7 0 0 1 12 7.271V6h-1c-3.859 0-7 3.14-7 7s3.141 7 7 7 7-3.14 7-7a1 1 0 1 1 2 0c0 4.962-4.037 9-9 9s-9-4.038-9-9 4.037-9 9-9Z"}),d.createElement("path",{d:"M13.602 16.431c-.613-.007-2.007-.248-2.042-2.334v-2.184c.034-2.078 1.424-2.331 2.02-2.345.62.013 2.002.266 2.055 2.328v2.189c-.053 2.1-1.44 2.34-2.033 2.346m-.022-5.576c-.268.006-.716.016-.733 1.069v2.163c.017 1.05.461 1.055.754 1.058.28-.003.72-.008.747-1.074v-2.148c-.029-1.051-.474-1.061-.768-1.068M10.618 13.511a1.719 1.719 0 0 0-.54-.627c.235-.178.405-.382.506-.608.096-.248.144-.51.144-.778a2.063 2.063 0 0 0-.531-1.384c-.363-.401-.859-.607-1.475-.614a1.762 1.762 0 0 0-1.264.541 2.075 2.075 0 0 0-.61 1.31l-.009.094h1.097l.014-.068c.055-.256.162-.447.319-.568.15-.121.31-.18.49-.18a.861.861 0 0 1 .618.247.906.906 0 0 1 .248.64c0 .26-.078.464-.239.626-.16.166-.384.247-.68.247h-.407v1.019h.484c.268 0 .482.081.653.248.176.173.264.413.269.732-.005.315-.093.549-.271.718a.835.835 0 0 1-.63.265c-.235 0-.417-.063-.558-.194a1.272 1.272 0 0 1-.33-.512l-.021-.056H6.8l.018.101c.105.576.338 1.022.694 1.328.356.306.771.462 1.234.462.595-.007 1.09-.206 1.469-.591.387-.378.586-.899.592-1.55a1.99 1.99 0 0 0-.189-.848"})),d.createElement("defs",null,d.createElement("clipPath",{id:"clip0_9_2337"},d.createElement("path",{fill:"currentColor",d:"M0 0h24v24H0z"}))))})),E=n(94301),b=n(76095),C=n(57439),S=n(93031),w=n(32485),k=n.n(w),R=n(7350),P=n.n(R),I=n(41811),M=n(72267),_=n(58065),T=n(38798),N=n(56488),L=n(2833),D=n.n(L),x=n(10685),O=function(e){return d.createElement(x.A,(0,a.A)({viewBox:"0 0 40 40"},e,{role:"img"}),d.createElement("title",null,"Fullscreen"),d.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"matrix(-1 0 0 1 40 0)"},d.createElement("path",{fill:"currentColor",d:"M32 21v-9H8v16h15v-7h9zM6 11.99C6 10.892 6.9 10 7.991 10H32.01c1.1 0 1.991.898 1.991 1.99v16.02c0 1.099-.9 1.99-1.991 1.99H7.99C6.891 30 6 29.102 6 28.01V11.99z"}),d.createElement("path",{stroke:"currentColor",strokeOpacity:".1",strokeWidth:"1",d:"M22.5 27.5v.5l.5-.5h-.5zm-14 0H8l.5.5v-.5zm0-15V12l-.5.5h.5zm23 0h.5l-.5-.5v.5zm0 8v.5l.5-.5h-.5zm0 0h-9v7h-14v-15h23v8zm-26-8.51A2.496 2.496 0 0 1 7.991 9.5H32.01a2.495 2.495 0 0 1 2.491 2.49v16.02a2.496 2.496 0 0 1-2.491 2.49H7.99A2.495 2.495 0 0 1 5.5 28.01V11.99z"})))},V=function(e){return d.createElement(x.A,(0,a.A)({viewBox:"0 0 40 40"},e,{role:"img"}),d.createElement("title",null,"Fullscreen Disable"),d.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},d.createElement("path",{fill:"currentColor",d:"M8,27 L8,28 L15,28 L15,26 L10,26 L10,21 L8,21 L8,27 Z M34,11.9907951 L34,28.0092049 C34,29.1017876 33.1084896,30 32.0087557,30 L7.99124431,30 C6.89989752,30 6,29.1086907 6,28.0092049 L6,11.9907951 C6,10.8982124 6.89151044,10 7.99124431,10 L32.0087557,10 C33.1001025,10 34,10.8913093 34,11.9907951 Z"}),d.createElement("path",{stroke:"currentColor",strokeOpacity:"0.1",strokeWidth:"1",d:"M8.5,21.5 L8.5,21 L8,21.5 L8.5,21.5 Z M9.5,21.5 L10,21.5 L9.5,21 L9.5,21.5 Z M14.5,26.5 L15,26.5 L14.5,26 L14.5,26.5 Z M14.5,27.5 L14.5,28 L15,27.5 L14.5,27.5 Z M8.5,27.5 L8,27.5 L8.5,28 L8.5,27.5 Z M8.5,21.5 L9.5,21.5 L9.5,26.5 L14.5,26.5 L14.5,27.5 L8.5,27.5 L8.5,21.5 Z M34.5,11.9907951 L34.5,28.0092049 C34.5,29.3800719 33.3824958,30.5 32.0087557,30.5 L7.99124431,30.5 C6.6212083,30.5 5.5,29.3822965 5.5,28.0092049 L5.5,11.9907951 C5.5,10.6199281 6.61750422,9.5 7.99124431,9.5 L32.0087557,9.5 C33.3787917,9.5 34.5,10.6177035 34.5,11.9907951 Z"})))},B=n(52691),F=n(61950),U=n(30946),W=n(40962),Y=n(66080),H=n(52591),z=n(43955),K=n(67409),G=n(33642),q=n(41013),Q=n(30485),j=n(92656),X=n(93705),Z=n(96573),J=n(81409),$=n(94838),ee=(0,M.YK)({play:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:play",defaultMessage:"Play"},pause:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:pause",defaultMessage:"Pause"},stepRewind:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:stepRewind",defaultMessage:"Rewind 30s"},stepForward:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:stepForward",defaultMessage:"Forward 30s"},closeFullscreen:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:closeFullscreen",defaultMessage:"Close Fullscreen"},goFullscreen:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:goFullscreen",defaultMessage:"Go Fullscreen"},cast:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:cast",defaultMessage:"Play on TV"},videoQuality:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:videoQuality",defaultMessage:"Video Quality"},pictureInPicture:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:pictureInPicture",defaultMessage:"Picture In Picture"}}),te={enter:$.A.fadeEnter,enterActive:$.A.fadeEnterActive,exit:$.A.fadeLeave,exitActive:$.A.fadeLeaveActive},ne=200,ae=function(e,t){var n=function(e,t,n){return"position"===n||void 0};return D()(e[0],t[0],n)&&D()(e[1],t[1],n)},oe=function(e){function t(t){var n=e.call(this,t)||this;return n.showVolumeRangeTimer=0,n.hideVolumeRangeTimer=0,n.showQualityListTimer=0,n.hideQualityListTimer=0,n._volumeChangedByUser=!1,n._volumeMuteChangedByUser=!1,n._isMutedBeforeAd=!1,n._volumeBeforeAd=0,n.qualityListRef=(0,d.createRef)(),n._cachedIconComponents={fullScreen:d.createElement(O,{className:$.A.icon}),fullScreenDisable:d.createElement(V,{className:$.A.icon})},n.volumeRangeRef=(0,d.createRef)(),n.handleKeyboardEvent=function(e){var t;n.props.qualitySettingsVisible&&(e.keyCode===U.P$.tab&&e.target instanceof HTMLElement&&!(null===(t=n.qualityListRef.current)||void 0===t?void 0:t.contains(e.target))||e.keyCode===U.P$.escape)&&n.props.handleQualitySettingsToggle(!1)},n.handleResize=function(){var e=n.state.useMobileDesign,t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);!e&&t<=960&&n.setState({useMobileDesign:!0}),e&&t>960&&n.setState({useMobileDesign:!1})},n.showVolumeRange=function(){window.clearTimeout(n.hideVolumeRangeTimer),n.showVolumeRangeTimer=window.setTimeout((function(){n.state.showVolumeRange||n.setState({showVolumeRange:!0})}),ne)},n.hideVolumeRange=function(){window.clearTimeout(n.showVolumeRangeTimer),n.hideVolumeRangeTimer=window.setTimeout((function(){n.state.showVolumeRange&&n.setState({showVolumeRange:!1})}),ne)},n.toggleFullscreen=function(){n.props.requestFullscreen(!n.props.isFullscreen)},n.handleAdvancedSettingsClick=function(){var e,t=n.props,a=t.pause,o=t.position,r=t.isLoggedIn;a();var s=(0,K.k6)({pathname:(0,q.M)(),userInteraction:"CONFIRM",component:"BUTTON",buttonType:c.V.TEXT,buttonValue:"advanced_subtitles"});if((0,Q.sx)(F.gn,s),!r){/startPos=\d+/.test("".concat(window.location))||window.history.replaceState(null,"",(0,i.addQueryStringToUrl)(window.location.href,((e={})[B.$N2]=o,e)))}},n.handleClickStepRewind=function(e){e.stopPropagation(),n.props.stepRewind()},n.handleClickStepForward=function(e){e.stopPropagation(),n.props.stepForward()},n.toggleVolumeMute=function(){n._volumeMuteChangedByUser=!0,n.props.toggleVolumeMute()},n.showQualityList=function(){window.clearTimeout(n.hideQualityListTimer),n.showQualityListTimer=window.setTimeout((function(){n.props.qualitySettingsVisible||n.props.handleQualitySettingsToggle(!0)}),ne)},n.hideQualityList=function(){window.clearTimeout(n.showQualityListTimer),n.hideQualityListTimer=window.setTimeout((function(){n.props.qualitySettingsVisible&&n.props.handleQualitySettingsToggle(!1)}),ne)},n.handleClickQualityIcon=function(e){e.stopPropagation(),n.showQualityList()},n.handleClickQuality=function(e){var t;e.stopPropagation();var a=parseInt(null!==(t=e.target.dataset.index)&&void 0!==t?t:"0",10);n.props.setQuality(a)},n.handleQualityChange=function(e){n.props.setQuality(e)},n.stopPropagation=function(e){e.stopPropagation()},n.renderExtraControls=(0,I.A)((function(e,t){var o,r=e.basicCaptionSettings,i=e.captionsList,s=e.captionsIndex,l=e.containerRef,c=e.handleCaptionBackgroundChange,g=e.handleCaptionSizeChange,h=e.handleCaptionSettingsToggle,y=e.captionsSettingsVisible,A=e.qualitySettingsVisible,E=e.intl,b=e.isAd,S=e.qualityList,w=e.qualityIndex,R=e.setCaptions,P=e.getAudioTracks,I=e.getCurrentAudioTrack,M=e.setAudioTrack,_=e.isFullscreen,T=e.showPIPButton,N=e.pipEnabled,L=e.togglePictureInPicture,D=t.useMobileDesign,x=[],O=!b&&S.length>1&&!n.props.compactUiMode;if(!b&&i.length>1&&!n.props.compactUiMode){var V={basicCaptionSettings:r,captionsList:i,captionsIndex:s,className:$.A.extraControl,getMenuContainer:function(){return(0,G.Kn)()||l.current},handleAdvancedSettingsClick:n.handleAdvancedSettingsClick,handleCaptionBackgroundChange:c,handleCaptionSizeChange:g,iconClass:$.A.icon,isAd:b,isFullscreen:_,setCaptions:R,toggleDelay:ne,forceFullHeightMenu:D&&!_,onToggle:h,visible:y,getAudioTracks:P,getCurrentAudioTrack:I,setAudioTrack:M};x.push(d.createElement(X.A,(0,a.A)({key:"captions"},V)))}return O&&x.push(d.createElement("span",{key:"quality",id:"qualityArea",className:k()($.A.extraControl,(o={},o[$.A.extraControlActive]=w>0,o)),onMouseEnter:n.showQualityList,onMouseLeave:n.hideQualityList},d.createElement(C.A,{icon:d.createElement(u.A,{className:$.A.icon}),onClick:n.handleClickQualityIcon}),A?n.renderQualityList():null)),T&&x.push(d.createElement("span",{key:"picture-in-picture",className:$.A.extraControl},d.createElement(C.A,{icon:N?d.createElement(p,{className:$.A.icon}):d.createElement(m,{className:$.A.icon}),tooltip:E.formatMessage(ee.pictureInPicture),onClick:L}))),x.push(d.createElement("span",{key:"fullscreen",id:"fullscreenArea",className:$.A.extraControl},d.createElement(C.A,{icon:_?d.createElement(f.A,{className:$.A.icon}):d.createElement(v.A,{className:$.A.icon}),tooltip:_?E.formatMessage(ee.closeFullscreen):E.formatMessage(ee.goFullscreen),tooltipPlacement:"topLeft",onClick:n.handleClickFullscreen}))),x}),ae),n.handleClickPlayPause=function(e){e.stopPropagation();var t=n.props,a=t.playerState,o=t.pause,i=t.play;a===r.State.playing?o():i(r.ActionLevel.UI)},n.renderPlaybackButton=function(e){e.id;var t=e.key,o=e.icon,r=e.onClick,i=e.className,s=e.volumeConfig,l=e.tooltip,c=s?{id:"volumeArea",onMouseEnter:s.onMouseEnter,onMouseLeave:s.onMouseLeave}:{};return d.createElement("span",(0,a.A)({key:t,className:i},c),d.createElement(C.A,{icon:o,tooltip:l,onClick:r}),(null==s?void 0:s.show)?d.createElement(N.A,{key:"volumeRange",classNames:te,timeout:300,nodeRef:n.volumeRangeRef},d.createElement("div",{ref:n.volumeRangeRef,className:$.A.volumeRange},d.createElement(j.A,s))):null)},n.renderPlaybackButtons=(0,I.A)((function(e,t){var a=e.playerState,o=e.isAd,i=e.isMobile,s=e.isMuted,l=e.volume,c=e.intl,u=t.showVolumeRange,p=a===r.State.playing,m=k()($.A.playbackButton,$.A.negligibleUnderXS),f=[];return f.push({id:"playPauseButton",key:"playPause",icon:p?d.createElement(g,{className:$.A.icon}):d.createElement(h.A,{className:$.A.icon}),onClick:n.handleClickPlayPause,className:$.A.playbackButton,tooltip:p?c.formatMessage(ee.pause):c.formatMessage(ee.play)}),o||n.props.compactUiMode||(f.push({id:"rewindButton",key:"stepRewind",icon:d.createElement(y,{className:$.A.icon}),onClick:n.handleClickStepRewind,className:m,tooltip:c.formatMessage(ee.stepRewind)}),f.push({id:"forwardButton",key:"stepForward",icon:d.createElement(A,{className:$.A.icon}),onClick:n.handleClickStepForward,className:m,tooltip:c.formatMessage(ee.stepForward)})),n.props.compactUiMode||f.push({id:"volumeButton",key:"volume",icon:s?d.createElement(E.A,{className:$.A.icon}):d.createElement(b.A,{className:$.A.icon}),onClick:n.handleClickVolume,className:$.A.playbackButton,volumeConfig:{show:!s&&u,min:1,max:100,value:l,onChanging:n.setVolume,onChanged:n.setVolume,onMouseEnter:i?void 0:n.showVolumeRange,onMouseLeave:i?void 0:n.hideVolumeRange,useRefresh:!0}}),f.map((function(e){return n.renderPlaybackButton(e)}))}),ae),n.renderContents=(0,I.A)((function(e,t){return d.createElement(d.Fragment,null,d.createElement(s.A,{xs:"4",className:$.A.playbackButtons},n.renderPlaybackButtons(e,t)),d.createElement(s.A,{xs:"4",className:$.A.infoSection}),d.createElement(s.A,{xs:"4",className:$.A.extraControls},n.renderExtraControls(e,t)))}),ae),n.state={showVolumeRange:!1,useMobileDesign:!1},n._isMutedBeforeAd=t.isMuted,n._volumeBeforeAd=t.volume,n.handleClickFullscreen=n.handleClickFullscreen.bind(n),n.handleClickVolume=n.handleClickVolume.bind(n),n.setVolume=n.setVolume.bind(n),n.throttledHandleResize=P()(n.handleResize,250),n}return(0,o.__extends)(t,e),Object.defineProperty(t.prototype,"volumeChangedByUser",{get:function(){return this._volumeChangedByUser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volumeMuteChangedByUser",{get:function(){return this._volumeMuteChangedByUser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMutedBeforeAd",{get:function(){return this._isMutedBeforeAd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volumeBeforeAd",{get:function(){return this._volumeBeforeAd},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){(0,G.q2)(window,"keyup",this.handleKeyboardEvent),this.throttledHandleResize(),(0,G.q2)(window,"resize",this.throttledHandleResize)},t.prototype.componentDidUpdate=function(e){var t=e.isAd,n=e.adSequence,a=e.isMuted,o=e.volume,r=e.toggleVolumeMute,i=e.updateVolume,s=this.props.isAd&&!t,l=!this.props.isAd&&t||this.props.adSequence!==n;s&&(this._volumeChangedByUser=!1,this._volumeMuteChangedByUser=!1,this._isMutedBeforeAd=a,this._volumeBeforeAd=o),l&&(this._volumeMuteChangedByUser||this._isMutedBeforeAd===a||r(),this._volumeChangedByUser||this._volumeBeforeAd===o||i(this._volumeBeforeAd))},t.prototype.componentWillUnmount=function(){(0,G.f)(window,"resize",this.throttledHandleResize),(0,G.f)(window,"keyup",this.handleKeyboardEvent),window.clearTimeout(this.hideQualityListTimer),window.clearTimeout(this.hideVolumeRangeTimer),window.clearTimeout(this.showQualityListTimer),window.clearTimeout(this.showVolumeRangeTimer)},t.prototype.handleClickFullscreen=function(e){e.stopPropagation(),this.toggleFullscreen()},t.prototype.handleClickVolume=function(e){e.stopPropagation(),this.toggleVolumeMute()},t.prototype.setVolume=function(e){var t=this.props,n=t.isMuted,a=t.updateVolume;this._volumeChangedByUser=!0,n&&(this._volumeMuteChangedByUser=!0),a(e)},t.prototype.renderQualityList=function(){var e=this.props,t=e.qualityList,n=e.qualityIndex;return t.length<=1?null:d.createElement("div",{id:"qualityList",onClick:this.stopPropagation,className:k()($.A.qualityList),ref:this.qualityListRef},d.createElement("section",null,d.createElement("h3",null,d.createElement(_.A,ee.videoQuality)),d.createElement(S.A,{options:t,activeLabel:t[n].label,onOptionSelect:this.handleQualityChange})))},t.prototype.render=function(){return d.createElement(l.default,{className:$.A.playerControls},this.renderContents(this.props,this.state))},t}(d.PureComponent),re=(0,T.Ay)((function(e){var t=(0,Y.A)(H.cR),n=(0,Y.A)(J.Ll),o=(0,Y.A)(J.aw),r=(0,Y.A)(J.vV),i=(0,Y.A)(J.gQ),s=(0,Y.A)(z.MH),l=(0,Y.A)(Z.A9),c=(0,Y.A)(W.dc),u=(0,Y.A)(H.Rt),p=(0,Y.A)(J.PS),m=(0,Y.A)(J.ns),f=(0,Y.A)(J.xL),v=(0,Y.A)(J.th),g=(0,Y.A)(J.OW);return d.createElement(oe,(0,a.A)({},e,{playerState:t,isAd:n,adSequence:o,isMuted:r,volume:i,isMobile:s,castApiAvailable:l,isLoggedIn:c,position:u,captionsList:p,captionsIndex:m,qualityList:f,qualityIndex:v,isHD:g}))}))},55028:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return kr},fetchData:function(){return wr},fetchDataDeferred:function(){return Sr}});var a=n(95923),o=n(2424),r=n(51114),i=n(58104),s=n(32485),l=n.n(s),c=n(41811),u=n(96540),d=n(80545),p=n(66860),m=n(71085),f=n(61427),v=n(52691),g=n(69864),h=n(32174),y=n(52171),A=n(40962),E=n(20680),b=n(631),C=n(66080),S=n(10619),w=n(37478),k=n(25679),R=n(53277),P=n(52591),I=n(43955),M=n(86111),_=n(70978),T=n(69780),N=n(10013),L=n(80208),D=n(85491),x=n(16744),O=n(20802),V=n(47442),B=n(38191),F=n(38167),U=n(34123),W=n(66302),Y=n(58168),H=n(15215),z=n(70853),K=n(83990),G=n(38221),q=n.n(G),Q=n(7350),j=n.n(Q),X=n(24179),Z=n(71129),J=n(84736),$=n(17189),ee=n(76126),te=n(74886),ne=n(27948),ae=n(30485);function oe(e,t){(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.ENTER_PICTURE_IN_PICTURE_ERROR,message:{content_id:e,error:t}})}function re(e,t){(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.LEAVE_PICTURE_IN_PICTURE_ERROR,message:{content_id:e,error:t}})}var ie=n(48982),se=n(21159),le=n(67409),ce=n(47299),ue=["fastly","cloudfront","akamai"];function de(e,t){var n=0;return e.forEach((function(e){e.forEach((function(e){e===t&&n++}))})),n}function pe(e){var t,n,a,o=(0,$.lM)().stage,r=ee.HB.getVODPlaybackInfo(),i=r.startSteps,s=r.adStartSteps,l=null===(t=null==e?void 0:e.getFragDownloadStats)||void 0===t?void 0:t.call(e),c=l?(l.video.totalDownloadSize+l.audio.totalDownloadSize)/1024:0,u=l?(l.video.totalDownloadTimeConsuming+l.audio.totalDownloadTimeConsuming)/1e3:0,d=l?Math.max(l.video.totalDownloadFragDuration,l.audio.totalDownloadFragDuration):0,p=null!==(a=null===(n=null==e?void 0:e.getLevels)||void 0===n?void 0:n.call(e))&&void 0!==a?a:[],m=p.length>0?p[p.length-1].bitrate:0;(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.VOD_PLAYER_SERVICE_QUALITY,message:{track_id:r.trackId,content_id:r.contentId,resource_type:r.resourceType,codec:r.codec,hdcp:r.hdcp,device_model:r.deviceModel,manufacturer:r.manufacturer,browser_version:r.browserVersion,app_version:r.appVersion,os:r.os,os_version:r.osVersion,is_mobile:r.isMobile,cdn:r.cdn,sdk:null==e?void 0:e.SDKName,last_stage:o,tsd:(0,ce.qY)(r.totalSeekDuration),sc:r.seekCount,tbd:(0,ce.qY)(r.totalBufferingDuration),bc:r.bufferingCount,tvt:1e3*r.playbackViewTime,ffd:(0,ce.qY)(r.firstFrameDuration),cffd:(0,ce.qY)(r.contentFirstFrameDuration),fc:r.fallbackCount,boc:r.breakOffCount,first_errc:r.firstErrorCode,first_errt:r.firstErrorType,errc:r.errorCode,errt:r.errorType,tcrffd:(0,ce.qY)(r.totalContentResumeFirstFrameDuration),rc:i.length>0?i.length-1:0,last_ss:i.length>0?i[i.length-1]:-1,ad_ac:r.adCount,ad_bac:r.bufferingAdCount,ad_eac:r.errorAdCount,ad_taffd:(0,ce.qY)(r.totalAdFirstFrameDuration),ad_sfc:de(s,ee.Qc.START_LOAD),ad_svc:de(s,ee.Qc.VIEWED),is_ad:r.isAd,is_pa:r.isPreroll,features:r.features,download_size:(0,ce.qY)(c),download_speed:u>0?(0,ce.qY)(c/u):0,download_frag_bitrate:d>0?(0,ce.qY)(c/d):0,hlb:(0,ce.qY)(m/1024),display_resolution:(0,le.F8)(),cp:r.playerCreated,ad_fc:r.fetchAdsCount}}),function(){var e,t=ee.HB.getVODPlaybackInfo(),n=t.startSteps,a={viewTime:t.playbackViewTime,playFailure:t.errorType>-1?1:0,playBreakOff:t.breakOffCount>0?1:0,startupFailure:-1!==t.contentFirstFrameDuration||t.isAd?0:1,contentFirstFrameDuration:(0,ce.qY)(t.contentFirstFrameDuration),resumeFailureAfterMidroll:n.length>1&&n[n.length-1]<2?1:0,resumeCount:n.length>0?n.length-1:0,bufferingCount:t.bufferingCount,bufferingDuration:(0,ce.qY)(t.totalBufferingDuration),seekCount:t.seekCount,seekDuration:(0,ce.qY)(t.totalSeekDuration),resumeFirstFrameDuration:(0,ce.qY)(t.totalContentResumeFirstFrameDuration)};Object.keys(a).forEach((function(e){"viewTime"===e||a[e]>0||delete a[e]}));var o=ue.includes(t.cdn)?((e={})[se.ev.CDN]=t.cdn,e):void 0;(0,ie.R$)(a,o)}();var f=0===r.adCount&&r.playerCreated?r.adBreaks:void 0;(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.VOD_PLAYER_SERVICE_QUALITY_ORIGINAL,message:{track_id:r.trackId,ffd_original:Number(r.firstFrameDurationOriginal.toFixed(2)),tsd_original:Number(r.totalSeekDurationOriginal.toFixed(2)),sc:r.seekCount,tbd_original:Number(r.totalBufferingDurationOriginal.toFixed(2)),bc:r.bufferingCount,ad_breaks:f}})}var me=n(70497),fe=n(63326),ve=n(47092),ge=n.n(ve),he=n(69856);function ye(e){var t=e.contentId,n=(0,H.__rest)(e,["contentId"]);return(0,H.__assign)((0,H.__assign)({content_id:t},n),{release:ge().getAnalyticsConfig().app_version})}var Ae=n(50476),Ee=n(26083),be=n(43919),Ce=n(49130),Se=n(51339),we=n(17394),ke=n(52352),Re=n(91095),Pe=n(49519),Ie=n(61950),Me=n(7177),_e=n(45279),Te=n(4907),Ne=n(12811),Le=n(58489),De=n(70362),xe=n(67525),Oe=n(43764),Ve=n(45125),Be=n(25016),Fe=n(37537),Ue=n(35470),We=n(62130),Ye=n(64149),He=n(99018),ze=n(33642),Ke=n(88932),Ge=n(41013),qe=n(50816),Qe=n(42616),je=function(e){var t=e.videoContentType,n=(0,b.A)();return{addToHistory:(0,u.useCallback)((function(e,a){var o,r=a.syncHistoryWithServer,i=void 0!==r&&r;"number"!=typeof(o=e.position)||isNaN(o)||t===v.udA||n((0,Qe.WQ)(e)).then((function(){n((0,f.LQ)(e.contentId,e.position)),i&&n((0,Qe.Do)())}))}),[n,t])}},Xe=n(33323),Ze=n(13500),Je=n(4703),$e=n(77831),et=function(e){return e.ui.registrationPrompt.isSkipped},tt=function(e){return e.ui.renderControls},nt=function(e){return(0,i.isWebkitIPhone)(e.ui.userAgent)},at=function(e){return(0,i.isWebkitIPad)(e.ui.userAgent)},ot=function(e){return(0,i.isMobileWebkit)((0,I.iZ)(e))},rt=function(e){var t=(0,Je.b)(e),n=(0,I.MH)(e),a=(0,I.iZ)(e);return n&&(0,$e.Ir)({userAgent:a,enableMobileWebIosPlayback:t})};var it,st=function(e){var t;return null!==(t=e.player.drmKeySystem)&&void 0!==t?t:void 0},lt=function(e){return st(e)!==z.DrmKeySystem.Invalid},ct=function(e){return!!st(e)},ut=function(e){var t,n,a=e.video,o=e.isContentReady,r=(0,C.A)(st),i=(0,C.A)(lt),s=!1;if(o){var l=a.video_resources||[],c=ee.HB.getVODPlaybackInfo();t=(0,De.$i)({videoResources:l,drmKeySystem:r,isDRMSupported:i,rememberFallback:!0}),l&&l.length>0&&0===t.getAllLevels().length&&(s=!!t.isEmptyDueToDrmSupport,n={content_id:a.id,showDRMUnsupportedWarning:s,drmKeySystem:r,isDRMSupported:i,track_id:c.trackId},(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.EMPTY_VIDEO_RESOURCE,message:n}))}return{videoResourceManager:t,showDRMUnsupportedWarning:s}},dt=n(13624),pt=n(81409),mt=function(e){return"true"===(null==e?void 0:e.autoplay)},ft=n(74055),vt=n(77705),gt=n(58980),ht=n(13711),yt=n(72267),At=n(58065),Et=n(91466),bt=n(85070),Ct=n(10208),St=n(75940),wt=n(39178),kt=n(4408),Rt=n(70940),Pt=n(25279),It=n(33970),Mt=n(6442),_t=n(63457),Tt=n(99869),Nt=n(41424),Lt=n(95735),Dt=n(6325),xt=n(10685),Ot=function(e){return u.createElement(xt.A,(0,Y.A)({viewBox:"0 0 21 15"},e,{role:"img"}),u.createElement("title",null,"Mail Inverted"),u.createElement("path",{d:"M18.782 1.226l-.003-.003C17.695.148 16.241 0 14.831 0H5.154C3.75 0 2.301.149 1.221 1.229.094 2.345 0 3.84 0 5.153v5.678c0 1.325.094 2.832 1.217 3.943C2.348 15.905 3.85 16 5.169 16h9.662c1.319 0 2.821-.095 3.951-1.226C19.906 13.651 20 12.15 20 10.831V5.177c0-1.323-.094-2.828-1.218-3.951zM17.65 3.759l-6.023 5.163A2.493 2.493 0 0110 9.528a2.495 2.495 0 01-1.627-.606L2.35 3.759a.999.999 0 111.3-1.518l6.023 5.163a.5.5 0 00.652 0l6.023-5.163a1 1 0 011.302 1.518z",fill:"currentColor"}))},Vt=n(30946),Bt=n(95335),Ft=n(77161),Ut=n(94121),Wt=n(64588),Yt="IMk99",Ht="B4mtq",zt="qbX2U",Kt="C09zG",Gt="o5x80",qt="Z3w3X",Qt="STb46",jt="IQ6vm",Xt="QsTQq",Zt="sRf80",Jt=(0,yt.YK)({title:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:title",defaultMessage:"Start Watching Now"},desc:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:desc",defaultMessage:"Letâ€™s Make It Official"},register:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:register",defaultMessage:"Continue with Email"},ownedAccountMessage:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:ownedAccountMessage",defaultMessage:"Already have an account? <signInLink>Sign in.</signInLink>"},continueAsGuest:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:continueAsGuest",defaultMessage:"Continue as Guest"},free:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:free",defaultMessage:"Itâ€™s Free"},termsAgreement:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:termsAgreement",defaultMessage:"By registering, you agree to Tubi's<linebreak></linebreak><termsLink>Terms of Use</termsLink> and <privacyLink>Privacy Policy</privacyLink>"}}),$t=(0,yt.YK)({forcedIntroTitle:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:forcedIntroTitle",defaultMessage:"Sign Up to Keep<linebreak></linebreak>Watching"},forcedIntroDesc:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:forcedIntroDesc",defaultMessage:"Unlock this title â€¢ No credit card ever"},forcedFeature1:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:forcedFeature1",defaultMessage:"Free movies, shows & live TV"},forcedFeature2:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:forcedFeature2",defaultMessage:"Fewer ads than cable"},forcedFeature3:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:forcedFeature3",defaultMessage:"Available on all devices"},optionalIntroTitle:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:optionalIntroTitle",defaultMessage:"A Better Tubi<linebreak></linebreak>is Waiting"},optionalIntroDesc:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:optionalIntroDesc",defaultMessage:"No credit card ever"},optionalFeature1:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:optionalFeature1",defaultMessage:"Create your own watchlist"},optionalFeature2:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:optionalFeature2",defaultMessage:"Save your progress on any device"},optionalFeature3:{id:"src/web/features/authentication/components/RegistrationPrompt/RegistrationPrompt:optionalFeature3",defaultMessage:"Find more of what you love"}}),en=((it={})[Bt.DS.FORCED]={feature1:St.A,feature2:wt.A,feature3:kt.A},it[Bt.DS.OPTIONAL]={feature1:Rt.A,feature2:wt.A,feature3:Pt.A},it),tn="reg_at_play",nn={name:"Registration Gate",play:function(){return z.ActionLevel.NONE}},an=function(){z.interceptorManager.removeInterceptor(nn)},on=(0,X.withRouter)((function(e){var t,n,o,r,i,s=e.router,c=e.routes,d=(0,Mt.A)(),p=(0,b.A)(),m=(0,_t.d4)((function(e){return e.routing._unsafeLocationBeforeTransitions}),_t.bN),f=(0,_t.d4)((function(e){return e.ui.registrationPrompt}),_t.bN),v=f.isOpen,g=f.onClose,h=f.isSkipped,y=(0,_t.d4)(A.dc),E=(0,_t.d4)((function(e){return e.ui.isMobile})),C=(null!==(t=null==m?void 0:m.pathname)&&void 0!==t?t:"")+(null!==(n=null==m?void 0:m.search)&&void 0!==n?n:""),w=(null!==(o=null==m?void 0:m.pathname)&&void 0!==o?o:"")+encodeURIComponent(null!==(r=null==m?void 0:m.search)&&void 0!==r?r:""),k=(0,S.A)(Bt.Ay),R=!y&&!E,P=R&&k.getValue()!==Bt.DS.CONTROL&&!h,I=k.getValue()===Bt.DS.OPTIONAL,M=(i=k.getValue())===Bt.DS.CONTROL?{}:{introTitle:$t["".concat(i,"IntroTitle")],introDesc:$t["".concat(i,"IntroDesc")],feature1:$t["".concat(i,"Feature1")],feature2:$t["".concat(i,"Feature2")],feature3:$t["".concat(i,"Feature3")]},_=en[k.getValue()],T=function(){p((0,Tt.HC)("".concat(bt.yi.signIn,"?redirect=").concat(w)))},N=function(e){p((0,Tt.OE)()),"continue"===e?(p((0,Ze.AG)({isSkipped:!0})),an(),p(a.controlActions.play(z.ActionLevel.CODE)),(0,Lt.O)(K.hs.REGISTRATION,tn,K.pZ.ACCEPT_DELIBERATE)):"close"===e&&(0,Lt.O)(K.hs.REGISTRATION,tn,K.pZ.DISMISS_DELIBERATE)},L=(0,u.useCallback)((function(){return N("continue")}),[N]),D=(0,u.useCallback)((function(){return N("close")}),[N]);(0,u.useEffect)((function(){R&&k.logExposure()}),[R,k]),(0,u.useEffect)((function(){v&&((0,Lt.O)(K.hs.REGISTRATION,tn,K.pZ.SHOW),s.setRouteLeaveHook(c[c.length-1],(function(){p((0,Ze.AG)({isOpen:!1}))})))}),[v]);var x=(0,u.useRef)(),O=(0,u.useCallback)((function(){p((0,Ze.AG)({isOpen:!1}))}),[]);(0,u.useEffect)((function(){return v&&(p((0,Tt.VC)((0,H.__assign)((0,H.__assign)({},m),{state:{registrationPrompt:!0}}))),x.current=(0,ze.hy)(window,"popstate"),(0,ze.q2)(window,"popstate",O)),function(){var e;v||((0,ze.f)(window,"popstate",O),null===(e=x.current)||void 0===e||e.restore())}}),[v]),(0,u.useEffect)((function(){return P&&(p(a.controlActions.pause()),z.interceptorManager.hasInterceptor(nn)||z.interceptorManager.addInterceptor(nn)),function(){an()}}),[P,p]);var V=(0,u.useRef)(),B=(0,u.useCallback)((function(e){e.stopImmediatePropagation(),e.keyCode===Vt.P$.escape&&D()}),[Vt.P$.escape,N]);(0,u.useEffect)((function(){return v&&(V.current=(0,ze.hy)(window,"keydown"),(0,ze.q2)(window,"keydown",B)),function(){var e;v||((0,ze.f)(window,"keydown",B),null===(e=V.current)||void 0===e||e.restore())}}),[v]);var F=(0,u.useRef)(null);return P?u.createElement(Wt.A,{isOpen:v,isCloseOnEscape:!1,onClose:g,onClickOverlay:D,dataNoSnippet:!0,nodeRef:F},u.createElement("div",{ref:F,className:l()(Yt)},u.createElement("button",{className:Zt,onClick:D},u.createElement(It.A,{fill:"white",width:"24",height:"24"})),u.createElement("div",{className:Ht},u.createElement("div",null,u.createElement("h1",null,d.formatMessage(M.introTitle,{linebreak:function(){return u.createElement("br",null)}}),u.createElement("span",null,d.formatMessage(Jt.free))),u.createElement("p",null,d.formatMessage(M.introDesc))),u.createElement("ul",null,u.createElement("li",null,u.createElement("div",null,u.createElement(_.feature1,null)),u.createElement("h2",null,d.formatMessage(M.feature1))),u.createElement("li",null,u.createElement("div",null,u.createElement(_.feature2,null)),u.createElement("h2",null,d.formatMessage(M.feature2))),u.createElement("li",null,u.createElement("div",null,u.createElement(_.feature3,null)),u.createElement("h2",null,d.formatMessage(M.feature3))))),u.createElement("div",{className:zt},u.createElement("h2",null,d.formatMessage(Jt.desc,{linebreak:function(){return u.createElement("br",null)}})),u.createElement("div",{className:Kt},u.createElement(Dt.Ay,{googleClass:qt,buttonOnClick:function(){(0,Nt.m)(C),p((0,Ft.ef)(C))}})),u.createElement(Ut.A,{icon:u.createElement(Ot,{className:Gt}),color:"primary",className:qt,onClick:function(){p((0,Tt.HC)("".concat(bt.yi.register,"?redirect=").concat(w)))}},d.formatMessage(Jt.register)),u.createElement("div",null,u.createElement("div",{className:Qt},d.formatMessage(Jt.ownedAccountMessage,{signInLink:function(e){var t=e[0];return u.createElement("span",{className:jt,onClick:T},t)}})),I?u.createElement(Ut.A,{className:l()(qt,Xt),onClick:L},d.formatMessage(Jt.continueAsGuest)):null)))):null})),rn=n(19386),sn=n(30722),ln=n(23425),cn=function(){function e(e){void 0===e&&(e={}),this.options=e,this.log=e.debug?(0,ln.S8)("AdBlockerDetector"):function(){}}return e.prototype.check=function(){return(0,H.__awaiter)(this,void 0,Promise,(function(){var e;return(0,H.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.checkOnetime()];case 1:return(e=t.sent())?[2,e]:[4,new Promise((function(e){return setTimeout(e,1e4)}))];case 2:return t.sent(),[2,this.checkOnetime()]}}))}))},e.prototype.checkOnetime=function(){return Promise.all([this.checkByBlockAdBlock(),this.checkByRequestBait()]).then((function(e){return e.some(Boolean)}))},e.prototype.checkByBlockAdBlock=function(){var e=this;return void 0!==window.blockAdBlock&&"function"!=typeof window.blockAdBlock.setOption&&(window.blockAdBlock=null,window.blockAdBlock=void 0),n(45727),new Promise((function(t){var n=window.blockAdBlock;if(void 0===n||"function"!=typeof n.setOption)return e.log("BlockAdBlock script isn't loaded, it should be caused by ad blockers"),void t(!0);n.setOption({resetOnEnd:!0,debug:e.options.debug}),n.onDetected((function(){return t(!0)})),n.onNotDetected((function(){return t(!1)})),n.check()}))},e.prototype.checkByRequestBait=function(){var t=this;return fetch(e.AD_BLOCK_BAIT_URL).then((function(){return!1}),(function(e){return t.log("Error happens when requesting bait",e),!0}))},e.AD_BLOCK_BAIT_URL="https://cdn.adrise.tv/js/ads.js",e}(),un=cn;var dn=function(e){function t(t){var n=t.player,a=e.call(this,{player:n})||this;return a.destroy=function(){a.player&&a.tearDownCaptionsErrorListeners(a.player),e.prototype.destroy.call(a)},a.setupCaptionsErrorListeners(n),a}return(0,H.__extends)(t,e),t.prototype.handleCaptionsError=function(e){!function(e){var t=e.errorMessage;(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.zk.CAPTIONS_ERROR,message:{errorMessage:t}})}({errorMessage:e.message})},t.prototype.setupCaptionsErrorListeners=function(e){e.on(z.PLAYER_EVENTS.captionsError,this.handleCaptionsError)},t.prototype.tearDownCaptionsErrorListeners=function(e){e.off(z.PLAYER_EVENTS.captionsError,this.handleCaptionsError)},t}(n(23982).sp);function pn(e){return function(e){var t=e.player;(0,u.useEffect)((function(){if(t){var e=new dn({player:t});return function(){e.destroy()}}}),[t])}(e),null}var mn=n(96605),fn=n(7283),vn=n(62100),gn=n(9331),hn=n(50811),yn=n(15138),An=n(20888),En=function(e){var t=e.contentId,n=(0,u.useRef)(null),a=(0,u.useState)(!1),o=a[0],r=a[1],i=(0,u.useCallback)((function(){r(!0);var e=(0,le.F0)(t,Xe.Sz.ON);(0,ae.sx)(Ie.gt,e),function(e){(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.ENTER_PICTURE_IN_PICTURE,message:{content_id:e}})}(t)}),[r,t]),s=(0,u.useCallback)((function(){r(!1);var e=(0,le.F0)(t,Xe.Sz.OFF);(0,ae.sx)(Ie.gt,e),function(e){(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.LEAVE_PICTURE_IN_PICTURE,message:{content_id:e}})}(t)}),[r,t]),l=(0,u.useCallback)((function(){var e;(0,Re.BC)()&&(null===(e=n.current)||void 0===e||e.enterPictureInPicture().catch((function(e){oe(t,e.message)})))}),[n,t]),c=(0,u.useCallback)((function(e){n.current=e,e.on(z.PLAYER_EVENTS.ready,l),e.on(z.PLAYER_EVENTS.enterPictureInPicture,i),e.on(z.PLAYER_EVENTS.leavePictureInPicture,s)}),[l,i,s]);return{pipEnabled:o,setupPipEvents:c}},bn=n(92427),Cn=n(69680),Sn=n(56488),wn=n(49197),kn=n(34970),Rn="jGr4F",Pn="YkuW_",In="h1xX3",Mn="rCZta",_n="yedUO",Tn="e2l1z",Nn="Zd9uR",Ln="CS5ew",Dn="gVCkD",xn="JDtqr",On="q01_u",Vn="DqfGA",Bn="lL2oR",Fn="_FOmX",Un=(0,yt.YK)({rated:{id:"src/common/components/uilib/RatingOverlay/RatingOverlay:rated",defaultMessage:"Rated"}}),Wn={enter:Nn,enterActive:Ln,exit:Dn,exitActive:xn},Yn={enter:On,enterActive:Vn,exit:Bn,exitActive:Fn},Hn=function(e){var t,n=e.active,a=e.ratings,o=e.className,r=e.ratingClassName,i=e.ratingValueClassName,s=e.leftBannerClassName,c=e.ratedClassName,d=e.descriptorsClassName,p=(0,Mt.A)(),m=(0,u.useRef)(null),f=(0,u.useRef)(null);if(!a||a.length<=0)return null;var v=u.createElement(kn.fb,{rating:a,cls:l()(In,_n,r),descriptorCls:l()(i)}),g=null===(t=a[0].descriptors)||void 0===t?void 0:t.map((function(e){return e.description})).join(", ");return u.createElement("div",{className:l()(Rn,o)},u.createElement(Sn.A,{in:n,key:"leftBanner",timeout:500,classNames:Yn,unmountOnExit:!0,nodeRef:m},u.createElement("div",{ref:m,className:l()(Pn,s)})),u.createElement(Sn.A,{in:n,timeout:1e3,classNames:Wn,unmountOnExit:!0,nodeRef:f},u.createElement("div",{ref:f,"data-active":n},u.createElement("div",null,u.createElement("div",{className:l()(In,Mn,c)},p.formatMessage(Un.rated)),v),g?u.createElement("div",{className:l()(Tn,d)},g):null)))},zn="CVa1v",Kn="VMH8v",Gn="TqCOd",qn="wEQKL",Qn="QFpHy",jn={enter:"nFP3x",enterActive:"qvCCy",exit:"CDRow",exitActive:"G7RVN"},Xn=function(e){var t=e.className,n=e.subtitle,a=e.subtitleClassName,o=e.title,r=e.titleClassName,i=e.ratingOverlay,s=e.showTitle,c=(0,u.useRef)(null),d=u.createElement("div",{className:Gn},u.createElement("div",{className:l()(qn,r)},o),n?u.createElement("div",{className:l()(Qn,a)},n):null);return u.createElement("div",{className:l()(zn,t),onClick:function(e){e.stopPropagation()}},u.createElement(Sn.A,{in:s,timeout:800,classNames:jn,unmountOnExit:!0,nodeRef:c},u.createElement("div",{ref:c,className:Kn},d)),i||null)},Zn=n(5050);n(66331);var Jn=n(8056),$n=function(e){function t(n){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];var r=e.call(this,n)||this,i=a[0],s=a[1],l=a[2],c=a[3],u=a[4];return r.message="invalid ".concat(c,' "').concat(u||i[s],'" supplied to ').concat(l,', message: "').concat(n,'"'),r.stack="",Object.setPrototypeOf(r,t.prototype),r}return(0,H.__extends)(t,e),t}(Error);function ea(e,t){return void 0===e&&(e=-1/0),void 0===t&&(t=1/0),function(e){function t(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return null==n[0][n[1]]?t?new($n.bind.apply($n,(0,H.__spreadArray)([void 0,"value is marked as required."],n,!1))):null:e.apply(void 0,n)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}((function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var o=n[0][n[1]];return"number"!=typeof o?new($n.bind.apply($n,(0,H.__spreadArray)([void 0,"value is expected to be number type."],n,!1))):Number.isNaN(o)||o<e||o>t?new($n.bind.apply($n,(0,H.__spreadArray)([void 0,"value is expected in range from ".concat(e," to ").concat(t,".")],n,!1))):null}))}var ta="b17uZ",na="ZSLX6",aa="_5jf5",oa="OPuFO",ra="MDGSz",ia="oj5Cl",sa="j3xLp",la="FU34B",ca=u.memo((function(){return u.createElement(xt.A,{viewBox:"0 0 1 86",className:ra,role:"img"},u.createElement("title",null,"Circular Progress Bar"),u.createElement("path",{d:"M0 0v6c20.4 0 37 16.6 37 37S20.4 80 0 80v6c23.7 0 43-19.3 43-43S23.7 0 0 0z"}))})),ua=function(e){var t,n=e.innerText,a=e.progress,o=void 0===a?0:a,r=l()(ta,((t={})[oa]=!0,t),e.className);return u.createElement("div",{className:r},u.createElement("div",{className:la},u.createElement("div",{className:sa,style:ma(o)},u.createElement(ca,null))),o<.5?null:u.createElement("div",{className:ia},u.createElement("div",{className:sa,style:pa(o)},u.createElement(ca,null))),u.createElement("div",{className:na},n?u.createElement("span",{className:aa},n):null))};ua.propTypes={progress:ea(0,1).isRequired};var da=ua;function pa(e){var t=Math.floor((e-.5)/.5*180);return{transform:"rotate(".concat(t,"deg)")}}function ma(e){if(0===e)return{transform:"rotate(185deg)"};if(e>=.49)return{transform:"rotate(360deg)"};var t=Math.floor(185+e/.51*175);return{transform:"rotate(".concat(t,"deg)")}}var fa="C4jzN",va="i4vzG",ga="uN6BM",ha="BqsO3",ya="dvYfh",Aa=(0,yt.YK)({adMessage:{id:"src/common/features/playback/components/AdMessage/AdMessage:adMessage",defaultMessage:"Your video will resume after the break"},adMessageCurrentAd:{id:"src/common/features/playback/components/AdMessage/AdMessage:adMessageCurrentAd",defaultMessage:"{leftTime} seconds left in this ad"},adMessageAllAd:{id:"src/common/features/playback/components/AdMessage/AdMessage:adMessageAllAd",defaultMessage:"Your title will resume in {leftTime}"}}),Ea=function(e){var t,n=e.progress,a=e.showProgressBar,o=e.messageData,r=l()(fa,e.className);t=a?u.createElement(da,{innerText:"AD",progress:n}):u.createElement("div",{className:ga},"AD");var i=function(e){var t=e.messageStyle,n=e.adSequence,a=e.adCount,o=e.leftTime;if(t===Jn.QO.CONTROL)return u.createElement("div",{className:va},u.createElement(At.A,Aa.adMessage));var r=t===Jn.QO.AD_PROGRESS_OF_CURRENT_AD?Aa.adMessageCurrentAd:Aa.adMessageAllAd;return u.createElement("div",{className:va},u.createElement("span",{className:ha}," ",n," / ",a," "),u.createElement("span",{className:ya},"Â·"),u.createElement(At.A,(0,Y.A)({},r,{values:{leftTime:o}})))}(o);return u.createElement("div",{className:r},t,i)};Ea.propTypes={progress:ea(0,1).isRequired};var ba=Ea,Ca=n(48902);var Sa=(0,_t.Ng)((function(e,t){t.shouldUsePlayerPackage,e.ottPlayer;var n=e.player,a=n.ad,o=a.adCount,r=a.adSequence,i=n.adProgress;return{adCount:o,adSequence:r,duration:i.duration,position:i.position,remainingPodDuration:i.remainingPodDuration}}))((function(e){var t=e.adCount,n=e.adSequence,a=e.duration,o=e.position,i=e.hideProgressBar,s=e.remainingPodDuration,l=e.className,c=(0,S.A)(Jn.Ay),d=c.getValue();(0,u.useEffect)((function(){c.logExposure()}),[c]);var p=!i,m=function(e){var t=e.adProgressStyle,n=e.adSequence,a=e.adCount,o=e.duration,r=e.position,i=e.remainingPodDuration;if(t===Jn.QO.CONTROL)return{messageStyle:t};var s="";if(t===Jn.QO.AD_PROGRESS_OF_CURRENT_AD)s="".concat(Math.max(0,Math.floor(o-r)));else{if(void 0===i)return{messageStyle:Jn.QO.CONTROL};var l=Math.max(0,i-r);s=0===l?"00:00":(0,Ca.Xd)(l)}return{messageStyle:t,adSequence:n,adCount:a,leftTime:s}}({adProgressStyle:d,adSequence:n,adCount:t,duration:a,position:o,remainingPodDuration:s});return u.createElement(ba,{progress:function(){if(!p)return 0;var e=function(e){for(var t={0:0},n=1;n<e+1;n++)if(e===n)t[n]=1;else{var a=t[n-1]||0;t[n]=a+Math.floor(100/e)/100}return t}(t),i=e[n-1],s=0;return 0!==a&&(s=o/a*(e[n]-i)),(0,r.clamp)(Math.round(100*(s+i))/100,0,1)}(),className:l,showProgressBar:p,messageData:m})})),wa=n(62434),ka=n(20970),Ra=function(){var e=(0,u.useState)(!1),t=e[0],n=e[1],a=(0,C.A)(P.OQ);return(0,u.useEffect)((function(){!t&&a&&n(!0)}),[t,a]),{hasPlaybackStarted:t}},Pa=n(96573),Ia=n(22383),Ma=n(9434),_a=n(94838),Ta=(0,yt.YK)({cast:{id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/ChromecastButton/ChromecastButton:cast",defaultMessage:"Play on TV"}}),Na=function(e){var t=e.placement,n=void 0===t?"top":t,a=(0,Mt.A)(),o=(0,u.useMemo)((function(){return u.createElement(Ma.A,{className:_a.A.icon})}),[]);return u.createElement("span",{key:"cast",id:"castButtonArea",className:_a.A.extraControl,onClick:function(e){e.stopPropagation()}},u.createElement("div",{className:_a.A.castButton},u.createElement(Ia.A,{label:a.formatMessage(Ta.cast),placement:n},o)))},La=n(27852),Da=200,xa={enter:_a.A.fadeEnter,enterActive:_a.A.fadeEnterActive,exit:_a.A.fadeLeave,exitActive:_a.A.fadeLeaveActive},Oa=function(e){function t(t){var n=e.call(this,t)||this;return n.isPiPSupported=(0,Re.Kn)(),n.handleOrientationChange=function(e){void 0!==e.matches&&n.props.setIsPortraitMode(e.matches)},n.onAdStart=function(){n.props.setRatingActive(!1)},n.allowRatingDisplay=function(){n.props.setAllowRatingDisplayStart(!0)},n.showRatingOverlay=function(){n.props.allowRatingDisplayStart&&(n.isAd()||[z.State.playing,z.State.inited].includes(n.props.playerStore.playerState)&&(n.props.setRatingActive(!0),n.props.setAllowRatingDisplayStart(!1),n.props.hideRatingActiveTimerRef.current&&clearTimeout(n.props.hideRatingActiveTimerRef.current),n.props.hideRatingActiveTimerRef.current=window.setTimeout((function(){n.props.setRatingActive(!1),n.setRatingShowInPlayTimer()}),15e3)))},n.updateVolume=function(e){n.setVolume({volume:e})},n.toggleVolumeMute=function(){var e=n.props,t=e.playerStore;(0,e.dispatch)(z.controlActions.setVolume({isMuted:!t.volume.isMuted}))},n.togglePlay=function(){n.props.playerStore.playerState===z.State.playing?n.explicitPause():n.explicitPlay()},n.onMouseMove=function(){n.refreshActiveTimer()},n.onMouseLeave=function(){n.props.playerStore.playerState!==z.State.playing||n.props.isShowingOverlayOnStartPlayback||n.props.captionSettingsVisible||n.props.qualitySettingsVisible||(clearTimeout(n.props.hideActiveTimerRef.current),n.props.setInactiveTimerRef.current=window.setTimeout(n.setInactive,500))},n.onTouchStart=function(e){if(e.touches){var t=e.touches[0];n.props.touchInfoRef.current={startX:t.pageX,startY:t.pageY}}},n.onTouchMove=function(e){if(n.props.touchInfoRef.current){var t=n.props.touchInfoRef.current,a=t.startX,o=void 0===a?-1:a,r=t.startY,i=void 0===r?-1:r;if(!(o<0||i<0)){var s=e.touches[0],l=s.pageX,c=s.pageY,u=function(e){var t=e.startX,n=e.endX,a=e.startY,o=e.endY,r=Math.atan2(o-a,n-t),i=Math.round(r*(180/Math.PI));return i<0&&(i=360-Math.abs(i)),i>=45&&i<=135}({startX:o,endX:l,startY:i,endY:c});n.props.touchInfoRef.current=(0,H.__assign)((0,H.__assign)({},n.props.touchInfoRef.current),{endX:l,endY:c,isSwipeDown:u}),u||n.refreshActiveTimer()}}},n.onTouchEnd=function(){return n.handleSwipe()},n.onTouchCancel=function(){return n.handleSwipe()},n.handleCaptionSettingsToggle=function(e){if(n.props.setCaptionSettingsVisible(e),e){var t=(0,le.Jw)((0,Ge.M)(),K.hs.SUBTITLE_AUDIO,"",K.pZ.SHOW);(0,ae.sx)(Ie.NM,t)}n.refreshActiveTimer()},n.handleQualitySettingsToggle=function(e){n.props.setQualitySettingsVisible(e),n.refreshActiveTimer()},n.handleSwipe=function(){var e;(null!==(e=n.props.touchInfoRef.current)&&void 0!==e?e:{}).isSwipeDown&&n.props.active?n.setInactive():n.refreshActiveTimer(),n.props.touchInfoRef.current={}},n.togglePictureInPicture=function(e){return(0,H.__awaiter)(n,void 0,void 0,(function(){var t,n,a,o,r,i;return(0,H.__generator)(this,(function(s){switch(s.label){case 0:return e.stopPropagation(),t=this.props,n=t.player,a=t.pipEnabled,o=t.video,n&&n.getVideoElement()?this.props.pipPromiseRef.current?[4,this.props.pipPromiseRef.current.catch((function(){}))]:[3,2]:[2];case 1:s.sent(),s.label=2;case 2:return a?(r="TOGGLE_OFF",this.props.pipPromiseRef.current=(0,Re.wp)().catch((function(e){re(o.id,e.message)}))):(r="TOGGLE_ON",this.props.pipPromiseRef.current=n.enterPictureInPicture().catch((function(e){oe(o.id,e.message)}))),i=(0,le.k6)({pathname:(0,Ge.M)(),userInteraction:r,component:"BUTTON",buttonType:bn.V.IMAGE,buttonValue:"pip"}),(0,ae.sx)(Ie.gn,i),[2]}}))}))},n.onMouseMove=j()(n.onMouseMove,50),n._hotKeyHandler=n._hotKeyHandler.bind(n),n._hotKeyHandler=j()(n._hotKeyHandler,50),n.onClick=n.onClick.bind(n),n.onDoubleClick=n.onDoubleClick.bind(n),n.play=n.play.bind(n),n.pause=n.pause.bind(n),n.seek=n.seek.bind(n),n.stepRewind=n.stepRewind.bind(n),n.stepForward=n.stepForward.bind(n),n.setVolume=n.setVolume.bind(n),n.setCaptions=n.setCaptions.bind(n),n.setQuality=n.setQuality.bind(n),n.isAd=n.isAd.bind(n),n.setInactive=n.setInactive.bind(n),n.refreshActiveTimer=n.refreshActiveTimer.bind(n),n.explicitPlay=n.play.bind(n,!0),n.explicitPause=n.pause.bind(n,!0),n}return(0,H.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isIPhone,n=e.isIPad,a=e.player,o=e.isMobile,r=e.playerWebPip,i=e.setIsPortraitMode;this.showOverlayOnStartPlayback(),(0,ze.q2)(window,"keydown",this._hotKeyHandler),(t||n)&&(this.props.mediaQueryRef.current=window.matchMedia("(orientation: portrait)"),(0,ze.q2)(this.props.mediaQueryRef.current,"change",this.handleOrientationChange),i(this.props.mediaQueryRef.current.matches)),a&&this.afterPlayerCreate(a),!o&&this.isPiPSupported&&r.logExposure()},t.prototype.componentDidUpdate=function(e){this.props.isShowingOverlayOnStartPlayback&&this.showOverlayOnStartPlayback(),this.props.player&&!e.player&&this.afterPlayerCreate(this.props.player),!this.props.player&&e.player&&(this.props.haveCalledAfterPlayerCreateRef.current=!1)},t.prototype.componentWillUnmount=function(){clearTimeout(this.props.hideActiveTimerRef.current),clearTimeout(this.props.setInactiveTimerRef.current),clearTimeout(this.props.hideRatingActiveTimerRef.current),clearInterval(this.props.showRatingDuringPlaybackTimerRef.current),clearTimeout(this.props.renderControlTimeoutRef.current),(0,ze.f)(window,"keydown",this._hotKeyHandler),(0,ze.f)(this.props.mediaQueryRef.current,"change",this.handleOrientationChange);var e=this.props.player;e&&(e.off(z.PLAYER_EVENTS.play,this.showRatingOverlay),e.off(z.PLAYER_EVENTS.adStart,this.onAdStart),e.off(z.PLAYER_EVENTS.adComplete,this.allowRatingDisplay))},t.prototype.afterPlayerCreate=function(e){this.props.haveCalledAfterPlayerCreateRef.current||(this.props.haveCalledAfterPlayerCreateRef.current=!0,e.on(z.PLAYER_EVENTS.play,this.showRatingOverlay),e.on(z.PLAYER_EVENTS.adStart,this.onAdStart),e.on(z.PLAYER_EVENTS.adComplete,this.allowRatingDisplay))},t.prototype.setRatingShowInPlayTimer=function(){var e=this;this.props.showRatingDuringPlaybackTimerRef.current&&clearTimeout(this.props.showRatingDuringPlaybackTimerRef.current),this.props.showRatingDuringPlaybackTimerRef.current=window.setTimeout((function(){e.allowRatingDisplay(),e.showRatingOverlay()}),36e5)},t.prototype.play=function(e){var t=this,n=this.props,a=n.dispatch,o=n.video,r=void 0===o?{id:""}:o,i=n.webRegistrationPlayerGate,s=n.hasShownRegistrationPrompt,l=n.isLoggedIn,c=n.isMobile;if(!l&&!c){var u=i.getValue();if(u===Bt.DS.FORCED||u===Bt.DS.OPTIONAL&&!s)return a((0,Ze.AG)({isOpen:!0})),Promise.resolve()}return e&&!this.props.hasPlayActionTriggeredRef.current&&(this.props.hasPlayActionTriggeredRef.current=!0),a(z.controlActions.play(e?z.ActionLevel.UI:z.ActionLevel.CODE)).then((function(){if(e){t.refreshActiveTimer();var n=(0,le.U8)(r.id,Xe.WF.RESUMED);(0,ae.sx)(Ie.U6,n)}})).catch((function(e){throw e}))},t.prototype.pause=function(e){var t=this,n=this.props,a=n.dispatch,o=n.video,r=void 0===o?{id:""}:o;return a(z.controlActions.pause()).then((function(){if(e){t.refreshActiveTimer();var n=(0,le.U8)(r.id,Xe.WF.PAUSED);(0,ae.sx)(Ie.U6,n)}}))},t.prototype.seek=function(e){var t=this,n=this.props,a=n.dispatch,o=n.video,r=void 0===o?{id:""}:o,i=n.playerStore.progress.position,s=n.onStartSeekForward;return i<e&&s&&s(),a(z.controlActions.seek(e)).then((function(){t.refreshActiveTimer();var n=(0,le.MO)({videoId:r.id,fromPosition:i,toPosition:e});(0,ae.sx)(Ie.NI,n)}))},t.prototype.stepRewind=function(){var e=this,t=this.props,n=t.dispatch,a=t.video,o=void 0===a?{id:""}:a,r=t.playerStore.progress.position;return n(z.controlActions.stepRewind()).then((function(t){e.refreshActiveTimer();var n=(0,le.MO)({videoId:o.id,fromPosition:r,toPosition:t});return(0,ae.sx)(Ie.NI,n),t}))},t.prototype.stepForward=function(){var e=this,t=this.props,n=t.dispatch,a=t.video,o=void 0===a?{id:""}:a,r=t.playerStore.progress.position,i=t.onStartSeekForward;return i&&i(),n(z.controlActions.stepForward()).then((function(t){e.refreshActiveTimer();var n=(0,le.MO)({videoId:o.id,fromPosition:r,toPosition:t});return(0,ae.sx)(Ie.NI,n),t}))},t.prototype.setVolume=function(e){return this.refreshActiveTimer(),this.props.dispatch(z.controlActions.setVolume(e))},t.prototype.setCaptions=function(e){var t=this,n=this.props,a=n.dispatch,o=n.video,r=void 0===o?{id:""}:o;return a(z.controlActions.setCaptions(e)).then((function(){t.refreshActiveTimer();var e=t.props.playerStore.captions||{},n=e.captionsList,a=(void 0===n?[]:n)[e.captionsIndex],o="off"===a.label.toLowerCase()?Xe.Sz.OFF:Xe.Sz.ON,i=(0,Ye.Ul)((null==a?void 0:a.lang)||""),s=(0,le.fe)(r.id,o,i);(0,ae.sx)(Ie.P6,s)}))},t.prototype.setQuality=function(e){var t=this,n=this.props,a=n.dispatch,o=n.video,r=void 0===o?{id:""}:o;return a(z.controlActions.setQuality(e)).then((function(){t.refreshActiveTimer();var n=(0,le.FZ)(r.id,e);(0,ae.sx)(Ie.dN,n)}))},t.prototype._hotKeyHandler=function(e){var t=e.keyCode,n=e.altKey,a=e.ctrlKey,o=e.metaKey,r=e.shiftKey;if(!(n||a||o||r||document.activeElement&&"input"===document.activeElement.tagName.toLowerCase())){var i=this.props,s=i.requestFullscreen,l=i.playerStore,c=l.playerState,u=l.volume.isMuted,d=l.captions,p=d.captionsList,m=d.captionsIndex,f=Vt.P$.space,v=Vt.P$.k,g=Vt.P$.arrowLeft,h=Vt.P$.j,y=Vt.P$.arrowRight,A=Vt.P$.l,E=Vt.P$.m,b=Vt.P$.f,C=Vt.P$.c,S=Vt.P$.escape,w=Vt.P$.tab;switch(t){case f:e.preventDefault();case v:c===z.State.paused?this.play(!0):this.pause(!0);break;case g:case h:if(this.isAd())break;this.stepRewind();break;case y:case A:if(this.isAd())break;this.stepForward();break;case E:var k=!u;this.setVolume({isMuted:k});break;case b:s(!this.props.isFullscreen);break;case S:this.props.isFullscreen&&s(!1);break;case C:if(this.isAd())break;var R=m+1>=p.length?0:m+1;this.setCaptions(R);break;case w:this.refreshActiveTimer()}}},t.prototype.isAd=function(){return this.props.playerStore.contentType===z.PLAYER_CONTENT_TYPE.ad},t.prototype.setInactive=function(){var e=this.props.dispatch;this.props.setActive(!1),clearTimeout(this.props.renderControlTimeoutRef.current),this.props.renderControlTimeoutRef.current=window.setTimeout((function(){e((0,Ze.Zd)(!1))}),Da)},t.prototype.showOverlayOnStartPlayback=function(){var e=this;this.props.playerStore.playerState===z.State.playing&&(this.props.hideActiveTimerRef.current||(this.props.hideActiveTimerRef.current=window.setTimeout((function(){e.props.setIsShowingOverlayOnStartPlayback(!1),e.props.playerStore.playerState!==z.State.playing||e.props.captionSettingsVisible||e.props.qualitySettingsVisible||e.setInactive()}),v.xel)))},t.prototype.refreshActiveTimer=function(){if(!this.props.isShowingOverlayOnStartPlayback){var e=this.props,t=e.playerStore.playerState,n=e.dispatch;clearTimeout(this.props.hideActiveTimerRef.current),clearTimeout(this.props.renderControlTimeoutRef.current),this.props.active||(this.props.setActive(!0),n((0,Ze.Zd)(!0))),t!==z.State.playing||this.props.captionSettingsVisible||this.props.qualitySettingsVisible||(this.props.hideActiveTimerRef.current=window.setTimeout(this.setInactive,v.Q6X))}},t.prototype.onClick=function(e){(0,this.props.dispatch)((0,Ze.Zd)(!0)),this.isAd()||(this.props.captionSettingsVisible?this.props.setCaptionSettingsVisible(!1):this.props.qualitySettingsVisible?this.props.setQualitySettingsVisible(!1):(e.stopPropagation(),this.togglePlay()))},t.prototype.onDoubleClick=function(e){e.target!==this.props.playerOverlayRef.current||this.props.requestFullscreen(!this.props.isFullscreen)},t.prototype.render=function(){var e,t,n,a=this.props,o=a.video,r=a.requestFullscreen,i=a.showAutoPlay,s=a.className,c=a.isMobile,d=a.castApiAvailable,p=a.title,m=a.seriesTitle,f=a.thumbnailSprites,v=a.playerStore,g=v.playerState,h=v.progress,y=h.position,A=h.duration,E=h.isBuffering,b=a.isFromAutoplay,C=a.basicCaptionSettings,S=a.handleCaptionSizeChange,w=a.handleCaptionBackgroundChange,k=a.castReceiverState,R=a.adBreaks,P=a.playerWebPip,I=a.active,M=a.ratingActive,_=a.hasPlaybackStarted,T=a.isShowingOverlayOnStartPlayback,N=a.captionSettingsVisible,L=a.qualitySettingsVisible,D=this.props.isIPhone&&this.props.isPortraitMode&&!this.props.isFullscreen,x=this.props.renderControls&&(!D||this.props.hasPlaybackStarted),O=this.props.isIPhone||this.props.isIPad&&this.props.isPortraitMode,V=this.isAd(),B=!V&&E,F=!V&&i,U=g===z.State.paused&&Math.abs(y-A)>1,W=l()(_a.A.webPlayerOverlay,((e={})[_a.A.hideCursor]=!I,e[_a.A.isAd]=V,e),s),Y=l()(_a.A.lowerArea,((t={})[_a.A.active]=I,t[_a.A.isAd]=V,t[_a.A.autoplayVisible]=F,t[_a.A.compactUiMode]=D,t)),H=l()(_a.A.titleArea,((n={})[_a.A.topActive]=I||M,n)),K=!D?u.createElement(Hn,{active:M,ratings:o.ratings}):void 0,G=D?void 0:u.createElement(Xn,{className:_a.A.titleWrapper,subtitle:m?p:"",subtitleClassName:_a.A.subtitle,title:m||p,titleClassName:_a.A.title,ratingOverlay:K,showTitle:I&&!D}),q=d&&k!==window.cast.framework.CastState.NO_DEVICES_AVAILABLE,Q=T&&q,j=!V&&this.isPiPSupported&&P.getValue();return u.createElement("div",{className:W,onClick:c?void 0:this.onClick,onDoubleClick:c?void 0:this.onDoubleClick,onMouseMove:c?void 0:this.onMouseMove,onMouseLeave:c?void 0:this.onMouseLeave,onTouchStart:c?this.onTouchStart:void 0,onTouchMove:c?this.onTouchMove:void 0,onTouchEnd:c?this.onTouchEnd:void 0,onTouchCancel:c?this.onTouchCancel:void 0,ref:this.props.playerOverlayRef},!_&&u.createElement("div",{className:_a.A.centeredPlayButtonContainer},u.createElement(wn.A,{className:_a.A.playButton,onClick:c?this.onClick:void 0})),u.createElement(Cn.A,{component:"div",className:H},u.createElement(Sn.A,{key:"title",timeout:Da,classNames:xa,nodeRef:this.props.titleRowRef},u.createElement("div",{ref:this.props.titleRowRef,className:_a.A.titleRow},G,d?u.createElement(Na,{placement:"bottom"}):null))),B?u.createElement(ht.A,{className:_a.A.spinner}):null,u.createElement(Cn.A,{component:"div",className:Y},u.createElement(Sn.A,{key:"message",classNames:xa,timeout:Da,nodeRef:this.props.bottomMessageRef},u.createElement("div",{ref:this.props.bottomMessageRef,className:_a.A.bottomMessage},V?u.createElement("div",{key:"adMessage",className:_a.A.adGradient},u.createElement(Sa,{className:_a.A.adMessage})):null,F?u.createElement(wa.A,{key:"autoplay",id:o.id,isEpisode:!!o.series_id,videoPaused:U,isFromAutoplay:b,compactAutoplayUiMode:O}):null)),x?u.createElement(Sn.A,{key:"control",classNames:xa,timeout:Da,nodeRef:this.props.controlAreaRef},u.createElement("div",{ref:this.props.controlAreaRef,className:_a.A.controlArea},u.createElement(ka.A,{seek:this.seek,thumbnailSprites:f,adBreaks:R,compactUiMode:D}),u.createElement(La.A,{setCaptions:this.setCaptions,toggleVolumeMute:this.toggleVolumeMute,updateVolume:this.updateVolume,setQuality:this.setQuality,requestFullscreen:r,play:this.explicitPlay,pause:this.explicitPause,stepRewind:this.stepRewind,stepForward:this.stepForward,basicCaptionSettings:C,handleCaptionSizeChange:S,handleCaptionBackgroundChange:w,shouldInitShowCastTip:Q,containerRef:this.props.playerOverlayRef,handleCaptionSettingsToggle:this.handleCaptionSettingsToggle,handleQualitySettingsToggle:this.handleQualitySettingsToggle,captionsSettingsVisible:N,qualitySettingsVisible:L,getAudioTracks:this.props.getAudioTracks,setAudioTrack:this.props.setAudioTrack,getCurrentAudioTrack:this.props.getCurrentAudioTrack,isFullscreen:this.props.isFullscreen,compactUiMode:D,showPIPButton:j,pipEnabled:this.props.pipEnabled,togglePictureInPicture:this.togglePictureInPicture}))):null))},t}(u.Component),Va=function(e){var t=(0,C.A)(Pa.HN),n=(0,C.A)(Pa.A9),a=(0,C.A)((function(t){return(0,_.l9)(t,e.video.id)})),o=(0,C.A)(et),r=(0,C.A)(A.dc),i=(0,C.A)(tt),s=(0,C.A)((function(e){return e.player})),l=(0,C.A)(I.zn),c=(0,C.A)(nt),d=(0,C.A)(at),p=(0,S.A)(Bt.Ay),m=(0,S.A)(Zn.Ay),f=(0,b.A)(),v=(0,u.useState)(!0),g=v[0],h=v[1],y=(0,u.useState)(!1),E=y[0],w=y[1],k=(0,u.useState)(!0),R=k[0],P=k[1],M=(0,u.useState)(!0),T=M[0],N=M[1],L=(0,u.useState)(!1),D=L[0],x=L[1],O=(0,u.useState)(!1),V=O[0],B=O[1],F=(0,u.useState)(!1),U=F[0],W=F[1],H=(0,u.useRef)(),z=(0,u.useRef)(),K=(0,u.useRef)(),G=(0,u.useRef)(),q=(0,u.useRef)(),Q=(0,u.useRef)(),j=(0,u.useRef)(!1),X=(0,u.useRef)(null),Z=(0,u.useRef)(),J=(0,u.useRef)(null),$=(0,u.useRef)(null),ee=(0,u.useRef)(null),te=(0,u.useRef)(),ne=(0,u.useRef)(!1),ae=Ra().hasPlaybackStarted;return u.createElement(Oa,(0,Y.A)({},e,{dispatch:f,castReceiverState:t,castApiAvailable:n,thumbnailSprites:a,hasShownRegistrationPrompt:o,isLoggedIn:r,renderControls:i,playerStore:s,isFullscreen:l,isIPhone:c,isIPad:d,webRegistrationPlayerGate:p,playerWebPip:m,active:g,setActive:h,ratingActive:E,setRatingActive:w,hasPlaybackStarted:ae,isShowingOverlayOnStartPlayback:R,setIsShowingOverlayOnStartPlayback:P,allowRatingDisplayStart:T,setAllowRatingDisplayStart:N,captionSettingsVisible:D,setCaptionSettingsVisible:x,qualitySettingsVisible:V,setQualitySettingsVisible:B,isPortraitMode:U,setIsPortraitMode:W,hideActiveTimerRef:H,hideRatingActiveTimerRef:z,showRatingDuringPlaybackTimerRef:K,setInactiveTimerRef:G,renderControlTimeoutRef:q,touchInfoRef:Q,hasPlayActionTriggeredRef:j,playerOverlayRef:X,pipPromiseRef:Z,titleRowRef:J,bottomMessageRef:$,controlAreaRef:ee,mediaQueryRef:te,haveCalledAfterPlayerCreateRef:ne}))},Ba=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPlayerCreate=function(e,n){var a,o;t.props.playerRef.current=e,t.props.setupAudioEvents(e),t.props.setupPipEvents(e),null===(o=(a=t.props).onPlayerCreate)||void 0===o||o.call(a,e,n)},t}return(0,H.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.video,a=e.seriesTitle,o=e.belongSeries,r=e.prerollUrl,s=e.ready,l=e.autoStart,c=void 0!==l&&l,d=e.startPosition,p=e.captionSettings,m=e.poster,f=e.userAgent,v=e.userId,g=e.videoResource,h=e.lastResourceRetryCount,y=e.performanceCollectorEnabled,A=e.shouldUseHlsNext,E=e.youboraExperimentMap,b=e.tryFallbackVideoResource,C=e.playerErrorHandle,S=e.isDRMSupported,w=e.drmKeySystem,k=e.getVideoResource,R=e.waitPrerollResponse,P=e.trackPlayProgressEvent,I=e.pipEnabled,M=e.getAudioTracks,_=e.setAudioTrack,T=e.getCurrentAudioTrack,N=f&&(0,i.isMobileWebkit)(f),L=this.props.playerRef.current,D=void 0!==k,x=p.background.toggle,O={fontSize:p.font.size,backgroundToggle:x},V=null;if(s){var B=this.props,F=B.isMobile,U=void 0!==F&&F,W=B.requestFullscreen,Y=B.showAutoPlay,H=B.title,K=B.seriesTitle,G=B.isFromAutoplay,q=B.adBreaks,Q=B.handleCaptionSizeChange,j=B.handleCaptionBackgroundChange,X=B.onStartSeekForward,Z=B.isFullscreen;V=u.createElement(Va,{player:L,video:n,requestFullscreen:W,showAutoPlay:Y,isMobile:U,seriesTitle:K,title:H,adBreaks:q,isFromAutoplay:G,basicCaptionSettings:O,handleCaptionSizeChange:Q,handleCaptionBackgroundChange:j,onStartSeekForward:X,getAudioTracks:M,setAudioTrack:_,getCurrentAudioTrack:T,isFullscreen:Z,pipEnabled:I})}return u.createElement("div",{className:t},u.createElement(vn.A,{playerName:z.PlayerName.VOD,forceHlsJS:!1,key:"".concat(JSON.stringify(D?{}:g),"-").concat(h),data:n,title:a||n.title,isSeriesContent:!!o,prerollUrl:r,onPlayerCreate:this.onPlayerCreate,autoStart:c,resumePos:d,captionSettings:p,poster:m,playerType:Me.yn.hls,userAgent:f,userId:v,videoResource:D?void 0:g,getVideoResource:k,analyticsConfig:ge().getAnalyticsConfig(),reuseVideoElement:N,performanceCollectorEnabled:y,useHlsNext:A,enableVideoSessionCollect:!0,youboraExperimentMap:E,tryFallbackVideoResource:b,playerErrorHandle:C,isDRMSupported:S,drmKeySystem:w,enableReposition:D,waitPrerollResponse:R}),V,u.createElement(gn.X,{player:L,track:P}),u.createElement(pn,{player:L}))},t}(u.Component),Fa=function(e){var t=e.contentId,n=e.videoResource,a=e.getVideoResource,o=(0,Mt.A)(),r=u.useRef(null),i=(0,C.A)(hn.l),s=(0,C.A)(lt),l=(0,C.A)(st),c=En({contentId:t}),d=c.pipEnabled,p=c.setupPipEvents,m=function(e){var t=e.contentId,n=(0,u.useRef)(null),a=(0,C.A)(A.Sj),o=(0,Mt.A)(),r=(0,u.useCallback)((function(){var e;return(0,An.kR)((null===(e=n.current)||void 0===e?void 0:e.getAudioTracks())||[],o)}),[n,o]),i=(0,u.useCallback)((function(e){return new Promise((function(o,i){var s,l=r().find((function(t){return("string"==typeof t.id?parseInt(t.id,10):t.id)===e}));if(!l)return i("no selected audio track");var c=(0,An.DT)(l),u=(0,An.us)(l),d=(0,le.tm)(t,c,u);(0,ae.sx)(Ie.Ix,d),(0,yn.My)(v.Jg4,l.label,a?void 0:v.KmL),null===(s=n.current)||void 0===s||s.setAudioTrack(l),o(l)}))}),[n,r,t,a]),s=(0,u.useCallback)((function(){var e;return null===(e=n.current)||void 0===e?void 0:e.getCurrentAudioTrack()}),[n]),l=(0,u.useCallback)((function(e){n.current=e,e.on(z.PLAYER_EVENTS.audioTracksAvailable,(function(e){var t=(0,yn.s)(v.Jg4);if(t){var n=e.find((function(e){return e.label===t}));n&&i("string"==typeof n.id?parseInt(n.id,10):n.id)}}))}),[i]);return{setAudioTrack:i,getAudioTracks:r,getCurrentAudioTrack:s,setupAudioEvents:l}}({contentId:t}),f=m.setAudioTrack,g=m.getAudioTracks,h=m.getCurrentAudioTrack,y=m.setupAudioEvents,E=(0,S.A)(fn.A);(0,u.useEffect)((function(){E.logExposure()}),[E]);var b=(0,S.A)(mn.Ay);(0,u.useEffect)((function(){var e;!!(null===(e=void 0!==a?a():n)||void 0===e?void 0:e.license_server)&&l===z.DrmKeySystem.Widevine&&b.logExposure()}),[b,n,a,l]);var w=(0,u.useCallback)((function(e,n){Be.Ay.trackPlayProgressEvent({contentId:t,resumePos:e,viewTime:n,isAutoplay:!!(0,we.P3)().autoplay})}),[t]);return u.createElement(Ba,(0,Y.A)({},e,{shouldUseHlsNext:i,isDRMSupported:s,drmKeySystem:l,webHlsUpgrade:E,playerWebUseClearlead:b,intl:o,trackPlayProgressEvent:w,playerRef:r,pipEnabled:d,setAudioTrack:f,getAudioTracks:g,getCurrentAudioTrack:h,setupAudioEvents:y,setupPipEvents:p}))},Ua=n(32284),Wa=n(19001),Ya="W9F1c",Ha="XjCq5",za="ywUIB",Ka="vFuUs",Ga="ramSx",qa="_ldbK",Qa="b3cjC",ja="ixXKu",Xa="NRDhw",Za="rFceR",Ja="Fo1A1",$a="heENJ",eo="MbKMG",to="JHpt9",no="wf95r",ao="aeV61",oo=(0,yt.YK)({play:{id:"src/web/features/playback/components/VideoDetail/PlayerArea/MobilePlayButton:play",defaultMessage:"Play"}}),ro=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getResumePosition=function(){var e=t.props.viewHistory;if(!e)return 0;var n=e.contentType,a=e.position,o=e.id,r=a||0;if("series"===n){var i=void 0,s=e.episodes||[];for(var l in s)if(s[l].contentId===parseInt(o,10)){i=s[l];break}r=i?i.position:0}return r},t.handleClick=function(e){null==e||e.stopPropagation();var n=t.props,a=n.id,o=n.title,r=n.onClick;!function(e,t){(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.WEB_MOBILE_PLAY_BUTTON,message:{id:e,title:t}})}(a,o),null==r||r()},t}return(0,H.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.viewHistory,n=e.duration,a=t?this.getResumePosition():0;return u.createElement("div",{className:to,onClick:this.handleClick},u.createElement(Wa.A,{label:u.createElement(At.A,oo.play),onClick:this.handleClick}),a?u.createElement("div",{className:no},u.createElement("div",{className:ao,style:{width:"".concat(a/n*100,"%")}})):null)},t}(u.PureComponent),io=ro,so=n(95289),lo=n.n(so),co=n(11143),uo="LNexg",po="FWz4L",mo="OXG0E",fo="nivP6",vo="Uci7N",go="hWMim",ho="S0FLJ",yo="MEOoO",Ao="mXQKi",Eo="Rvbc3",bo="oltTC",Co="T_zHn",So="ilAD4",wo="i_od0",ko="QENkJ",Ro=function(e){var t=e.className;return u.createElement(xt.A,{className:l()(po,t),viewBox:"0 0 66 66",role:"img"},u.createElement("title",null,"Icons"),u.createElement("path",{d:"M19.316 0L0 19.316v27.318l19.316 19.315h27.318l19.315-19.315V19.316L46.634 0H19.316zM1.5 46.013V19.937L19.937 1.5h26.076l18.436 18.437v26.076L46.013 64.449H19.937L1.5 46.013z"}),u.createElement("path",{d:"M38.16 28.66c0 3.128-.002 6.259.004 9.388.001.466-.156 1.051.544 1.173.657.115.782-.449.984-.88.885-1.897 1.758-3.799 2.65-5.692.589-1.245 1.697-1.558 2.843-.828.705.449.992 1.154.678 1.932-1.351 3.348-2.605 6.744-4.125 10.016-2.758 5.937-10.515 8.664-16.083 5.793-2.938-1.515-4.362-4.083-5.092-7.185-.633-2.688-.645-5.4-.575-8.13.096-3.76.17-7.52.254-11.279.006-.286.016-.574.045-.86.105-1.076.634-1.558 1.675-1.532 1.032.024 1.685.627 1.695 1.659.021 2.497.008 4.996.01 7.494 0 .23-.074.504.025.678.13.232.38.5.613.538.174.027.486-.25.582-.463.11-.242.06-.563.06-.848.005-3.417-.009-6.834.012-10.25.008-1.375 1.253-2.16 2.526-1.624.752.317 1.028.908 1.023 1.718-.02 3.157-.007 6.316-.006 9.474 0 .2-.07.444.018.594.152.26.4.46.61.685.224-.213.514-.391.655-.65.11-.203.037-.506.037-.764.002-3.905-.003-7.81.002-11.715.001-1.308.612-1.896 1.899-1.86 1.113.03 1.608.523 1.61 1.663.007 4.02.002 8.039.002 12.059 0 .2-.072.447.017.594.165.271.426.486.646.724.22-.247.594-.47.633-.744.095-.646.033-1.315.033-1.977 0-2.812-.01-5.626.006-8.44.01-1.248.888-1.974 2.088-1.784.87.14 1.398.752 1.4 1.676.007 3.214.003 6.43.003 9.646"}))},Po=function(){var e=l()(po,Eo);return u.createElement(xt.A,{className:e,viewBox:"0 0 67 67"},u.createElement("g",null,u.createElement("path",{className:bo,d:"M1 66h65V1H1z"}),u.createElement("path",{className:Co,d:"M40 17h10v33h-6V28c-.44-.963-.433-1.861 0-3-.403-1.176-.396-2.068 0-3l-7 28h-6l-7-28c.396.932.403 1.824 0 3 .433 1.139.44 2.037 0 3v22h-6V17h10l6 26 6-26z"})))},Io=(0,yt.YK)({adblock:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:adblock",defaultMessage:"Please disable your ad-blocker to watch this title."},adblockDesc:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:adblockDesc",defaultMessage:"For instructions on how to whitelist tubitv.com, visit our <customtag>support page</customtag>."},unavailable:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:unavailable",defaultMessage:"Content Unavailable"},unavailableDesc:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:unavailableDesc",defaultMessage:"Sorry, this video is not currently available."},drm:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:drm",defaultMessage:"Content requires DRM"},drmDesc:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:drmDesc",defaultMessage:"Sorry, this video requires DRM. You can troubleshoot DRM issues using this <customtag>link</customtag>."},castUnavailable:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:castUnavailable",defaultMessage:"We're sorry, but Chromecast is not available for this title."},castUnavailableDesc:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:castUnavailableDesc",defaultMessage:"Stop casting to watch this title in our web player"},error:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:error",defaultMessage:"Sorry, there was a problem loading the video player."},errorDesc:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:errorDesc",defaultMessage:"Please try to reload the page."},errorDesc2:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:errorDesc2",defaultMessage:"If you are using an ad-blocker, please disable it or <customtag>whitelist tubitv.com</customtag>"},networkError:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:networkError",defaultMessage:"No internet connection."},networkErrorDesc:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:networkErrorDesc",defaultMessage:"Please try again when your connection is available."},errorDesc3:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:errorDesc3",defaultMessage:"If the problem persists, please contact us at <supportLink>tubitv.com/support</supportLink>"},matureSignIn:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:matureSignIn",defaultMessage:"Sign In"},matureRegister:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:matureRegister",defaultMessage:"Don't have an account? <customtag>Register</customtag>"},kidsModeMessage:{id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:kidsModeMessage",defaultMessage:"This video is rated above your allowed level"}}),Mo=function(e){return u.createElement(gt.A,{to:"https://tubitv.com/support"},e)},_o=function(e){var t=e.className,n=l()(uo,So,t);return u.createElement("div",{className:n,"data-nosnippet":!0},u.createElement(Ro,{className:wo}),u.createElement("div",{className:mo},u.createElement("div",{className:fo},u.createElement(At.A,Io.adblock)),u.createElement("div",{className:vo},u.createElement(At.A,(0,Y.A)({},Io.adblockDesc,{values:{customtag:function(e){var t=e[0];return u.createElement(gt.A,{to:"https://tubitv.com/help-center/Setup-and-Troubleshooting/articles/4410093830939"},t)}}})))))},To=function(e){var t=e.message,n=e.showLogin,a=void 0===n||n,o=e.pathname,r=e.className,i=l()(uo,Ao,r);return u.createElement("div",{className:i},u.createElement(Po,null),u.createElement("div",{className:mo},u.createElement("div",{className:vo},t)),a?u.createElement("div",{className:go},u.createElement(X.Link,{to:"".concat(bt.yi.signIn,"?redirect=").concat(o)},u.createElement(Ut.A,null,u.createElement(At.A,Io.matureSignIn))),u.createElement("br",null),u.createElement("span",{className:ho},u.createElement(At.A,(0,Y.A)({},Io.matureRegister,{values:{customtag:function(e){var t=e[0];return u.createElement(gt.A,{to:"".concat(bt.yi.register,"?redirect=").concat(o)},t)}}})))):null)},No=function(e){var t=e.className,n=l()(uo,yo,t);return u.createElement("div",{className:n},u.createElement("div",{className:mo},u.createElement("div",{className:fo},u.createElement(At.A,Io.unavailable)),u.createElement("div",{className:vo},u.createElement(At.A,Io.unavailableDesc))))},Lo=function(e){var t=e.className,n=l()(uo,yo,t);return u.createElement("div",{className:n},u.createElement("div",{className:mo},u.createElement("div",{className:fo},u.createElement(At.A,Io.drm)),u.createElement("div",{className:vo},u.createElement(At.A,(0,Y.A)({},Io.drmDesc,{values:{customtag:function(e){var t=e[0];return u.createElement(gt.A,{to:"https://tubitv.com/help-center/Setup-and-Troubleshooting/articles/4410077357467"},t)}}})))))},Do=function(e){var t=e.className,n=e.rating,a=void 0===n?void 0:n,o=l()(uo,yo,t);return u.createElement("div",{className:o},a&&a.length?u.createElement(co.A,{text:a[0].value,className:ko}):null,u.createElement("div",{className:mo},u.createElement("div",{className:fo},u.createElement(At.A,Io.kidsModeMessage))))},xo=function(e){var t=e.className,n=l()(uo,yo,t);return u.createElement("div",{className:n,"data-nosnippet":!0},u.createElement("div",{className:mo},u.createElement("div",{className:fo},u.createElement(At.A,Io.error)),u.createElement("div",{className:vo},u.createElement(At.A,Io.errorDesc)),u.createElement("div",{className:vo},u.createElement(At.A,(0,Y.A)({},Io.errorDesc2,{values:{customtag:function(e){var t=e[0];return u.createElement(gt.A,{to:"https://tubitv.com/help-center/Setup-and-Troubleshooting/articles/4410093830939"},t)}}}))),u.createElement("div",{className:vo},u.createElement(At.A,(0,Y.A)({},Io.errorDesc3,{values:{supportLink:Mo}})))))},Oo=function(e){var t=e.className,n=l()(uo,yo,t);return u.createElement("div",{className:n,"data-nosnippet":!0},u.createElement("div",{className:mo},u.createElement("div",{className:fo},u.createElement(At.A,Io.networkError)),u.createElement("div",{className:vo},u.createElement(At.A,Io.networkErrorDesc)),u.createElement("div",{className:vo},u.createElement(At.A,(0,Y.A)({},Io.errorDesc3,{values:{supportLink:Mo}})))))},Vo=(0,yt.YK)({parentalRestrictedMessage:{id:"src/web/features/playback/components/VideoDetail/PlayerArea/PlayerArea:parentalRestrictedMessage",defaultMessage:"This video is rated above your allowed level. Please adjust your <parentallink>Parental Controls</parentallink> settings."},loginGatedMessage:{id:"src/web/features/playback/components/VideoDetail/PlayerArea/PlayerArea:loginGatedMessage",defaultMessage:"Mature rating. Sign in or register to continue watching."}}),Bo={opacity:"0"},Fo=function(e){var t,n,a=e.isMobile,o=e.video,r=e.viewHistory,i=e.belongSeries,s=e.prerollUrl,c=e.onPlayerCreate,d=e.removePlayer,p=e.aboveParental,m=e.showAutoPlay,f=e.mobilePlaybackEnabled,v=e.isCasting,g=e.seriesTitle,h=e.isContentReady,y=e.autoStart,E=e.startPosition,S=e.captionSettings,w=e.playerError,k=e.youboraExperimentMap,R=e.isFullscreen,P=e.isFromAutoplay,I=e.handleCaptionSizeChange,M=e.handleCaptionBackgroundChange,_=e.isContentLoginGated,T=e.isKidsModeEnabled,N=e.lastResourceRetryCount,L=e.adBreaks,D=e.requestFullscreen,x=e.performanceCollectorEnabled,V=e.onStartSeekForward,B=e.tryFallbackVideoResource,F=e.playerErrorHandle,U=e.showDRMUnsupportedWarning,W=e.getVideoResource,H=e.getVideoResourceManager,K=e.waitPrerollResponse,G=e.contentId,Q=e.playerReady,j=e.deviceId,X=(0,C.A)((function(e){return e.ui.userAgent})),Z=(0,C.A)(Ct.VM),J=(0,C.A)(A.dc),$=(0,C.A)(ot),ee=(0,b.A)(),te=(0,u.useCallback)((function(){ee((0,rn.R)(G))}),[G,ee]),oe=function(){var e=(0,u.useRef)(null),t=(0,u.useState)(!1),n=t[0],a=t[1];return(0,u.useEffect)((function(){var t=q()((function(){var t=e.current;if(t){var o=t.getBoundingClientRect();o.bottom<95&&!n?a(!0):o.bottom>=105&&n&&a(!1)}}),100);return(0,ze.q2)(window,"scroll",t),function(){(0,ze.f)(window,"scroll",t),t.cancel()}}),[n,e]),{isPlayerFadeActive:n,playerAreaRef:e}}(),re=oe.playerAreaRef,ie=oe.isPlayerFadeActive,se=function(){var e=(0,u.useState)(!1),t=e[0],n=e[1];return(0,u.useEffect)((function(){new un({debug:!1}).check().then((function(e){e&&(n(!0),(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.FM,message:{}}))}))}),[]),{adBlockerFound:t}}().adBlockerFound,le=void 0!==W,ce=le?W():e.videoResource,ue=H(),de=o.id,pe=o.title,me=o.type,fe=o.duration,ve=(0,O.ID)({type:me,id:de,title:pe}),ge=(0,Ua.Q)(o);if(U)return d(),u.createElement(Lo,null);var he=!1;if(he=le?!!ue&&void 0===ce:void 0===ce,h&&he)return d(),u.createElement(No,null);if(v)return d(),u.createElement("div",{className:$a},u.createElement("div",null,u.createElement(sn.Ay,{className:eo,contentId:de,castContent:te})));if(a&&!f){var ye=(0,O.VR)(o,j,{stopTracking:!Z});return u.createElement("a",{href:ye,className:Ha,title:"Mobile App Deep Link"},u.createElement(io,{viewHistory:r,duration:fe,title:pe,id:de,onClick:function(){return(0,Et.c)({deeplinkSource:"PlayerArea"}),!0}}))}if(se)return d(),u.createElement(_o,null);if(p&&!J&&T)return d(),u.createElement(Do,{rating:o.ratings});var Ae=p&&J;if(Ae||_){d();var Ee=Ae?u.createElement(At.A,(0,Y.A)({},Vo.parentalRestrictedMessage,{values:{parentallink:function(e){var t=e[0];return u.createElement(gt.A,{to:"".concat(bt.yi.parentalControl,"?ref=").concat(ve)},t)}}})):u.createElement(At.A,Vo.loginGatedMessage);return u.createElement(To,{message:Ee,showLogin:_,pathname:ve})}if(w){if(d(),w.type===z.ErrorType.SETUP_ERROR&&w.fatal)return u.createElement(xo,null);if(w.type===z.ErrorType.NETWORK_ERROR)return u.createElement(Oo,null)}var be=!Q,Ce=l()(za,((t={})[qa]=be,t[Xa]=R,t[Za]=R&&$,t)),Se=l()(Qa,((n={})[ja]=m,n)),we=u.createElement(Fa,{contentId:G,className:Se,video:o,belongSeries:i,prerollUrl:s,onPlayerCreate:c,onStartSeekForward:V,isMobile:a,autoStart:y,requestFullscreen:D,showAutoPlay:m,seriesTitle:g,title:pe,ready:!be,startPosition:E,captionSettings:S,poster:ge,userAgent:X,isFromAutoplay:P,handleCaptionSizeChange:I,handleCaptionBackgroundChange:M,videoResource:le?void 0:ce,lastResourceRetryCount:N,adBreaks:L,performanceCollectorEnabled:x,youboraExperimentMap:k,tryFallbackVideoResource:B,playerErrorHandle:F,getVideoResource:W,waitPrerollResponse:K}),ke=ie?Bo:void 0;return u.createElement("div",{className:Ya,"data-component":"PlayerArea"},u.createElement("section",{className:Ce,ref:re,style:ke},h?we:null,a||h&&!be?null:u.createElement("div",{className:Ka},u.createElement("img",{src:lo(),className:Ga,title:"Placeholder Image"}),u.createElement(ht.A,{className:Ja}))),u.createElement(on,null))},Uo="dQhZw",Wo="dd9kM",Yo="Le3zO",Ho="VPkoh",zo="cCMND",Ko="_Rpva",Go="zHQGA",qo="FHwR7",Qo=n(41675),jo=n(27042),Xo=n(40616),Zo=Xo.Ay.rainmakerUrl,Jo=Xo.Ay.rainmakerIPv4OnlyUrl,$o=function(e){var t=e.useIPv4OnlyServer,n=e.needAuth,a=(0,H.__rest)(e,["useIPv4OnlyServer","needAuth"]);return(!a.position||a.position<0)&&(a.position=0),function(e,t,n){var a=n?"v2/rev/vod":"api/v2/rev/vod";return"".concat(t?Jo:Zo,"/").concat(a,"/").concat((0,jo.ff)(),"?").concat((0,o.queryStringify)(e))}((0,Qo.$)(a),t,n)},er="No Player instance",tr=function(e,t){var n;return e.webRepositionVideoResource.getValue()?null===(n=nr(e))||void 0===n?void 0:n.getCurrentResource():t.videoResource},nr=function(e){var t,n=e.video,a=e.drmKeySystem,o=e.isDRMSupported,r=e.videoResourceManager,i=e.webRepositionVideoResource,s=e.isContentReady;return i.getValue()?s?(0,De.$i)({videoResources:null!==(t=n.video_resources)&&void 0!==t?t:[],drmKeySystem:a,isDRMSupported:o,rememberFallback:!0}):void 0:r},ar=function(e){var t=e.videoResourceManager;return null==t?void 0:t.getCurrentResource()},or=function(e){function t(t){var n=e.call(this,t)||this;return n.seekStartPosition=-1,n.trackNotUsedAds=function(){var e,t;switch((0,$.lM)().stage){case"PREROLL":case"MIDROLL":var a=null===(e=n.props.playerRef.current)||void 0===e?void 0:e.getAdList(),o=null===(t=n.props.playerRef.current)||void 0===t?void 0:t.getAdSequence();if(!a||!o)break;(0,z.sendVASTNotUsedBeacon)(a,z.VAST_AD_NOT_USED.EXIT_MID_POD,o,(function(e){(0,te.Q)(e,{type:"notUsed"})}))}},n.removePlayer=function(){var e=n.props,t=e.video.id,a=e.isSafari;n.viewHistoryTimer&&clearInterval(n.viewHistoryTimer),(0,Re.BC)()&&a&&(0,Re.wp)().catch((function(e){re(t,e.message)})),n.props.playerRef.current&&n.props.playerRef.current.remove&&(n.props.playerRef.current.remove(),n.props.playerRef.current=null)},n.onPlaybackEnd=function(){var e;pe(null!==(e=n.props.playerRef.current)&&void 0!==e?e:void 0)},n.getFallbackPosition=function(){var e=n.props,t=e.startPosition,a=e.playerRef,o=a.current?a.current.getPosition():0;return o>1?o:t},n.onVisualQualityChange=function(e){var t,a=e.qualityIndex,o=e.level,r=n.props,i=r.video.id,s=r.playerRef,l=tr(n.props,n.state);(0,me.t)({player:s.current,contentId:i,qualityIndex:a,videoResource:l,position:(null===(t=s.current)||void 0===t?void 0:t.getPosition())||-1,playerType:v.zug,level:o})},n.onPlayerCreate=function(e,t){var o=n.props,r=o.video,i=r.id,s=r.duration,l=o.startPosition,c=o.dispatch,u=o.isLoggedIn,d=o.playerRef;d.current=e,c((0,a.init)(d.current,l,s)),ee.HB.getInstance().playerCreated(),n.attachPlayProgressEvent(),n.attachHistoryHandler(),n.attachAnalyticsEvents();var p=null==t?void 0:t.errorManager;p&&p.setShowModal(n.showAlertModal),d.current.once(z.PLAYER_EVENTS.setup,(function(){return n.props.setPlayerReady(!0)})),d.current.on(z.PLAYER_EVENTS.seeked,n.onSeeked),d.current.on(z.PLAYER_EVENTS.captionsChange,(function(e){var t=e.captionsIndex;if(!d.current)throw new Error(er);var n=d.current.getCaptionsList()[t],a=n.lang,o=n.label,r=a||o;c((0,Pe.g6)((0,H.__assign)((0,H.__assign)({},"off"!==r.toLowerCase()?{language:r}:{}),{enabled:"off"!==r.toLowerCase()})))})),n.attachUpNext(),n.attachAdRules(),d.current.on(z.PLAYER_EVENTS.visualQualityChange,n.onVisualQualityChange),d.current.on(z.PLAYER_EVENTS.adError,(function(e,t){var a=t.ad,o=t.adPosition,r=t.adsCount,s=t.adSequence,l=t.isPreroll;if(!d.current)throw new Error(er);!function(e,t){(0,ae.jv)({type:ne.ij.adInfo,subtype:ne.rr.PLAYBACK.AD_ERROR,message:(0,H.__assign)((0,H.__assign)({},(0,he.U)(e)),ye(t))})}(e,{contentId:i,position:d.current.getPosition(),url:null==a?void 0:a.video,id:null==a?void 0:a.id,duration:null==a?void 0:a.duration,index:s,count:r,adPosition:o,isPreroll:l,player:fe.C.VOD}),E.Ay.error({err:e,contentId:i},"Web player ad error"),e&&e.name&&"NotAllowedError"===e.name&&n.props.setAllowAutostart(!1)})),d.current.on(z.PLAYER_EVENTS.play,(function(){(0,ae.bZ)(Ie.x8)}));var m=(0,Pe.fz)();m&&(n.props.dispatch((0,Pe.LH)(m)),n.updateCaptionStylesInPlayer(JSON.parse(m))),u||n.checkAndRemoveStoredPosition()},n.playerErrorHandle=function(e){(0,Z.FP)(e)?n.props.setAllowAutostart(!1):e.fatal&&[z.ErrorType.SETUP_ERROR,z.ErrorType.NETWORK_ERROR].includes(e.type)&&n.props.setPlayerError(e)},n.tryFallbackVideoResource=function(e){var t,a=n.props,o=a.video,r=a.videoResourceManager,i=n.getFallbackPosition(),s=ar(n.props),l=(0,Z.cB)(e),c={};if((0,Z.n5)(e)||(null==s?void 0:s.codec)===Fe.m.HEVC&&(0,Z.HP)(e))(t=null==r?void 0:r.fallback({changeCodec:!0}))&&(0,Ae.M)({contentId:o.id,failedVideoResource:s,fallbackVideoResource:t});else if(l){[z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_INTERNAL_ERROR,z.PLAYER_ERROR_DETAILS.HDCP_INCOMPLIANCE,z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_INVALID_HDCP_VERSION,z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_INVALID_STATUS,z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_REQUEST_FAILED].includes(e.details)?(t=null==r?void 0:r.fallback(),e.details!==z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_REQUEST_FAILED&&(c={resumePosition:i})):t=null==r?void 0:r.fallback({skipDRM:!0}),t&&(0,Ee.J)({contentId:o.id,failedVideoResource:s,fallbackVideoResource:t})}return t&&n.setState((0,H.__assign)((0,H.__assign)({},c),{videoResource:t})),t},n.useRainmakerEndpointWithAuth=function(){return n.props.webRainmakerEndpointWithAuth.getValue()||!1},n.markSeekStartPosition=function(){var e,t,a,o=null!==(a=null===(t=null===(e=n.props.playerRef.current)||void 0===e?void 0:e.getPosition)||void 0===t?void 0:t.call(e))&&void 0!==a?a:-1;(n.seekStartPosition<0||o<n.seekStartPosition)&&(n.seekStartPosition=o,n.adShouldBePlayedAfterSeek=void 0)},n.onSeeked=function(e){var t=e.offset,a=n.props.adBreaks;if(!(n.seekStartPosition<0)){if(a.find((function(e){return e>=n.seekStartPosition&&e<=t}))){var o=t+5;o<n.getCreditsTime()&&(n.adShouldBePlayedAfterSeek={position:o})}n.seekStartPosition=-1}},n.fetchAndPlayAds=function(e,t){var a=n.useRainmakerEndpointWithAuth(),o=n.getContentAdUrl(e,t),r=Le.m.getRainmakerParams().header;ee.HB.getInstance().markAdsFetched(),(0,Oe.$)(o,{useAuth:a,headers:r}).then((function(e){var t=e.ads;t&&n.playAdResponse(t)}))},n.handleResize=j()((function(){n.props.setVw(window.innerWidth)}),250),n.onResize=q()(n.handleResize,50),n.handleCaptionSizeChange=function(e){n.handleBasicSettingUpdate({setting:"font",attributeKey:"size",attributeValue:qe.KX[e]})},n.handleCaptionBackgroundChange=function(e){n.handleBasicSettingUpdate({setting:"background",attributeKey:"toggle",attributeValue:qe.hI[e]})},n.handleBasicSettingUpdate=function(e){n.props.dispatch((0,Pe.tm)(e)).then((function(e){return n.updateCaptionStylesInPlayer(e)}))},n.showAlertModal=function(e,t){var a=t.error,o=t.errorCode;(0,$.Hm)(),(0,ae.sx)(Ie.NM,(0,le.Jw)((0,Ge.M)(),K.hs.PLAYER_ERROR,o)),n.setState({isErrorModalOpen:!0,errorModalOpenDetails:a.details})},n.handleErrorModalClose=function(e){var t=0,a=n.state.lastResourceRetryCount,o={isErrorModalOpen:!1,errorModalOpenDetails:void 0,lastResourceRetryCount:a};if((0,$._3)(),e){var r=n.props.video;t=a+1,(0,ae.jv)({type:ne.ij.videoInfo,subtype:ne.rr.PLAYBACK.VIDEO_RETRY,message:{content_id:r.id,retry:t}}),o=(0,H.__assign)((0,H.__assign)({},o),{lastResourceRetryCount:t}),ee.HB.getInstance().startPlayback(r.id)}n.setState(o)},n.state={isErrorModalOpen:!1,errorModalOpenDetails:void 0,resumePosition:0,videoResource:void 0,lastResourceRetryCount:0},n}return(0,H.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.videoResource,a=ar(e);return a!==n?{videoResource:a}:null},t.prototype.componentDidMount=function(){var e=this;(0,ze.q2)(window,"resize",this.onResize),this.handleResize();var t=this.props,n=t.canAutoplay,a=t.webLastVideoResourceRetry,o=t.webRainmakerEndpointWithAuth,r=t.video,i=this.state.resumePosition;n||(0,We.P)({muted:!1}).then((function(t){e.props.dispatch((0,z.setAutoplayCapability)(t))})),(0,$.eH)(),ee.HB.getInstance().getEventEmitter().on(ee.qj.playbackEnd,this.onPlaybackEnd),(0,$.UA)({isAutomaticAutoplay:!1,resumePosition:i,contentId:null==r?void 0:r.id}),ee.HB.getInstance().startPlayback(),a.logExposure(),o.logExposure(),(0,ke.H)()&&this.props.setPlayerReady(!0)},t.prototype.componentWillUnmount=function(){var e=this.props.video.id,t=tr(this.props,this.state),n=!(0,J.ig)();ee.HB.getInstance().endPlayback(),(0,$.nv)(),ee.HB.getInstance().getEventEmitter().off(ee.qj.playbackEnd,this.onPlaybackEnd),n&&t&&(0,be.F)({contentId:e,videoResource:t}),(0,ze.f)(window,"resize",this.onResize),this.handleResize.cancel(),this.onResize.cancel(),this.trackNotUsedAds(),this.unmountPlayer(),ee.HB.getInstance().resetPlaybackInfo(),(0,$.eH)()},t.prototype.unmountPlayer=function(){if(this.props.dispatch((0,a.reset)()),this.props.playerRef.current){var e=this.props.playerRef.current.getPosition();this.updateHistory(e,{syncHistoryWithServer:!0}),this.removePlayer()}},t.prototype.attachGlobalMethod=function(){var e=this,t=this.props.video,n=t.duration,a=t.credit_cuepoints,o=void 0===a?{}:a;(0,we.Dt)({tubiPlayer:{seekTo:function(t){if(e.props.playerRef.current)if(Number.isFinite(t))e.props.playerRef.current.seek(parseFloat(t));else if(/^\d+%$/.test(t)){var a=(0,r.clamp)(parseFloat(t)/100,0,1);e.props.playerRef.current.seek(Math.floor(a*n))}else{if("credits"!==t||!o.postlude)throw new Error("Unrecognized value for position when calling tubiPlayer.seekTo(".concat(t,")"));e.props.playerRef.current.seek(o.postlude)}}}})},t.prototype.checkAndRemoveStoredPosition=function(){window.location.search.indexOf(v.$N2)>-1&&window.history.replaceState(null,"",window.location.href.replace(/\?startPos=\d*/,""))},t.prototype.attachUpNext=function(){var e=this,t=this.props,n=t.nextContextVideo,a=t.video,o=a.duration,r=a.credit_cuepoints,i=void 0===r?{}:r,s=t.playerRef;if(s.current)if(n)s.current.on(z.PLAYER_EVENTS.complete,(function(){e.playNextContextVideo()}));else{var l=i.postlude||o-1,c=!1;s.current.on(z.PLAYER_EVENTS.time,(function(t){var n=t.position;!c&&n>=l?(c=!0,e.props.setShowAutoPlay(!0)):c&&n<l&&(c=!1,e.props.setShowAutoPlay(!1))}))}},t.prototype.getContentAdUrl=function(e,t){if(this.adsDisabled()){if(!Ve.Wc.EmptyAd)throw new Error("Mock List Empty Ad should be a string");return Ve.Wc.EmptyAd}var n=this.props.deviceId,a=this.props,o=a.video,r=o.id,i=o.publisher_id,s=a.userId,l=a.isKidsModeEnabled,c=a.isEspanolModeEnabled,u=a.isFromAutoplay,d=a.isDeeplink,p=(0,xe.c$)({isDeeplink:d,isFromAutoplay:u,isAutomaticAutoplay:this.isAutomaticAutoplay()}),m=p.origin,f=p.containerId,v={contentId:r,deviceId:n,position:e,publisherId:i,userId:s,appMode:(0,Ue.h)({isKidsModeEnabled:l,isEspanolModeEnabled:c}),resumeType:t,isFromAutoplay:u,origin:m,containerId:f,needAuth:this.useRainmakerEndpointWithAuth()};return $o(v)},t.prototype.updateHistory=function(e,t){var n=(void 0===t?{}:t).syncHistoryWithServer,a=void 0!==n&&n,o=this.props,r=o.video.id,i=o.belongSeries,s=o.addToHistory,l=o.playerContentType,c=o.isLoggedIn,u=Math.floor(e);c&&s&&l!==z.PLAYER_CONTENT_TYPE.ad&&0!==u&&s({contentId:r,contentType:i?"episode":"movie",parentId:i?i.toString():null,position:u},{syncHistoryWithServer:a})},t.prototype.attachHistoryHandler=function(){var e=this,t=this.props,n=t.addToHistory,a=t.video.duration,o=t.playerRef;n&&o.current&&(clearInterval(this.viewHistoryTimer),this.viewHistoryTimer=window.setInterval((function(){var t,n;if(e.props.playerState===z.State.playing&&o.current){var a=null!==(n=null===(t=o.current)||void 0===t?void 0:t.getPosition())&&void 0!==n?n:0;0!==Math.floor(a)&&e.updateHistory(a)}}),Me.Z_),o.current.on(z.PLAYER_EVENTS.seek,(function(t){var n=t.offset;e.updateHistory(n)})),o.current.on(z.PLAYER_EVENTS.complete,(function(){e.updateHistory(a)})))},t.prototype.attachAnalyticsEvents=function(){var e=this,t=this.props.playerRef;if(t.current){var n=this.props,a=n.startPosition,o=n.video,r=o.id,i=o.has_subtitle,s=void 0!==i&&i,l=!1;t.current.on(z.PLAYER_EVENTS.firstFrame,(function(){if(!l){l=!0;var t=tr(e.props,e.state);t&&(Be.Ay.trackStartVideoEvent({contentId:r,resumePos:a,isAutoplay:!!(0,we.P3)().autoplay,videoResource:t,hasSubtitles:s}),(0,Ke.Rx)("video_start",{video_url:(0,Ge.M)()}))}}));var c=function(){if(!t.current)throw new Error(er);var e=(0,le.yG)(r,t.current.getPosition());(0,ae.sx)(Ie.B3,e)};t.current.on(z.PLAYER_EVENTS.adPodComplete,c),t.current.on(z.PLAYER_EVENTS.adPodFetchError,c),t.current.on(z.PLAYER_EVENTS.adPodEmpty,c),t.current.on(z.PLAYER_EVENTS.startupPerformance,(function(t){var n,o,i=t.isAd,s=t.metrics,l=e.props.playerRef,c=ne.rr.PLAYBACK,u=c.VOD_PERFORMANCE_METRIC,d=c.AD_PERFORMANCE_METRIC,p=tr(e.props,e.state);(0,ae.jv)({type:ne.ij.videoInfo,subtype:i?d:u,message:i?{metrics:s}:(0,H.__assign)({content_id:r,metrics:s,hdcp:null===(n=null==p?void 0:p.license_server)||void 0===n?void 0:n.hdcp_version,isUsingWebWorker:null===(o=l.current)||void 0===o?void 0:o.getIsUsingWebWorker(),isContinueWatching:a>0},(0,Se.N)({videoResource:p,player:l.current,customizedName:{type:"videoResourceType",codec:"videoResourceCodec",resolution:"videoResourceResolution"}}))}),i||(0,ie.Wf)(s)}))}},t.prototype.adsDisabled=function(){return!1},t.prototype.prerollDisabled=function(){return["noPreroll","noOdd"].includes("default")},t.prototype.isPrerollEnabled=function(){return!this.adsDisabled()&&!this.prerollDisabled()},t.prototype.getCreditsTime=function(){var e=this.props.video,t=e.duration,n=e.credit_cuepoints;return function(e,t){void 0===t&&(t={});var n=t.postlude,a=void 0===n?e-10:n;return Math.min(a,e-10)}(t,void 0===n?{}:n)},t.prototype.attachAdRules=function(){var e=this,t=this.props.playerRef;if(t.current){var n=this.props.adBreaks;ee.HB.getInstance().adBreaks(n);var a=n.reduce((function(e,t){return 0!==t&&(e[t]={adPlayed:!1}),e}),{});t.current.on(z.PLAYER_EVENTS.time,(function(n){var o=n.position;if(!t.current)throw new Error(er);var r=Math.floor(o);a.hasOwnProperty(r)&&!a[r].adPlayed&&(a[r].adPlayed=!0,e.fetchAndPlayAds(r))}))}},t.prototype.playAdResponse=function(e){var t,n,a=this.props,o=a.playerRef;a.showAutoPlay?(0,Ce.G)({position:(null===(t=o.current)||void 0===t?void 0:t.getPosition())||0,reason:z.VAST_AD_NOT_USED.EXIT_PRE_POD,detail:Ce.x.AUTOPLAY}):null===(n=o.current)||void 0===n||n.playAdResponse(e)},t.prototype.attachPlayProgressEvent=function(){var e=this,t=this.props.playerRef;t.current&&t.current.on(z.PLAYER_EVENTS.time,(function(t){var n=t.position;e.adShouldBePlayedAfterSeek&&e.adShouldBePlayedAfterSeek.position<=n&&(e.fetchAndPlayAds(n,Me.BF.FFWD),e.adShouldBePlayedAfterSeek=void 0,e.seekStartPosition=-1)}))},t.prototype.playNextContextVideo=function(){var e=this.props.nextContextVideo;e&&this.props.router.push((0,O.qA)({video:e}))},t.prototype.updateCaptionStylesInPlayer=function(e){var t=this.props.playerRef;if(!t.current)throw new Error(er);var n=(0,Ye.od)(e);t.current.setCaptionsStyles(n)},t.prototype.getAutoStart=function(){var e,t;if(this.props.isMobile)return!1;if(window.__Cypress__)return!1;if(window.__IS_GDPR_ENABLED__&&!(null===(t=(e=window.OneTrust).IsAlertBoxClosed)||void 0===t?void 0:t.call(e)))return!1;var n=this.props,a=n.canAutoplay,o=n.autoStart;return!!(this.props.playerReady&&a&&this.props.allowAutostart)||a&&this.props.allowAutostart&&o},t.prototype.isAutomaticAutoplay=function(){return!(!this.props.isFromAutoplay||Be.Ay.getState().fromAutoplayDeliberate)},t.prototype.render=function(){var e,t,n,a,o=this,r=this.props,i=r.contentId,s=r.deviceId,c=r.belongSeries,d=r.video,p=r.startPosition,m=r.series,f=r.viewHistory,v=r.posterUrl,g=r.seasonIndex,y=r.episodeIndex,A=r.isMobile,E=r.adBreaks,b=r.aboveParental,C=r.isInMobileWhitelist,S=r.isCasting,w=r.userBirthday,k=r.captionSettings,R=r.isContentReady,P=r.isFullscreen,I=r.isFromAutoplay,M=r.isContentLoginGated,_=r.isKidsModeEnabled,T=r.drmKeySystem,N=r.performanceCollectorEnabled,L=r.renderControls,D=r.isContentUnavailable,x=r.youboraExperimentMap,O=r.showDRMUnsupportedWarning,V=r.webRepositionVideoResource,B=r.isDrmKeySystemReady,F=r.requestFullscreen,U=r.showAutoPlay,W=r.vw,Y=r.playerReady,H=r.playerError,z=this.state,K=z.isErrorModalOpen,G=z.errorModalOpenDetails,q=z.lastResourceRetryCount,Q=z.resumePosition,j=V.getValue(),X=tr(this.props,this.state),Z=(nr(this.props),p>0?Me.BF.STOP:void 0),J=this.isPrerollEnabled()?this.getContentAdUrl(p,Z):Ve.Wc.EmptyAd,$=!!c;m&&(a=m.title);var ee=($?m:d)||{},te=ee.hero_images,ne=void 0===te?[]:te,ae=ee.posterarts,oe=void 0===ae?[]:ae,re=ee.backgrounds,ie=void 0===re?[]:re,se=ee.images,le=void 0===se?{}:se,ce=ie[0]||ne[0]||oe[0],ue=le.hero_422&&le.hero_422[0],de=!A&&!D,pe=Y&&Q?Q:p,me=this.getAutoStart(),fe=this.props.webIosPlayback.getValue()!==h.yk.DISABLED;return u.createElement("div",{className:l()(Uo,(e={},e[Yo]=L,e[Wo]=P,e))},de?null:u.createElement(ft.A,{preload:!0,src:ce,srcMobile:ue}),u.createElement("div",{className:l()(Ho,(t={},t[zo]=!Y,t[Wo]=P,t[Ko]=D,t))},!B||D?null:u.createElement(Fo,{key:"".concat(d.id,"-").concat(me?"true":"false"),isMobile:!!A,belongSeries:c,viewHistory:f,deviceId:s,video:d,adBreaks:E,aboveParental:b,isContentLoginGated:M,showAutoPlay:U,onPlayerCreate:this.onPlayerCreate,removePlayer:this.removePlayer,onStartSeekForward:this.markSeekStartPosition,prerollUrl:J,mobilePlaybackEnabled:C,playerReady:Y,isCasting:S,seriesTitle:a,userBirthday:w,isContentReady:R,showDRMUnsupportedWarning:O,autoStart:me,startPosition:pe,captionSettings:k,playerError:null!=H?H:void 0,isFullscreen:P,isFromAutoplay:I,handleCaptionSizeChange:this.handleCaptionSizeChange,handleCaptionBackgroundChange:this.handleCaptionBackgroundChange,isKidsModeEnabled:_,videoResource:j?void 0:X,getVideoResource:j?function(){return tr(o.props,o.state)}:void 0,getVideoResourceManager:function(){return nr(o.props)},lastResourceRetryCount:q,requestFullscreen:F,performanceCollectorEnabled:N,youboraExperimentMap:x,shouldEnableWebIosPlayback:fe,tryFallbackVideoResource:this.tryFallbackVideoResource,playerErrorHandle:this.playerErrorHandle,drmKeySystem:T,waitPrerollResponse:this.useRainmakerEndpointWithAuth(),contentId:i}),null),u.createElement("div",{className:l()(Go,(n={},n[Ko]=P,n[qo]=D,n))},u.createElement(vt.A,{belongSeries:c,content:d,seasons:(m||{}).seasons,seriesTitle:$?a:void 0,posterUrl:v,vw:W,seasonIndex:g,episodeIndex:y,isContentReady:R,shouldShowContentUnavailable:D})),u.createElement(dt.A,{isOpen:K,onClose:this.handleErrorModalClose,playerErrorDetails:G}))},t}(u.PureComponent),rr=(0,X.withRouter)((function(e){var t,n=e.contentId,a=e.isContentReady,o=e.video,r=e.location.query,i=(0,u.useRef)(null),s=mt(r),l=(0,C.A)(w.N),c=(0,C.A)(A.dc),d=(0,C.A)(I.Ku),p=(0,C.A)(ct),m=(0,C.A)(tt),f=(0,C.A)(pt.np),g=(0,C.A)(st),E=(0,C.A)(lt),k=(0,C.A)(I.iZ),R="Safari"===(null===(t=null==k?void 0:k.browser)||void 0===t?void 0:t.name),P=(0,C.A)(I.MH),M=(0,He.aC)(r),_=(0,S.A)(_e.Ay),T=(0,S.A)(Te.Ay),N=(0,S.A)(h.Ay),L=(0,S.A)(y.Ay),D=(0,S.A)(Ne.Ay),x=ut({video:o,isContentReady:a}),O=x.videoResourceManager,V=x.showDRMUnsupportedWarning,B=L.getValue(),F=function(e){var t=e.contentId,n=e.playerRef,a=(0,b.A)(),o=(0,C.A)(ot),r=(0,C.A)(I.MH),i=(0,u.useRef)(),s=(0,u.useRef)();(0,u.useEffect)((function(){i.current=(0,ze.Kn)()||document.body}),[]);var l=(0,u.useCallback)((function(){i.current&&i.current instanceof HTMLElement&&(0,ze.Kk)(i.current)}),[]),c=(0,u.useCallback)((function(){return(0,ze.Eh)()}),[]),d=(0,u.useCallback)((function(){n.current&&(n.current.pause(),(0,ae.sx)(Ie.U6,(0,le.U8)(t,Xe.WF.PAUSED)))}),[t,n]),p=(0,u.useCallback)((function(e){if(a((0,Ze.gO)(e)),(0,ae.sx)(Ie.rD,(0,le.xS)(t,e?Xe.Sz.ON:Xe.Sz.OFF)),r&&!o){if(!e)return d();(0,ze.gw)("landscape")}}),[t,a,r,o,d]),m=(0,u.useCallback)((function(){s.current=(0,ze.y5)(),p(!0)}),[p]),f=(0,u.useCallback)((function(){var e;null===(e=s.current)||void 0===e||e.call(s),p(!1)}),[p]),v=(0,u.useCallback)((function(e){e?o?m():l():(o?f():c(),o||d())}),[f,c,m,l,d,o]);return(0,u.useEffect)((function(){var e=function(){var e=!!(0,ze.Kn)();p(e)};return(0,ze.q2)(document,z.FULLSCREEN_CHANGE_EVENTS,e),function(){(0,ze.f)(document,z.FULLSCREEN_CHANGE_EVENTS,e)}}),[p]),(0,u.useEffect)((function(){return function(){var e;null===(e=s.current)||void 0===e||e.call(s)}}),[]),{requestFullscreen:v}}({contentId:n,playerRef:i}).requestFullscreen,U=je({videoContentType:e.video.type}).addToHistory,W=(0,u.useState)(!1),H=W[0],K=W[1],G=(0,u.useState)(P?v.LOf.sm:v.LOf.xl),q=G[0],Q=G[1],j=(0,u.useState)(!1),X=j[0],Z=j[1],J=(0,u.useState)(null),$=J[0],ee=J[1],te=(0,u.useState)(!0),ne=te[0],oe=te[1];return u.createElement(or,(0,Y.A)({},e,{deviceId:l,isLoggedIn:c,isEspanolModeEnabled:d,isDrmKeySystemReady:p,renderControls:m,canAutoplay:f,isDeeplink:M,webAdAbnormalErrorConstrainView:_,webLastVideoResourceRetry:T,webIosPlayback:N,webRepositionVideoResource:L,webRainmakerEndpointWithAuth:D,showDRMUnsupportedWarning:V,videoResourceManager:B?void 0:O,drmKeySystem:g,isDRMSupported:E,isSafari:R,playerRef:i,requestFullscreen:F,isMobile:P,isFromAutoplay:s,addToHistory:U,showAutoPlay:H,setShowAutoPlay:K,vw:q,setVw:Q,playerReady:X,setPlayerReady:Z,playerError:$,setPlayerError:ee,allowAutostart:ne,setAllowAutostart:oe}))})),ir=n(13106),sr=n(64275),lr=function(e){return e.captionSettings},cr=n(45709),ur=n(18031),dr=n(40254),pr=function(e){var t=this;this.validRatings=[],this.getPotentialAction=function(e){var n=e.potentialAction,a=void 0===n?{}:n;return(0,H.__assign)((0,H.__assign)({},e),{potentialAction:(0,H.__assign)((0,H.__assign)({},a),{"@type":"WatchAction",target:[{"@type":"EntryPoint",urlTemplate:t.url,inLanguage:"en",actionPlatform:["http://schema.org/DesktopWebPlatform","http://schema.org/MobileWebPlatform","http://schema.org/AndroidPlatform"]},{"@type":"EntryPoint",urlTemplate:t.androidDeepLink,inLanguage:"en",actionPlatform:"http://schema.org/AndroidPlatform"}],expectsAcceptanceOf:(0,H.__assign)((0,H.__assign)({},a.expectsAcceptanceOf),{"@type":"Offer",name:"Tubi",seller:{"@type":"Organization",name:"Tubi, Inc.",sameAs:"https://tubitv.com/"},eligibleRegion:{"@type":"Country",name:"US"}})})})},this.getImage=function(e){var n=t.props,a=n.posterarts,o=n.hero_images,r=n.thumbnails,i=n.backgrounds,s=a[0]||o[0]||r[0]||i[0];return(0,H.__assign)((0,H.__assign)({},e),{image:{"@type":"ImageObject",url:(0,cr.HK)(s)}})},this.getCast=function(e){var n=e.type,a=e.attr;return function(e){var o,r=t.props[n].map((function(e){return(0,ur.Dn)(e)}));return(0,H.__assign)((0,H.__assign)({},e),((o={})[a]=r,o))}},this.validateCast=function(e){var n=t.props[e];return n&&Array.isArray(n)&&n.length>0},this.validRating=function(){return t.validRatings=t.props.ratings.filter((function(e){return""!==e.value})),t.validRatings[0]},this.getRating=function(e){var n=t.validRatings[0];return(0,H.__assign)((0,H.__assign)({},e),{contentRating:n.value})},this.getGenre=function(e){return(0,H.__assign)((0,H.__assign)({},e),{genre:t.props.tags})},this.getAvailability=function(e){var n=e.potentialAction,a=void 0===n?{}:n,o=t.props,r=o.availability_starts,i=o.availability_ends;return(0,H.__assign)((0,H.__assign)({},e),{potentialAction:(0,H.__assign)((0,H.__assign)({},a),{expectsAcceptanceOf:(0,H.__assign)((0,H.__assign)({},a.expectsAcceptanceOf),{availabilityStarts:r,availabilityEnds:i})})})},this.getDuration=function(e){var n=t.props.duration,a=(0,dr.I)(n);return(0,H.__assign)((0,H.__assign)({},e),{duration:a})},this.getReleasedEvent=function(e){var n=new Date(t.props.year.toString()).toISOString();return(0,H.__assign)((0,H.__assign)({},e),{dateCreated:n,releasedEvent:(0,H.__assign)((0,H.__assign)({},e.releasedEvent),{startDate:n})})},this.getReleasedEventLocation=function(e){return(0,H.__assign)((0,H.__assign)({},e),{releasedEvent:(0,H.__assign)((0,H.__assign)({},e.releasedEvent),{"@type":"PublicationEvent",location:{"@type":"Country",name:t.props.country}})})},this.getAndroidDeepLink=function(){return(0,O.UR)(t.props)},this.addConditionally=function(e){var t=e.meta,n=e.updateMeta,a=e.condition;return void 0!==a&&!a||"function"!=typeof n?{}:n(t)},this.getJsonLd=function(){var e=t.props,n=e.description,a=e.id,o=e.seriesId,r=e.title,i=e.type;if(i!==v.zug&&i!==v.vG4)return null;var s={"@context":"https://schema.org","@id":a,"@type":o||i!==v.zug?"TVEpisode":"Movie",name:r,url:t.url,description:n};return t.metaAttributesAndConditions.reduce((function(e,n){var a=n.updateMeta,o=n.condition,r=t.addConditionally({meta:e,updateMeta:a,condition:o});return(0,H.__assign)((0,H.__assign)({},e),r)}),s)};var n=e,a=n.id,o=n.title,r=n.description,i=n.type,s=n.year,l=n.duration,c=n.availability_ends,u=n.availability_starts,d=n.posterarts,p=void 0===d?[]:d,m=n.hero_images,f=void 0===m?[]:m,g=n.thumbnails,h=void 0===g?[]:g,y=n.backgrounds,A=void 0===y?[]:y,E=n.tags,b=void 0===E?[]:E,C=n.ratings,S=void 0===C?[]:C,w=n.actors,k=void 0===w?[]:w,R=n.directors,P=void 0===R?[]:R,I=n.series_id,M=n.landscape_images,_=void 0===M?[]:M,T=n.publisher_id,N=e.country;this.props={id:a,title:o,description:r,type:i,year:s,country:N,duration:l,availability_ends:c,availability_starts:u,posterarts:p,hero_images:f,thumbnails:h,backgrounds:A,tags:b,ratings:S,actors:k,directors:P,seriesId:I,landscape_images:_,publisher_id:T},this.url=(0,O.qA)({video:e,absolute:!0}),this.androidDeepLink=this.getAndroidDeepLink(),this.metaAttributesAndConditions=[{updateMeta:this.getReleasedEvent,condition:"number"==typeof s&&!!s},{updateMeta:this.getReleasedEventLocation,condition:!!N},{updateMeta:this.getDuration,condition:!(!l||!parseInt("".concat(l),10))},{updateMeta:this.getAvailability,condition:!!c&&!!u},{updateMeta:this.getGenre,condition:!!b.length},{updateMeta:this.getRating,condition:!!this.validRating()},{updateMeta:this.getCast({type:"directors",attr:"director"}),condition:!!this.validateCast("directors")},{updateMeta:this.getCast({type:"actors",attr:"actor"}),condition:!!this.validateCast("actors")},{updateMeta:this.getImage,condition:!!(p.length||f.length||h.length||A.length)},{updateMeta:this.getPotentialAction}]},mr=pr,fr=n(577),vr=function(e){var t=e.video,n=(0,u.useMemo)((function(){return new mr(t).getJsonLd()}),[t]);return u.createElement(fr.A,{jsonLd:n})},gr=n(82177),hr=n(59183),yr="rjiTB",Ar="wyd30",Er=n(31550),br=(0,c.A)(hr.B),Cr=function(e){var t,n,a,o,r,s,c=e.params,m=e.location,f=(0,b.A)(),E=m.query,T=void 0===E?{}:E,N=c.id,L=T.startPos,D=(0,C.A)((function(e){return(0,p.v)((0,_.w)(e,N))})),O=(0,C.A)((function(e){return(0,_.s2)(e,N)})),Y=(0,C.A)((function(e){return(0,_.eX)(e,N)})),H=(0,C.A)((function(e){return(0,_.Fv)(e,N)})),z=(0,C.A)((function(e){return(0,_.sD)(e,N)})),K=(0,C.A)((function(e){return(0,_.Zd)(e,N)})),G=(0,C.A)((function(e){return(0,_.Y7)(e,N)})),q=function(e,t){var n=e&&(0,sr.ih)(t,e.seasons)||{};return{seasonIndex:n.season,episodeIndex:n.episode}}(Y,N),Q=q.seasonIndex,j=q.episodeIndex,X=(0,C.A)(w.N),Z=(0,C.A)(A.dc),J=(0,C.A)(A.Sj),$=(0,C.A)(I.iZ),ee=(0,C.A)(I.zn),te=(0,C.A)(k.KQ),ne=(0,C.A)(R.OC),ae=(0,C.A)(rt),oe=(0,C.A)(M.of),ie=(0,C.A)(P.cR),se=(0,C.A)(pt.tB),le=(0,C.A)(M.Oj),ce=(0,C.A)(I.AS),ue=(0,C.A)(lr),de=!!(r=O)&&void 0!==r.availability_starts&&void 0!==D&&0!==D.length,pe=(0,Er.x)({isContentReady:de,content:O}),me=(s=(0,C.A)(Pa.HN),{isCasting:!("undefined"==typeof window||!window.cast||s!==window.cast.framework.CastState.CONNECTED)}).isCasting,fe=function(e){var t=(0,C.A)(I.ZL),n=e.query,a=void 0===n?{}:n,o=e.state,r=void 0===o?{}:o,i=mt(a)||"google-feed"===a.utm_source||"true"===a[v.x39]||r[v.x39];return t&&(i=!1),{autoStart:i}}(m).autoStart,ve=function(e){var t=e.contentId,n=e.startPosFromQuery,a=(0,C.A)((function(e){return(0,_.sD)(e,t)})),o=(0,C.A)(_.QT),r=(0,ir.S)({history:a,contentId:t,byId:o,isSeries:!1}).position,i=Math.max(r,0);return{startPosition:(0,C.A)(Pa.yD)||n&&parseInt(n,10)||i}}({contentId:N,startPosFromQuery:L}).startPosition;!function(e){var t=e.contentId,n=(0,u.useRef)(t);n.current=t,(0,u.useEffect)((function(){return function(){(0,Re.BC)()&&(0,Re.wp)().catch((function(e){re(n.current,e.message)}))}}),[n])}({contentId:N});var ge=(0,S.A)(h.Ay),he=(0,S.A)(y.Ay);(0,u.useEffect)((function(){$&&(0,i.isMobileWebkit)($)&&ge.logExposure(),he.logExposure()}),[$,ge,he]);var ye=O.title,Ae=O.id,Ee=O.ratings,be=O.posterarts,Ce=(void 0===be?[]:be)[0];K&&(Ce=(null===(n=null==Y?void 0:Y.posterarts)||void 0===n?void 0:n[0])?Y.posterarts[0]:void 0);var Se=ce&&(!Z||Z&&oe===g.v.ADULTS)?g.v.OKIDS:oe,we=(0,x.hz)(Se,Ee),ke=l()(yr,((t={})[Ar]=ee,t)),Pe=ne(O),Ie=br({video:O,series:Y,isEpisode:K,deviceId:X});return u.createElement("div",null,u.createElement(d.mg,Ie),u.createElement("div",{className:ke,key:O.id},u.createElement(rr,{contentId:N,key:ye,dispatch:f,nextContextVideo:G,series:Y,aboveParental:we,seasonIndex:Q,episodeIndex:j,playerState:ie,playerContentType:se,autoStart:fe,belongSeries:O.series_id,video:O,startPosition:ve,viewHistory:z,adBreaks:D,relatedContents:H,posterUrl:Ce,userId:J,userBirthday:le,isInMobileWhitelist:ae,isCasting:me,captionSettings:ue,isContentReady:de,userAgent:$,isFullscreen:ee,isContentLoginGated:Pe,isKidsModeEnabled:ce,performanceCollectorEnabled:te,isContentUnavailable:pe,location:m,youboraExperimentMap:v.ur7}),u.createElement(vr,{video:O}),pe?null:u.createElement(gr.Ay,{video:O,name:null===(o=null===(a=Ie.meta)||void 0===a?void 0:a.find((function(e){return"og:title"===e.property})))||void 0===o?void 0:o.content})),u.createElement(V.A,null),!K&&(0,W.xc)(m)?u.createElement(U.A,{contentId:Ae,contentType:"movie",location:m,title:ye}):null,!ee&&u.createElement(F.wn,null,(function(e){var t=e.enabled;return u.createElement(B.A,{contentId:Ae,useRefreshStyle:t})})))};function Sr(e){var t=e.getState,n=e.dispatch,o=e.params.id;n(a.drmActions.updateDrmKeySystem());var r=[n((0,f.mo)(o)),(0,D.I)(n((0,f.kV)(o)))];return Promise.all(r).then((function(){var e=t(),a=e.video.byId[o],r=a.series_id,i=a.type===v.vG4?"0".concat(o):o,s=[n((0,f.C1)(i))];r&&s.push(n((0,f.hg)({seriesId:r,season:1,page:1,size:v.por})));var l=(0,A.dc)(e),c=(0,I.AS)(e),u=l&&!c;return r&&u?s.push(n((0,m.gs)((0,T.B9)(r))).catch((function(e){E.Ay.error(e,"Video - error loading user reactions for series")}))):u&&s.push(n((0,m.gs)(i)).catch((function(e){E.Ay.error(e,"Video - error loading user reactions for content")}))),Promise.all(s)})).catch((function(e){var t=(0,L.X)(e.errType);return E.Ay[t]({error:e,contentId:o},"error when loading related contents for video container"),Promise.reject(e)}))}function wr(e){var t=e.getState,n=e.dispatch,i=e.location,s=e.params,l=e.res,c=[],u=s.id,d=t(),p=d.video.byId;(0,A.dc)(d);return p[u]||c.push(n((0,f.mo)(u))),c.push(n(a.drmActions.updateDrmKeySystem())),Promise.all(c).then((function(){var e=t().video.byId[u],n=(e.series_id,e.type);(0,N.Mt)(n);var a=(0,O.qA)({video:e});i.pathname!==a&&(0,r.isExpectedType)(i,["state","action"])&&(null==l||l.redirect(301,"".concat(a).concat((0,o.buildQueryString)(i.query))))})).catch((function(e){var t=(0,L.X)(e.errType);return E.Ay[t]({error:e,contentId:u},"error when loading data for video container"),Promise.reject(e)}))}Cr.fetchData=wr,Cr.fetchDataDeferred=Sr,Cr.reserveContainerContext=!0,Cr.hasDynamicMeta=!0;var kr=Cr},31550:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},x:function(){return r}});var a=n(52691),o=n(18872),r=function(e){var t,n,o=e.content,r=e.isContentReady,i=(null==o?void 0:o.type)===a.vG4?(null!==(n=null===(t=null==o?void 0:o.seasons)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0:null==o?void 0:o.policy_match;return r&&!i},i=function(e){var t,n=e.content,r=e.location,i=!1,s=n.availability_starts;if((null===(t=null==r?void 0:r.state)||void 0===t?void 0:t.from)===a.zCW)i=!0;else if(s){var l=(0,o.H)(new Date(s),new Date);i=l>0&&l<=30}return i}},96573:function(e,t,n){"use strict";n.d(t,{A9:function(){return r},HN:function(){return o},yD:function(){return i}});var a=n(38054),o=function(e){var t,n;return null!==(n=null===(t=e.chromecast)||void 0===t?void 0:t.castReceiverState)&&void 0!==n?n:""},r=function(e){var t,n;return!(0,a.wV)(e)&&(null!==(n=null===(t=e.chromecast)||void 0===t?void 0:t.castApiAvailable)&&void 0!==n&&n)},i=function(e){return e.chromecast.position}},81409:function(e,t,n){"use strict";n.d(t,{Ll:function(){return s},OW:function(){return g},PS:function(){return p},Rt:function(){return i},ZU:function(){return o},aw:function(){return c},ch:function(){return r},gQ:function(){return d},np:function(){return l},ns:function(){return m},tB:function(){return h},th:function(){return v},vV:function(){return u},xL:function(){return f}});var a=n(70853),o=function(e){return e.player.progress.bufferPosition},r=function(e){return e.player.progress.duration},i=function(e){return e.player.progress.position},s=function(e){return e.player.contentType===a.PLAYER_CONTENT_TYPE.ad},l=function(e){return e.player.canAutoplay},c=function(e){return e.player.ad.adSequence},u=function(e){return e.player.volume.isMuted},d=function(e){return e.player.volume.volume},p=function(e){return e.player.captions.captionsList},m=function(e){return e.player.captions.captionsIndex},f=function(e){return e.player.quality.qualityList},v=function(e){return e.player.quality.qualityIndex},g=function(e){return e.player.quality.isHD},h=function(e){return e.player.contentType}},18031:function(e,t,n){"use strict";n.d(t,{Dn:function(){return i}});var a=n(96540),o=n(91244),r=n(577),i=function(e){return{"@type":"Person",name:e,url:(0,o.$o)(e)}},s=function(e){var t=e.name,n=function(e){for(var t,n,a=e.name,o=e.videos,r=new Set,i=0,s=o;i<s.length;i++){var l=s[i];(null===(t=l.actors)||void 0===t?void 0:t.includes(a))?r.add("Actor"):(null===(n=l.directors)||void 0===n?void 0:n.includes(a))&&r.add("Director")}return Array.from(r)}({name:t,videos:e.videos});return{"@context":"https://schema.org","@type":"Person",name:t,url:(0,o.$o)(t),jobTitle:n}};t.Ay=function(e){var t=(0,a.useMemo)((function(){return s(e)}),[e]);return a.createElement(r.A,{jsonLd:t})}},74055:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var a=n(32485),o=n.n(a),r=n(96540),i=n(80545),s=n(72267),l=n(36778),c="w6yu0",u="Lu9eu",d=(0,s.YK)({posterAlt:{id:"src/web/rd/components/BackgroundImage/BackgroundImage:posterAlt",defaultMessage:"poster background"}}),p="(max-width: 539px)",m=function(e){var t,n=e.preload,a=void 0!==n&&n,s=e.src,m=e.srcMobile,f=(0,r.useState)(!1),v=f[0],g=f[1],h=(0,r.useRef)(null),y=(0,l.tz)(),A=o()(((t={})[u]=v,t)),E=function(){g(!0)};return(0,r.useEffect)((function(){h.current&&h.current.complete&&setTimeout(E,200)}),[]),r.createElement("div",{className:c},a?r.createElement(i.mg,null,r.createElement("link",{rel:"preload",as:"image",href:s,media:"(min-width: 540px)"}),m&&r.createElement("link",{rel:"preload",as:"image",href:m,media:p})):null,r.createElement("picture",null,m&&r.createElement("source",{srcSet:m,media:p}),r.createElement("img",{ref:h,src:s,alt:y.formatMessage(d.posterAlt),className:A,onLoad:E})))},f=(0,r.memo)(m)},77705:function(e,t,n){"use strict";n.d(t,{A:function(){return Qn}});var a=n(23789),o=n(80815),r=n(19392),i=n(32485),s=n.n(i),l=n(96540),c=n(72267),u=n(6442),d=n(24179),p=n(83775),m=n(52691),f=n(19487),v=n(93329),g=n(40962),h=n(631),y=n(66080),A=n(10619),E=n(69780),b=n(64275),C=n(90089),S=n(16744),w=n(48902),k=n(20802),R=n(68604),P="u5T0l",I="h32aa",M=(0,c.YK)({contentUnavailable:{id:"src/web/components/ContentDetail/ContentUnavailable:contentUnavailable",defaultMessage:"content unavailable"}}),_=function(){var e=(0,u.A)();return l.createElement("div",{className:P},l.createElement("div",{className:I},e.formatMessage(M.contentUnavailable)))},T=n(31550),N=n(58980),L=n(69926),D=n(72440),x=n(25016),O=n(41013),V=n(91759),B=n(36778),F=n(91244),U="LXnxs",W="Em3_m",Y="Cg14t",H="KJR4e",z=(0,c.YK)({director:{id:"src/web/rd/components/ContentDetail/DirectorAndActor/DirectorAndActor:director",defaultMessage:"Directed by"},starring:{id:"src/web/rd/components/ContentDetail/DirectorAndActor/DirectorAndActor:starring",defaultMessage:"Starring"}}),K=function(e){var t=e.directors,n=void 0===t?[]:t,a=e.actors,o=void 0===a?[]:a,r=e.className,i=(0,h.A)(),c=(0,B.tz)(),u=function(e){return e.map((function(e){if("N/A"===e)return e;var t=(0,V.PV)(e);return l.createElement(N.A,{to:(0,F.TL)(t),key:e,onClick:function(){return function(e){x.Ay.createNavigateToPageComponent({actorName:e,componentType:L.K_.castListComponent}),i((0,D.fU)((0,O.M)()))}(e)}},l.createElement("span",{className:H},e))}))};return l.createElement("div",{className:s()(U,r)},(null==o?void 0:o.length)?l.createElement("div",{className:W},l.createElement("span",{className:Y},c.formatMessage(z.starring),":"),l.createElement("span",null,u(o))):null,(null==n?void 0:n.length)?l.createElement("div",{className:W},l.createElement("span",{className:Y},c.formatMessage(z.director),":"),l.createElement("span",null,u(n))):null)},G=n(58168),q=n(70853),Q=n(95923),j=n(58104),X=n(39178),Z=n(86587),J=n(4703),$=n(14529),ee=n(43955),te=n(60957),ne=n(4911),ae=n(64569),oe=n(47842),re=n(15215),ie=(0,l.memo)((function(e){return l.createElement("svg",(0,re.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",role:"img"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9 12a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3-1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m4 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2",clipRule:"evenodd"}))})),se=n(84389),le=n(85070),ce="un53Z",ue="mTKCf",de="XykWo",pe="FsywM",me="eAd4E",fe="NBXOS",ve=(0,c.YK)({reportAProblem:{id:"src/web/rd/components/ContentDetail/MoreActions/MoreActions:reportAProblem",defaultMessage:"Report a problem"}}),ge=function(e){var t=e.title,n=e.contentId,a=(0,B.tz)(),o=(0,l.useState)(!1),r=o[0],i=o[1],c=(0,l.useRef)(null);(0,se.A)(c,(function(){return i(!1)}));var u={pathname:le.yi.support,query:{title:t,contentId:n}},d=(0,l.useCallback)((function(){x.Ay.createNavigateToPageComponent({componentType:L.K_.middleNavComponent,endY:te.CC.ReportProblem}),(0,ne.y)({componentSectionIndex:te.CC.ReportProblem})}),[]);return l.createElement("div",{className:s()(ce),ref:c},l.createElement(Z.A,{appearance:"tertiary",onClick:function(){return i(!r)},className:de},r?l.createElement(oe.A,{className:ue}):l.createElement(ie,{className:ue})),r?l.createElement("div",{className:s()(pe)},l.createElement("div",{className:s()(me)},l.createElement(N.A,{onClick:d,className:fe,to:u},a.formatMessage(ve.reportAProblem)))):null)},he=n(99555),ye=n(4538),Ae=n(63457),Ee="tNvyU",be="Td7wJ",Ce="SYAPr",Se="My5bG",we=n(41023),ke=(0,c.YK)({remindMe:{id:"src/web/rd/components/ContentDetail/RemindButton/RemindButton:remindMe",defaultMessage:"Remind Me"},reminderSet:{id:"src/web/rd/components/ContentDetail/RemindButton/RemindButton:reminderSet",defaultMessage:"Remove Reminder"},reminderDesc:{id:"src/web/rd/components/ContentDetail/RemindButton/RemindButton:reminderDesc",defaultMessage:"Youâ€™ll be notified via email when this becomes available"}}),Re=function(e){var t=e.className,n=(0,re.__rest)(e,["className"]),a=(0,B.tz)(),o=(0,Ae.d4)((function(e){return e.reminder.loaded||e.reminder.hasError})),r=(0,Ae.d4)(g.dc),i=(0,we.A)(n),c=i.dispatchReminderAction,u=i.hasReminderSet;if(r&&!o)return null;var d=u?l.createElement(Z.A,{icon:he.A,className:s()(be,Ce),appearance:"tertiary",onClick:c},l.createElement("span",null,a.formatMessage(ke.reminderSet))):l.createElement(Z.A,{icon:ye.A,className:be,appearance:"tertiary",onClick:c},a.formatMessage(ke.remindMe));return l.createElement("div",{className:s()(Ee,t)},d,l.createElement("div",{className:Se},a.formatMessage(ke.reminderDesc)))},Pe=n(64720),Ie=n(32863),Me=n(22024),_e=n(61950),Te=n(67409),Ne=n(30485),Le="XByGK",De="H5RWw",xe="CZOzW",Oe="eK7QY",Ve="iQIyk",Be="z2MiI",Fe=(0,c.YK)({share:{id:"src/web/rd/components/ContentDetail/ShareButton/ShareButton:share",defaultMessage:"Share"},twitterText:{id:"src/web/rd/components/ContentDetail/ShareButton/ShareButton:twitterText",defaultMessage:"Watch {title} on Tubi:"}}),Ue=function(e){var t=e.title,n=e.contentId,a=e.type,o=(0,B.tz)(),r=(0,l.useState)(!1),i=r[0],c=r[1],u=(0,l.useRef)(null);(0,se.A)(u,(function(){return c(!1)}));var d=function(e){var t=e.shareUrl,n=e.twitterText;return[{name:"facebook",Icon:Ie.A,trackType:_e.J$,url:"https://www.facebook.com/sharer/sharer.php?u=".concat((0,Ne.g_)(t,"facebook"))},{name:"twitter",Icon:Me.A,trackType:_e.UQ,url:"https://twitter.com/intent/tweet?text=".concat(n," ").concat((0,Ne.g_)(t,"twitter"))}]}({shareUrl:(0,k.ID)({type:a,id:n,title:t,host:m.dFE}),twitterText:o.formatMessage(Fe.twitterText,{title:t})});return l.createElement("div",{className:Le,ref:u},l.createElement(Z.A,{className:De,appearance:"tertiary",onClick:function(){return c(!i)}},o.formatMessage(Fe.share)),i?l.createElement("div",{className:s()(xe)},l.createElement("div",{className:s()(Oe)},d.map((function(e){var t=e.name,a=e.url,o=e.trackType,r=e.Icon;return l.createElement("a",{className:Ve,key:t,href:a,target:"_blank",onClick:function(){return function(e){var t=(0,Te.Mu)(n,e,Pe.rc.CLICK);(0,Ne.sx)(_e.Zq,t),(0,ne.y)({componentSectionIndex:te.CC.Share}),c(!1)}(o)}},t,l.createElement("span",{className:Be},l.createElement(r,null)))})))):null)},We="d3O8W",Ye="ar4AE",He="etFQQ",ze="mCeMU",Ke=n(91466),Ge=n(10208),qe="Y6Oq1",Qe="J2EcW",je="VctqK",Xe="DwKjN",Ze=(0,c.YK)({install:{id:"src/web/rd/components/ContentDetail/ButtonGroup/InstallButton/InstallButton:install",defaultMessage:"Watch in App"}}),Je=function(e){var t=e.isInLeftSidebar,n=e.video,a=(0,u.A)(),o=(0,y.A)((function(e){return e.auth.deviceId})),r=(0,y.A)(Ge.VM);return l.createElement(Z.A,{className:qe,appearance:"tertiary","aria-label":a.formatMessage(Ze.install),onClick:function(){var e=(0,k.VR)(n,o,{stopTracking:!r});(0,Ke.c)({deeplinkSource:"InstallButton"}),window.location.href=e}},l.createElement("div",{className:Qe},l.createElement("i",{className:s()(je,t&&Xe)}),a.formatMessage(Ze.install)))},$e=n(14755),et=n(25279),tt=n(47982),nt=(0,l.memo)((function(e){return l.createElement("svg",(0,re.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none","data-test-id":"icons-thumb-down-stroke",viewBox:"0 0 24 24",role:"img"},e),l.createElement("title",null,"Thumb Down Stroke Icon"),l.createElement("path",{fill:"currentColor",d:"m21.865 10.844-.714-4.04c-.171-.971-.435-2.075-1.405-2.9C18.812 3.109 17.713 3 16.664 3h-6.12a3.54 3.54 0 0 0-2.387.924A2.986 2.986 0 0 0 6 3H5a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3h1c.865 0 1.639-.373 2.187-.96a.664.664 0 0 1 .37.214 11.339 11.339 0 0 1 1.991 3.975l.221.8c.32 1.16 1.366 1.971 2.545 1.971h.351c1.46 0 2.646-1.214 2.646-2.707v-.676c0-1.687-.02-2.168-.359-3.29a.252.252 0 0 1 .237-.327h2.238c1.097 0 2.216-.124 2.968-1.025.776-.942.649-2.11.47-3.131M7 13c0 .551-.45 1-1 1H5c-.551 0-1-.449-1-1V6c0-.551.449-1 1-1h1c.55 0 1 .449 1 1v7m12.855-.302c-.174.21-.603.302-1.427.302h-3.375c-.452 0-.88.219-1.144.586a1.457 1.457 0 0 0-.195 1.312c.597 1.804.597 1.804.597 3.72v.676c0 .39-.29.707-.646.707h-.35c-.283 0-.537-.207-.618-.503l-.22-.8a13.318 13.318 0 0 0-2.343-4.673 2.644 2.644 0 0 0-1.154-.827c.004-.067.02-.131.02-.198V6.5c0-.827.672-1.5 1.5-1.5h6.164c.948 0 1.415.112 1.786.428.372.315.563.767.732 1.724l.713 4.039c.15.854.139 1.291-.04 1.507"}))})),at=n(77264),ot=n(71085),rt=n(22325),it=function(e){return e.userReactions},st=function(){return(0,rt.Mz)(it,(function(e,t){return t}),(function(e,t){var n;return null===(n=e.content[t])||void 0===n?void 0:n.status}))},lt=n(29363),ct=n(83990),ut=n(99869),dt=n(13500),pt=n(12494),mt=n(77161),ft=n(67550),vt=(0,c.YK)({youNeedToSignIn:{id:"src/web/features/userReactions/actions:youNeedToSignIn",defaultMessage:"You need to sign in!"},pleaseSignInToSaveYourRatings:{id:"src/web/features/userReactions/actions:pleaseSignInToSaveYourRatings",defaultMessage:"Please sign in to save your ratings."},signIn:{id:"src/web/features/userReactions/actions:signIn",defaultMessage:"Sign In"},close:{id:"src/web/features/userReactions/actions:close",defaultMessage:"Close"}});function gt(e,t){return"reaction-".concat(t,"-").concat(e)}function ht(e){switch(e){case"like":return"dislike";case"dislike":return"like";default:throw new Error("Unexpected reaction value ".concat(e))}}function yt(e){var t=e.contentId,n=e.reaction,a=e.loginCallback,o=e.dispatch,r=e.intl,i=e.pathname,s="title_".concat(n);(0,Ne.sx)(_e.NM,(0,Te.Jw)(i,ct.hs.SIGNIN_REQUIRED,s,ct.pZ.SHOW)),o((0,ft.A)(pt.tEZ,{id:gt(t,ht(n))})),o((0,dt.z8)({title:r.formatMessage(vt.youNeedToSignIn),description:r.formatMessage(vt.pleaseSignInToSaveYourRatings),status:"info",autoDismiss:!1,buttons:[{title:r.formatMessage(vt.signIn),primary:!0,action:function(){(0,Ne.sx)(_e.NM,(0,Te.Jw)(i,ct.hs.SIGNIN_REQUIRED,s,ct.pZ.ACCEPT_DELIBERATE)),o((0,mt.dc)(a)),o((0,ut.VC)("".concat(le.yi.signIn,"?redirect=").concat(encodeURIComponent(window.location.pathname))))}},{title:r.formatMessage(vt.close),action:function(){(0,Ne.sx)(_e.NM,(0,Te.Jw)(i,ct.hs.SIGNIN_REQUIRED,s,ct.pZ.DISMISS_DELIBERATE))}}]},gt(t,n)))}var At,Et,bt,Ct="WmxLf",St="PxzBi",wt=(0,c.YK)({like:{id:"src/web/rd/components/ContentDetail/ContentDetailReactions/ContentDetailReactions:like",defaultMessage:"Like"},dislike:{id:"src/web/rd/components/ContentDetail/ContentDetailReactions/ContentDetailReactions:dislike",defaultMessage:"Dislike"},liked:{id:"src/web/rd/components/ContentDetail/ContentDetailReactions/ContentDetailReactions:liked",defaultMessage:"Liked"},disliked:{id:"src/web/rd/components/ContentDetail/ContentDetailReactions/ContentDetailReactions:disliked",defaultMessage:"Disliked"}}),kt=function(e){var t=e.contentId,n=e.seriesContentId,a=(0,h.A)(),o=(0,y.A)(g.dc),r=null!=n?n:t,i=(0,u.A)(),s=(0,l.useMemo)(st,[]),c=(0,y.A)((function(e){return s(e,r)})),d=(0,at.Z)(),p=(0,l.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),o?"liked"===c?((0,lt.Rf)(r),(0,ne.y)({componentSectionIndex:te.CC.LikeRemoveRating}),a((0,ot.No)(r,"like"))):((0,lt.j1)(r),(0,ne.y)({componentSectionIndex:te.CC.Like}),a((0,ot.U1)(r,"like"))):(a(function(e){return function(t,n){var a=(0,O.M)();yt({pathname:a,contentId:e,reaction:"like",loginCallback:function(){(0,lt.j1)(e,void 0,a),t((0,ot.U1)(e,"like"))},dispatch:t,intl:(0,B.UX)(n().ui.userLanguageLocale)})}}(r)),(0,ne.y)({componentSectionIndex:te.CC.Like}))}),[a,r,o,c]),m=(0,l.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),o?"disliked"===c?((0,lt.VP)(r),(0,ne.y)({componentSectionIndex:te.CC.DislikeRemoveRating}),a((0,ot.No)(r,"dislike"))):((0,lt.Ru)(r),(0,ne.y)({componentSectionIndex:te.CC.Dislike}),a((0,ot.U1)(r,"dislike"))):(a(function(e){return function(t,n){var a=(0,O.M)();yt({pathname:a,contentId:e,reaction:"dislike",loginCallback:function(){(0,lt.Ru)(e,void 0,a),t((0,ot.U1)(e,"dislike"))},dispatch:t,intl:(0,B.UX)(n().ui.userLanguageLocale)})}}(r)),(0,ne.y)({componentSectionIndex:te.CC.Dislike}))}),[a,r,o,c]),f=!(!d||o&&!c),v=(null==d?void 0:d.lg)?"tooltip":"text",A=i.formatMessage("liked"===c?wt.liked:wt.like),E=i.formatMessage("disliked"===c?wt.disliked:wt.dislike);return l.createElement("div",{className:Ct},f?l.createElement(l.Fragment,null,l.createElement(Z.A,{className:St,appearance:"tertiary",iconSize:"large",icon:"liked"===c?$e.A:et.A,tooltip:"tooltip"===v?A:void 0,onClick:p},"text"===v?A:null),l.createElement(Z.A,{className:St,appearance:"tertiary",iconSize:"large",icon:"disliked"===c?tt.A:nt,tooltip:"tooltip"===v?E:void 0,onClick:m},"text"===v?E:null)):null)},Rt=(0,l.memo)(kt),Pt=(0,c.YK)({playNow:{id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:playNow",defaultMessage:"Play Now"},free:{id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:free",defaultMessage:"Free"},addToMyList:{id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:addToMyList",defaultMessage:"Add to My List"},removeFromMyList:{id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:removeFromMyList",defaultMessage:"Remove from My List"},play:{id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:play",defaultMessage:"Play"},watchLastEpisode:{id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:watchLastEpisode",defaultMessage:"Play Latest Episode"},resume:{id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:resume",defaultMessage:"Resume"}}),It=function(e){var t=e.isRecurring,n=e.id,a=e.belongSeries,o=e.type,r=e.title,i=e.onClickWatch,c=e.className,u=e.isSeriesDetail,d=e.isContentUnavailable,p=e.remindButtonClassName,f=e.isInLeftSidebar,v=e.video,g=(0,B.tz)(),A=(0,h.A)(),b=(0,y.A)((function(e){return e.player.playerState})),C=(0,y.A)((function(e){return e.ui.userAgent})),S=(0,l.useRef)(null),w=(0,y.A)(ee.MH),k=o===m.vG4?(0,E.B9)(n):n,R=(0,y.A)((function(e){return o===m.vG4&&!!e.history.contentIdMap[k]})),P=(0,y.A)((function(e){return o!==m.vG4?"":(0,$.EG)(e,{seriesId:k,formatMessage:g.formatMessage})})),I=(0,y.A)(J.c),M={children:g.formatMessage(Pt.playNow),tag:g.formatMessage(Pt.free)},_=(0,l.useCallback)((function(e){var t=e.dispatchQueueAction,n=e.isInQueue;return l.createElement(Z.A,{ref:S,onClick:t,appearance:"tertiary",className:s()(ze)},g.formatMessage(n?Pt.removeFromMyList:Pt.addToMyList))}),[g]);t?M={children:R?g.formatMessage(Pt.resume):g.formatMessage(Pt.watchLastEpisode)}:P&&(M={children:"".concat(g.formatMessage(R?Pt.resume:Pt.play)," ").concat(P)});var T=(0,y.A)(ee.AS),N=I&&!u&&(0,j.isMobileWebkit)(C),L=l.createElement(l.Fragment,null,u?l.createElement(Z.A,(0,G.A)({},M,{onClick:function(){(0,ne.y)({componentSectionIndex:R?te.CC.ContinueWatching:te.CC.Play}),w?null==i||i():"inited"===b||"paused"===b?A(Q.controlActions.play(q.ActionLevel.UI)):"playing"===b?A(Q.controlActions.pause()):null==i||i()},className:He,icon:X.A})):null,N&&l.createElement(Je,{isInLeftSidebar:f,video:v}),T?null:l.createElement("div",{className:Ye},l.createElement(Rt,{contentId:k,seriesContentId:a?(0,E.B9)("".concat(a)):void 0})),l.createElement(ae.A,{id:n,belongSeries:a},_),l.createElement("div",{className:Ye},l.createElement(Ue,{title:r,contentId:n,type:o}),l.createElement(ge,{title:r,contentId:n})));return l.createElement("div",{className:s()(We,c)},d?l.createElement(Re,{contentId:k,contentType:o,contentTitle:r,className:p}):L)},Mt="Foi1U",_t="PyF_c",Tt=function(e){var t=e.onClickWatch,n=e.posterUrl,a=e.posterSrcSet,r=e.posterSizes,i=e.posterAlt,c=e.content,u=e.belongSeries,d=e.isContentUnavailable,p=e.className,m=e.isSeriesDetail,f=e.labelTag,v=c,g=v.id,h=v.is_recurring,A=v.title,E=v.type,b=(0,y.A)((function(e){return e.player})).progress;return l.createElement("div",{className:s()(Mt,p)},f?l.createElement("div",{className:_t},f):null,l.createElement(o.A,{alt:i,src:n,srcSet:a,sizes:r,progress:d?void 0:b.position/b.duration}),l.createElement(It,{id:g,belongSeries:u,isRecurring:h,type:E,title:A,onClickWatch:t,isSeriesDetail:m,isContentUnavailable:d,isInLeftSidebar:!0,video:c}))},Nt=n(3753),Lt=n(89568),Dt=n(70978),xt="VOtL6",Ot="niYJb",Vt="rrNfJ",Bt="t3vzq",Ft=n(69865),Ut=n(21586),Wt=n(60905),Yt=(0,c.YK)({youMayAlsoLike:{id:"src/web/rd/components/RelatedContents/RelatedContentsRow:youMayAlsoLike",defaultMessage:"You May Also Like"},addToMyList:{id:"src/web/rd/components/RelatedContents/RelatedContentsRow:addToMyList",defaultMessage:"Add to My List"},removeFromMyList:{id:"src/web/rd/components/RelatedContents/RelatedContentsRow:removeFromMyList",defaultMessage:"Remove from My List"}}),Ht=function(e){var t=e.breakpoints,n=e.contentId,a=e.isVertical,o=e.title,r=e.contentIds,i=e.containerSlug,s=(0,B.tz)(),c=(0,l.useState)(0),u=c[0],d=c[1],p=(0,Nt.A)(),m=p.refCallback,f=p.isInView,v=(0,l.useCallback)((function(e){var t=e.index,n=e.contentId;x.Ay.createNavigateToPageComponent({startX:t,startY:0,containerSlug:i,contentId:n,componentType:L.K_.relatedComponent})}),[i]),g=(0,l.useCallback)((function(e,t){var a=e.startX,o=e.endX,r=e.meansOfNavigation;x.Ay.trackCarouselTrigger({startX:a,endX:o,contentId:n,slug:i,componentType:L.K_.relatedComponent,meansOfNavigation:r},t)}),[n,i]),h=(0,l.useCallback)((function(e){var t=e.itemIndex;d((function(e){return g({startX:e,endX:t}),t}))}),[g]),y=(0,l.useCallback)((function(e,t){return l.createElement(Wt.A,{id:e,indexInContainer:t,tileOrientation:"portrait",showProgress:!0,onNavigation:v})}),[v]);return(0,l.useEffect)((function(){f&&g({startX:0,endX:0,meansOfNavigation:"SCROLL"},{debounce:!1})}),[f,g]),r.length?l.createElement("div",{className:Ot},l.createElement("h2",{className:Vt},o||s.formatMessage(Yt.youMayAlsoLike)),a?l.createElement(Ut.Ay,{contentIds:r,breakpoints:t}):l.createElement("div",{ref:m},l.createElement(Ft.A,{index:u,onIndexChange:h,className:Bt,data:r,renderItem:y,adjustPrevNextForContentTile:!0,breakpoints:t}))):null},zt=(0,l.memo)(Ht),Kt=((0,c.YK)({contentRowTitle:{id:"src/web/rd/components/RelatedContents/RelatedContents:contentRowTitle",defaultMessage:"You May Also Like"},celebrityRowTitle:{id:"src/web/rd/components/RelatedContents/RelatedContents:celebrityRowTitle",defaultMessage:"From the Cast and Crew"}}),(At={})[m.pMF]="ymal",At[m.zSp]="from_cast_and_crew",At),Gt=[m.zSp,m.pMF],qt=function(e){var t=e.contentId,n=e.className,a=e.limit,o=e.isContentUnavailable,r=(0,re.__rest)(e,["contentId","className","limit","isContentUnavailable"]),i=(0,A.A)(Lt.Ay),c=Boolean(!o),u=i.getValue()&&c,d=(0,y.A)((function(e){return(0,Dt.Zz)(e,t,Gt,a)})),p=!!d.find((function(e){return e.id===m.zSp})),f=(0,Nt.A)(),v=f.refCallback,g=f.isInView;(0,l.useEffect)((function(){g&&c&&p&&i.logExposure()}),[g,c,p,i]);var h=u?d:d.filter((function(e){return e.id===m.pMF})),E=h.map((function(e){var n=e.contents,a=e.title,o=e.id;return(null==n?void 0:n.length)?l.createElement(zt,(0,G.A)({contentId:t,contentIds:n,title:a,containerSlug:Kt[o]},r)):null}));return l.createElement("div",{className:s()(xt,n),ref:v},E)},Qt=(0,l.memo)(qt),jt=n(591),Xt=n(68079),Zt=n(24713),Jt=n.n(Zt),$t=n(44383),en=n.n($t),tn=(0,c.YK)({seasonDropdownLabel:{id:"src/common/constants/series-message:seasonDropdownLabel",defaultMessage:"Season {seasonNumber}"},loading:{id:"src/common/constants/series-message:loading",defaultMessage:"Loading"}}),nn=n(4628),an=n(61427),on=n(20680);!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Timeout=2]="Timeout",e[e.Cancelled=3]="Cancelled"}(Et||(Et={})),function(e){e.Pending="pending",e.Loading="loading",e.Loaded="loaded"}(bt||(bt={}));var rn=(0,nn.secs)(5),sn=function(){function e(e){var t=e.seriesId,n=e.store,a=e.pageSize,o=e.numVisibleSeasons,r=this;this.pageSize=10,this.visibleEpisodes={seasonNumber:1,episodeStartIndex:0,episodeEndIndexInclusive:0},this.seriesContentId="",this.unsubscribeFromStore=null,this.resolveEpisodeMetadata=null,this.episodeMetadata=new Promise((function(e){r.resolveEpisodeMetadata=e})),this.seasonPagesStatus={},this.seasonRangesAreBroken=!1,this.seriesId=t,this.storeLike=n,this.pageSize=a,this.numVisibleSeasons=o,this.seriesContentId=(0,E.B9)(t),this.checkIfMetadataLoaded(),this.update()}return e.prototype.destroy=function(){var e;null===(e=this.unsubscribeFromStore)||void 0===e||e.call(this),this.unsubscribeFromStore=null,this.resolveEpisodeMetadata=null,this.storeLike=null,this.seasonPagesStatus={},this.seasonRangesAreBroken=!1},e.prototype.subscribeToStore=function(){var e;this.storeLike&&(this.unsubscribeFromStore=null===(e=this.storeLike)||void 0===e?void 0:e.subscribe(this.checkIfMetadataLoaded.bind(this)))},e.prototype.updateVisibleEpisodes=function(e){return!(0,Ae.bN)(this.visibleEpisodes,e)&&(this.visibleEpisodes=e,this.update(),!0)},e.prototype.update=function(){return(0,re.__awaiter)(this,void 0,Promise,(function(){var e,t=this;return(0,re.__generator)(this,(function(n){switch(n.label){case 0:return e=this.visiblePageIndexes(),[4,Promise.all(e.map((function(e){return t.tryLoadPage({season:t.visibleEpisodes.seasonNumber,numSeasons:t.numVisibleSeasons,page:e})})))];case 1:return n.sent(),[2]}}))}))},e.prototype.checkIfMetadataLoaded=function(){var e,t,n;if(null===this.resolveEpisodeMetadata)return!0;var a=null===(t=null===(e=this.storeLike)||void 0===e?void 0:e.getState().video.byId[this.seriesContentId])||void 0===t?void 0:t.seasons;if(a){var o=a.reduce((function(e,t){var n,a=t.number,o=t.episodes;return{episodesBySeason:(0,re.__assign)((0,re.__assign)({},e.episodesBySeason),(n={},n[a]=o,n)),seasonNumbers:e.seasonNumbers.concat(Number(a))}}),{episodesBySeason:{},seasonNumbers:[]});return o.seasonNumbers.sort((function(e,t){return e-t})),this.resolveEpisodeMetadata(o),this.resolveEpisodeMetadata=null,null===(n=this.unsubscribeFromStore)||void 0===n||n.call(this),this.unsubscribeFromStore=null,!0}return!1},e.prototype.visiblePageIndexes=function(){for(var e=[],t=this.visibleEpisodes,n=t.episodeStartIndex,a=t.episodeEndIndexInclusive,o=n;o<=a;o++){var r=Math.floor(o/this.pageSize);e.indexOf(r)<0&&e.push(r)}return e},e.prototype.tryLoadPage=function(e){return(0,re.__awaiter)(this,void 0,Promise,(function(){var t,n,a,o,r,i,s,l,c=this;return(0,re.__generator)(this,(function(u){switch(u.label){case 0:return this.storeLike?[4,this.episodeMetadata]:[2];case 1:return t=u.sent().seasonNumbers,n=e.season,a=e.numSeasons,o=void 0===a?1:a,r=e.page,[4,this.getNSeasonNumbers(n,o)];case 2:return 0===(i=u.sent()).length?[2]:[4,this.getLoadedStatusForPageInSeasons(i,r)];case 3:return u.sent().allLoaded||(s=r*this.pageSize,l=(r+1)*this.pageSize-1,i.forEach((function(e){if(c.getPageStatus({season:e,page:r})===bt.Pending){var n={startSeason:e,episodeStartIndex:s,episodeEndIndex:l};c.setPageStatus({season:e,page:r,status:bt.Loading});for(var a=t.indexOf(e),i=c.countAdjacentSeasonsNotLoaded({allSeasons:t,startSeasonIndex:a,page:r,numSeasons:o}),u=a+1;u<=a+i;u++){var d=t[u];c.seasonRangesAreBroken?c.tryLoadPage({season:d,page:r,numSeasons:1}):c.setPageStatus({season:d,page:r,status:bt.Loading})}i>0&&!c.seasonRangesAreBroken&&(n.endSeason=n.startSeason+i),c.fetch(n).then((function(){return c.checkWhatWasLoaded(n,r)}))}}))),[2]}}))}))},e.prototype.getNSeasonNumbers=function(e,t){return(0,re.__awaiter)(this,void 0,Promise,(function(){var n,a;return(0,re.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.episodeMetadata];case 1:return n=o.sent().seasonNumbers,(a=n.indexOf(e))<0?[2,[]]:[2,n.slice(a,a+t)]}}))}))},e.prototype.getLoadedStatusForPageInSeasons=function(e,t){return(0,re.__awaiter)(this,void 0,void 0,(function(){var n,a,o,r=this;return(0,re.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all(e.map((function(e){return r.isPageOfSeasonLoaded({season:e,page:t})})))];case 1:return n=i.sent(),a=n.every(Boolean),o=n.reduce((function(t,n,a){var o;return(0,re.__assign)((0,re.__assign)({},t),((o={})[e[a]]=n,o))}),{}),[2,(0,re.__assign)((0,re.__assign)({},o),{allLoaded:a})]}}))}))},e.prototype.isPageOfSeasonLoaded=function(e){var t,n=e.season,a=e.page;return(0,re.__awaiter)(this,void 0,Promise,(function(){var e,o,r,i,s,l,c,u;return(0,re.__generator)(this,(function(d){switch(d.label){case 0:return this.getPageStatus({season:n,page:a})===bt.Loaded?[2,!0]:[4,this.episodeMetadata];case 1:if(e=d.sent(),o=e.episodesBySeason,r=e.seasonNumbers,r.indexOf(n)<0)return[2,!0];if(!(i=o[n]))return[2,!1];for(s=a*this.pageSize,l=Math.min((a+1)*this.pageSize,i.length),c=null===(t=this.storeLike)||void 0===t?void 0:t.getState().video.byId,u=s;u<l;++u)if(!(null==c?void 0:c[i[u].id]))return[2,!1];return this.setPageStatus({season:n,page:a,status:bt.Loaded}),[2,!0]}}))}))},e.prototype.countAdjacentSeasonsNotLoaded=function(e){for(var t=e.allSeasons,n=e.startSeasonIndex,a=e.numSeasons,o=e.page,r=0,i=1;i<=a-1;i++){var s=t[n+i];s&&this.getPageStatus({season:s,page:o})===bt.Pending&&r++}return r},e.prototype.getPageStatus=function(e){var t,n=e.season,a=e.page;return this.seasonPagesStatus[n]&&null!==(t=this.seasonPagesStatus[n][a])&&void 0!==t?t:bt.Pending},e.prototype.setPageStatus=function(e){var t,n=e.season,a=e.page,o=e.status;this.seasonPagesStatus[n]?this.seasonPagesStatus[n][a]=o:this.seasonPagesStatus[n]=((t={})[a]=o,t)},e.prototype.checkWhatWasLoaded=function(e,t){var n;return(0,re.__awaiter)(this,void 0,void 0,(function(){var a,o,r,i,s,l,c;return(0,re.__generator)(this,(function(u){switch(u.label){case 0:return this.checkIfMetadataLoaded()?[4,this.episodeMetadata]:[2];case 1:a=u.sent().seasonNumbers,o=a.indexOf(e.startSeason),r=(null!==(n=e.endSeason)&&void 0!==n?n:e.startSeason)-e.startSeason+1,i=a.slice(o,o+r),s=0,l=i,u.label=2;case 2:return s<l.length?(c=l[s],[4,this.isPageOfSeasonLoaded({season:c,page:t})]):[3,6];case 3:return u.sent()?[3,5]:(this.setPageStatus({season:c,page:t,status:bt.Pending}),r>1?(this.seasonRangesAreBroken=!0,[4,this.tryLoadPage({season:c,page:t})]):[3,5]);case 4:u.sent(),u.label=5;case 5:return s++,[3,2];case 6:return[2]}}))}))},e.prototype.fetch=function(e){var t=this;if(!this.storeLike)return Promise.resolve({status:Et.Error});var n=e.startSeason,a=e.endSeason,o=void 0===a?n:a,r=e.episodeStartIndex,i=e.episodeEndIndex,s=i-r+1,l=Math.floor(r/s),c=(0,an.hg)({seriesId:this.seriesId,season:n===o?n:"".concat(n,"-").concat(o),page:l+1,size:s,force:!0}),u=this.storeLike.dispatch(c).then((function(){return{status:Et.Success}})).catch((function(e){return on.Ay.error(e,"Error fetching episodes in series ".concat(t.seriesId," for seasons ").concat(n,"-").concat(o,", episode indexes ").concat(r,"-").concat(i,".")),{status:Et.Error}})),d=new Promise((function(e){setTimeout((function(){e({status:Et.Timeout})}),rn)}));return Promise.race([u,d])},e}(),ln=sn;function cn(e){var t=e.seriesId,n=e.seasonNumber,a=e.episodeStartIndex,o=e.episodeEndIndexInclusive,r=(0,l.useRef)(null),i=(0,Ae.Pj)(),s=i.dispatch,c=i.getState,u=i.subscribe;(0,l.useEffect)((function(){var e;t&&(r.current||(r.current=function(e){var t=e.seriesId,n=e.dispatch,a=e.getState,o=e.subscribe,r=e.pageSize,i=e.numVisibleSeasons;return new ln({seriesId:t,store:{dispatch:n,getState:a,subscribe:o},pageSize:r,numVisibleSeasons:i})}({seriesId:t,dispatch:s,getState:c,subscribe:u,numVisibleSeasons:1,pageSize:m.por}),r.current.subscribeToStore()),null===(e=r.current)||void 0===e||e.updateVisibleEpisodes({seasonNumber:n,episodeStartIndex:a,episodeEndIndexInclusive:o}))}),[n,a,o,t,s,c,u]),(0,l.useEffect)((function(){return function(){var e;null===(e=r.current)||void 0===e||e.destroy(),r.current=null}}),[])}var un=n(20124),dn=n(13410),pn="WSPEJ",mn="W_gvI",fn="GDHqp",vn="qtwsz",gn="WaaN_",hn={xs:"6",lg:"4"},yn={xs:"6",lg:"4",xl:"3",xxl:"1-5"},An=function(e){return e},En=function(e){var t,n=e.seriesId,a=e.seasons,o=e.seasonIndex,r=e.episodeIndex,i=e.onSeasonIndexChange,c=e.location,u=e.params,d=e.fullWidthLayout,p=(0,Ae.wA)(),f=(0,l.useState)(o),v=f[0],g=f[1],h=(0,l.useState)(r),A=h[0],C=h[1],S=(0,l.useState)(A+1),w=S[0],R=S[1],P=(0,l.useMemo)((function(){return(0,dn.G)(a,v)}),[a,v]),I=(0,y.A)((function(e){return en().apply(void 0,(0,re.__spreadArray)([e.video.byId],P,!1))}),Ae.bN),M=(0,y.A)((function(e){return e.history})),_=(0,B.tz)();cn({seriesId:n,seasonNumber:(0,dn.P)(a,v),episodeStartIndex:A,episodeEndIndexInclusive:w,seasons:a});var T=a.map((function(e){var t=e.number;return{value:t,label:_.formatMessage(tn.seasonDropdownLabel,{seasonNumber:t})}})),N=(0,l.useMemo)((function(){var e={};return a.forEach((function(t){t.episodes.forEach((function(n){e[n.id]={season:Number(t.number),episode:n.num,title:(0,b.Mc)({formatMessage:_.formatMessage,season:t.number,episode:n.num})}}))})),e}),[a,_.formatMessage]),D=(0,l.useCallback)((function(e,t){var n,a,o,r=I[e];if(!r)return l.createElement(jt.A,{tileOrientation:"landscape",id:e,className:gn,title:null===(n=N[e])||void 0===n?void 0:n.title,description:_.formatMessage(tn.loading)});var i,s=(0,E.B9)(null!==(a=r.series_id)&&void 0!==a?a:""),c=M.contentIdMap[s],u=null===(o=null==c?void 0:c.episodes)||void 0===o?void 0:o.find((function(t){return String(t.contentId)===String(e)}));u&&(i=u.position/u.contentLength);var d=r.title,f=r.thumbnails,v=void 0===f?[]:f,g=r.description,h=(0,k.qA)({video:r}),y=function(){var n;x.Ay.createNavigateToPageComponent({startX:t,startY:0,containerSlug:null,contentId:e,componentType:L.K_.episodeVideoListComponent}),p((0,ut.VC)({pathname:h,state:(n={},n[m.x39]=!0,n)}))},A={id:e,title:d,thumbnailSrc:v[0],description:g,progress:i,href:h,renderTitle:function(e){return l.createElement("h3",null,e)}};return l.createElement(jt.A,(0,G.A)({autoHeightForContentInfo:!0,alwaysShowMetadata:!0,tileOrientation:"landscape",hoverBgEffect:!1,onClick:y,onPlayClick:y},A))}),[I,M.contentIdMap,p,_,N]),O=(0,l.useCallback)((function(e){var t=e.itemIndex,n=e.colsPerPage;C((function(e){return x.Ay.sendNavigateWithinPage({startX:e,startY:0,endX:t,endY:0,contentId:P[e],componentType:L.K_.episodeVideoListComponent}),t})),R(t+n-1)}),[P]),V=(0,l.useCallback)((function(e,t){var n=e.label,a=e.value;if(!u.title)return n;var o=(0,un.Yn)(u.season?le.yi.seriesSeasonDetail:le.yi.seriesDetail,u);if(c.pathname!==o)return n;var r=0===Jt()(t,e)?(0,un.Yn)(le.yi.seriesDetail,u):(0,un.Yn)(le.yi.seriesSeasonDetail,(0,re.__assign)((0,re.__assign)({},u),{season:a}));return l.createElement("a",{className:vn,href:r,onClick:function(e){return e.preventDefault()}},n)}),[c,u]);return l.createElement("div",{className:s()(pn,(t={},t[mn]=d,t))},l.createElement("div",{className:fn},l.createElement(Xt.A,{options:T,defaultOption:T[v],onSelect:function(e){var t=e.value,n=T.findIndex((function(e){return e.value===t}));C(0),g(n),null==i||i(n)},renderOption:V})),l.createElement(Ft.A,{key:v,index:A,tileOrientation:"landscape",data:P,onIndexChange:O,adjustPrevNextForContentTile:!0,extraKey:An,renderItem:D,breakpoints:d?yn:hn}))},bn=(0,d.withRouter)((0,l.memo)(En)),Cn=n(64149),Sn="M7yXh",wn="snQR8",kn="FokQF",Rn=(0,c.YK)({audioLanguages:{id:"src/web/rd/components/ContentDetail/AudioLanguagesAndSubtitles/AudioLanguagesAndSubtitles:audioLanguages",defaultMessage:"Audio Languages"},subtitles:{id:"src/web/rd/components/ContentDetail/AudioLanguagesAndSubtitles/AudioLanguagesAndSubtitles:subtitles",defaultMessage:"Subtitles"},audioDescriptionLabel:{id:"src/web/rd/components/ContentDetail/AudioLanguagesAndSubtitles/AudioLanguagesAndSubtitles:audioDescriptionLabel",defaultMessage:"Audio Description"}}),Pn=function(e){var t=e.subtitles,n=void 0===t?[]:t,a=e.audioDescriptionLanguages,o=void 0===a?[]:a,r=e.className,i=(0,B.tz)();return l.createElement("div",{className:s()(Sn,r)},(null==o?void 0:o.length)?l.createElement("div",{className:wn},l.createElement("div",null,l.createElement("span",{className:kn},i.formatMessage(Rn.audioLanguages),": ")," ",o.filter(Cn.Dx).map((function(e){return"".concat((0,Cn.r5)(e)," - ").concat(i.formatMessage(Rn.audioDescriptionLabel))})).join(", "))):null,(null==n?void 0:n.length)?l.createElement("div",{className:wn},l.createElement("div",null,l.createElement("span",{className:kn},i.formatMessage(Rn.subtitles),": ")," ",n.map((function(e){return{id:e.lang,lang:e.lang,label:e.lang}})).reduce((function(e,t){if("Off"!==t.label&&t.lang&&(0,Cn.Dx)(t.lang)){var n=(0,Cn.r5)(t.lang);e.push(n)}return e}),[]).join(", "))):null)},In=n(83267),Mn="OpEE9",_n="c1jX9",Tn="WMff3",Nn="Xx95I",Ln="BPUNy",Dn="ZrMnv",xn="u1oz0",On="oBrXV",Vn="VAJkx",Bn="hKvTq",Fn="Cevc8",Un="X2Urc",Wn="FZQ2X",Yn="uZMzF",Hn=n(59787),zn="I3LZ_",Kn=function(e){var t=e.tags,n=void 0===t?[]:t,a=n.map((function(e,t){var a=Hn.u[e],o=t<n.length-1?l.createElement("span",null," Â· "):null,r=a?l.createElement(N.A,{key:a,to:(0,k.P0)(a)},e):l.createElement("span",null,e);return l.createElement(l.Fragment,{key:null!=a?a:e},r,o)}));return a.length?l.createElement("div",{className:zn},a):null},Gn=(0,c.YK)({channelLogo:{id:"src/web/rd/components/ContentDetail/ContentDetail:channelLogo",defaultMessage:"{network} network logo"},contentUnavailable:{id:"src/web/rd/components/ContentDetail/ContentDetail:contentUnavailable",defaultMessage:"content unavailable"},episodeTitle:{id:"src/web/rd/components/ContentDetail/ContentDetail:episodeTitle",defaultMessage:"Season {season} Episode {episode} - {title}"},featuredRowTitle:{id:"src/web/rd/components/ContentDetail/ContentDetail:featuredRowTitle",defaultMessage:"Featured on Tubi"}}),qn=function(e){var t=e.viewportType,n=e.isOneColumnView,o=e.isSmallViewPort,r=e.showButtonGroupUnderDescription,i=e.poster,s=e.posterWithButtonGroup,c=e.contentMeta,u=e.relatedContents,d=e.extraRow,p=e.seasonContents,m="tablet"===t?4:5,f=4===m?"3":"1-5",v=4===m?"9":"4-5",g=r?i:s;return n?l.createElement(l.Fragment,null,l.createElement("div",{className:On},o?null:g,l.createElement("div",{className:Vn},c)),p,u,d):l.createElement(l.Fragment,null,o?null:l.createElement(a.A.Item,{xs:f},s),l.createElement(a.A.Item,{lg:v,sm:12},c,p,u))},Qn=(0,d.withRouter)((function(e){var t,n,i,c=e.content,d=e.posterUrl,P=e.seasons,I=e.episodeIndex,M=void 0===I?0:I,N=e.seasonIndex,L=void 0===N?0:N,D=e.belongSeries,x=e.seriesTitle,O=e.onClickWatch,V=e.isContentReady,B=e.isSeriesDetail,F=void 0!==B&&B,U=e.shouldShowContentUnavailable,W=e.vw,Y=e.onSeasonIndexChange,H=e.location,z=(0,h.A)(),G=(0,u.A)(),q=c,Q=q.id,j=q.year,X=q.title,Z=q.duration,J=q.ratings,$=q.tags,ee=q.description,te=q.actors,ne=q.directors,ae=q.type,oe=q.series_id,re=q.channel_logo,ie=q.channel_id,se=q.channel_name,le=q.is_recurring,ce=q.availability_starts,ue=q.has_subtitle,de=q.ad_languages,pe=q.subtitles,me=(0,w.MT)(Z,G.formatMessage),fe=(0,T.Z)({content:c,location:H}),ve=(0,A.A)(v.Ay),ge=ae===m.vG4?(0,E.B9)(Q):Q,he=!!oe,ye=(0,y.A)((function(e){return e.ui.viewportType})),Ae=(0,y.A)((function(e){return e.ui})),Ee=Ae.isKidsModeEnabled,be=Ae.isEspanolModeEnabled,Ce=(0,y.A)(g.dc),Se=W<m.LOf.lg,we=U&&ve.getValue()&&!Se,ke=we&&W>m.LOf.xl,Re=(0,C.n0)(c.images,f.iC),Pe=(0,C.CU)(Re),Ie=(0,l.useMemo)((function(){if(he){var e=(0,b.LB)(X);return l.createElement(l.Fragment,null,l.createElement("h1",{className:_n},x),l.createElement("h2",{className:Tn},e?G.formatMessage(Gn.episodeTitle,e):X))}return l.createElement("h1",{className:_n},X)}),[G,he,x,X]),Me=(0,l.useMemo)((function(){var e=null;return U&&(e=fe?l.createElement(R.A,{date:ce}):l.createElement(_,null)),e}),[U,fe,ce]);(0,l.useEffect)((function(){U&&!Ee&&Ce&&z((0,p.TM)())}),[V,U,Ee,Ce,z]),(0,l.useEffect)((function(){U&&!Se&&ve.logExposure()}),[U,ve,Se]);var _e=l.createElement(Tt,{content:c,posterAlt:X,posterUrl:d,posterSrcSet:Pe,posterSizes:f.jh[f.iC],belongSeries:D,onClickWatch:O,isContentUnavailable:U,isSeriesDetail:F,className:Un}),Te=l.createElement(o.A,{alt:X,src:d,srcSet:Pe,sizes:f.jh[f.iC],className:Un}),Ne=l.createElement(It,{belongSeries:D,id:Q,isRecurring:le,type:ae,title:X,onClickWatch:O,className:Ln,isSeriesDetail:F,isContentUnavailable:U,remindButtonClassName:ke?Yn:"",video:c}),Le=Ee||be?$:l.createElement(Kn,{tags:$}),De=l.createElement(l.Fragment,null,Me,Ie,l.createElement(r.A,{year:j,duration:me,rating:null===(n=null==J?void 0:J[0])||void 0===n?void 0:n.value,descriptor:(0,S.$g)(null===(i=null==J?void 0:J[0])||void 0===i?void 0:i.descriptors),tags:Le,channelLogoAltText:G.formatMessage(Gn.channelLogo,{network:se}),channelLogo:re,channelUrl:ie?(0,k.P0)(ie,{type:m.K36.CHANNEL}):"",cc:ue,audioDescriptionsAvailable:de&&de.length>0}),Se?Ne:null,l.createElement("div",{className:Nn},ee),l.createElement(Pn,{audioDescriptionLanguages:de,subtitles:pe}),l.createElement(K,{actors:te,directors:ne,className:we?Bn:""}),ke?Ne:null),xe=P&&P.length?l.createElement(bn,{seriesId:"".concat(D),seasons:P,episodeIndex:M,seasonIndex:L,onSeasonIndexChange:Y,fullWidthLayout:ke}):null,Oe={xs:"4",lg:"1-5",xl:"2",xxl:"1-7"},Ve=m.NDj;we&&(Ve=W>m.LOf.xxl?14:W>m.LOf.xl?12:10);var Be=l.createElement(Qt,{breakpoints:we?Oe:void 0,className:we?Fn:"",contentId:ge,isVertical:U,limit:Ve,isContentUnavailable:U}),Fe=we?l.createElement(In.A,{id:m.lqe,className:Dn,breakpoints:Oe,title:G.formatMessage(Gn.featuredRowTitle),forceCurrentMode:m.X$o.all}):null,Ue={isOneColumnView:we,isSmallViewPort:Se,viewportType:ye,showButtonGroupUnderDescription:ke,poster:Te,posterWithButtonGroup:_e,contentMeta:De,relatedContents:Be,extraRow:Fe,seasonContents:xe};return l.createElement("div",{className:s()(Mn,(t={},t[xn]=we,t[Wn]=ke,t))},l.createElement(a.A.Container,null,l.createElement(qn,Ue)))}))},21586:function(e,t,n){"use strict";n.d(t,{Ay:function(){return h}});var a=n(58168),o=n(23789),r=n(96540),i=n(10525),s=n(10597);var l=n(66080),c=n(9530),u=n(60905),d="lWXaj",p={landscape:{xs:"6",xxl:"4"},portrait:{xs:"4",lg:"3",xl:"1-5",xxl:"2"}},m=function(e,t){if(t&&e>=t[0]&&e<=t[1])return"high"},f=function(e,t){return void 0!==t&&e>=t},v=function(e,t){if(t&&e>=t[0]&&e<=t[1])return!0},g=function(e){var t=e.breakpoints,n=e.containerId,g=e.contentIds,h=e.highFetchPriorityRange,y=e.lazyLoadStartIndex,A=e.preloadRange,E=e.showProgress,b=void 0!==E&&E,C=e.tileOrientation,S=void 0===C?"portrait":C,w=e.trackCb,k=e.isLikedSelectableTile,R=e.handleLikeClick,P=(0,r.useCallback)((function(e){var t=e.contentId,n=e.index;null==w||w(n,t)}),[w]),I=(0,l.A)((function(e){return e.video.byId})),M=(0,r.useMemo)((function(){return g.map((function(e,l){var g,E={fetchPriority:m(l,h),id:e,indexInContainer:l,lazyLoad:f(l,y),onNavigation:P,preload:v(l,A),tileOrientation:S};return r.createElement(o.A.Item,(0,a.A)({},t||p[S],{key:e,className:d}),((g=I[e]).childType?g.type===s.K.linear:(0,i.g)(g)===i.c.LINEAR)?r.createElement(c.A,(0,a.A)({},E,{showLiveBadge:!0})):r.createElement(u.A,(0,a.A)({isLikedSelectableTile:k,handleLikeClick:R},E,{showProgress:b,containerId:n})))}))}),[t,n,g,I,P,h,y,A,b,S,k,R]);return r.createElement(o.A.Container,{includeMargin:!1},M)},h=(0,r.memo)(g)},13410:function(e,t,n){"use strict";n.d(t,{G:function(){return r},P:function(){return o}});var a=[],o=function(e,t){return e[t]?Number(e[t].number):0},r=function(e,t){var n,o;return void 0===e&&(e=[]),(null===(o=null===(n=e[t])||void 0===n?void 0:n.episodes)||void 0===o?void 0:o.map((function(e){return e.id})))||a}},94838:function(e,t){"use strict";t.A={webPlayerOverlay:"SHcqi",isAd:"Bwojx",hideCursor:"vkrvF",spinner:"aHcCR",titleArea:"DB9bK",topActive:"v_wJk",titleRow:"maGfs",titleWrapper:"dIe4i",closeButton:"iOlGT",title:"_PvvO","new-typography":"R2FLC",subtitle:"QES62",castButton:"QkBCA",icon:"DfbDK",lowerArea:"sknV3",active:"CgOQ_",compactUiMode:"rUwHg",autoplayVisible:"VvWiv",bottomMessage:"KiBYW",adGradient:"LyNU0",adMessage:"QuenX",controlArea:"dr5O7",playerControls:"EMei3",infoSection:"dsIOc",playbackButtons:"lWlCF",playbackButton:"ao5W9",playPause:"f9_Gl",negligibleUnderSM:"lm0f2",negligibleUnderXS:"lWsnh",extraControls:"T8nOy",extraControl:"VWEIw",extraControlActive:"MDJ4H",qualityList:"CPW2c",separatorLine:"WyO5N",checkMark:"_lsnA",volumeRange:"kYOlI",fadeEnter:"pb1km",fadeEnterActive:"FNhSh",fadeLeave:"XpdT7",fadeLeaveActive:"vg_DA",centeredPlayButtonContainer:"m2igM",playButton:"Sde8F"}},95289:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iOSIgdmlld0JveD0iMCAwIDE2IDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjkiIGZpbGw9InVybCgjcGxhY2Vob2xkZXItZ3JhZGllbnQpIiAvPgogIDxsaW5lYXJHcmFkaWVudCBpZD0icGxhY2Vob2xkZXItZ3JhZGllbnQiIHgxPSIwIiB4Mj0iMCIgeTE9IjAiIHkyPSIxIj4KICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9ImJsYWNrIiAvPgogICAgPHN0b3Agb2Zmc2V0PSI3MCUiIHN0b3Atb3BhY2l0eT0iMSIgLz4KICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1vcGFjaXR5PSIwIiAvPgogIDwvbGluZWFyR3JhZGllbnQ+Cjwvc3ZnPg=="},646:function(e,t){"use strict";t.O=void 0,function(e){e.UNKNOWN="UNKNOWN",e.SHOW="SHOW",e.DISMISS="DISMISS",e.STILL_WATCHING="STILL_WATCHING"}(t.O||(t.O={}))},46683:function(e,t){"use strict";t.s=void 0,function(e){e.UNKNOWN_PROGRESS="UNKNOWN_PROGRESS",e.CLICKED_REGISTER="CLICKED_REGISTER",e.COMPLETED_PASSWORD="COMPLETED_PASSWORD",e.COMPLETED_BIRTHDAY="COMPLETED_BIRTHDAY",e.COMPLETED_EMAIL="COMPLETED_EMAIL",e.COMPLETED_GENDER="COMPLETED_GENDER",e.COMPLETED_NAME="COMPLETED_NAME",e.CLICKED_SIGNIN="CLICKED_SIGNIN"}(t.s||(t.s={}))},73540:function(e,t,n){"use strict";var a=n(15215),o=n(96540),r=(0,o.memo)((function(e){return o.createElement("svg",(0,a.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none","data-test-id":"icons-alert",viewBox:"0 0 24 24",role:"img"},e),o.createElement("title",null,"Alert Icon"),o.createElement("path",{fill:"currentColor",d:"M21.545 16.017 14.908 4.678A3.377 3.377 0 0 0 12.004 3a3.34 3.34 0 0 0-2.912 1.677L2.458 16.021A3.242 3.242 0 0 0 2 17.67C2 19.6 3.42 21 5.376 21h13.248C20.58 21 22 19.6 22 17.67c0-.578-.158-1.151-.455-1.653M18.624 19H5.376C4.361 19 4 18.312 4 17.67c0-.218.06-.43.182-.635l6.638-11.35a1.36 1.36 0 0 1 2.36.002l6.641 11.344c.117.198.179.419.179.639 0 .642-.361 1.33-1.376 1.33"}),o.createElement("path",{fill:"currentColor",d:"M12 8c-.811 0-1.451.688-1.393 1.496l.322 4.506a1.074 1.074 0 0 0 2.142.001l.322-4.506A1.397 1.397 0 0 0 12 8M12 18a1 1 0 1 0 0-2 1 1 0 0 0 0 2"}))}));t.A=r},4408:function(e,t,n){"use strict";var a=n(15215),o=n(96540),r=(0,o.memo)((function(e){return o.createElement("svg",(0,a.__assign)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none","data-test-id":"icons-device-tv",viewBox:"0 0 24 24",role:"img"},e),o.createElement("title",null,"Device TV Icon"),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.83 3.49H7.17c-1.319 0-2.821.095-3.951 1.226C2.094 5.839 2 7.34 2 8.659v2.654c0 1.323.094 2.828 1.218 3.951l.003.003c1.084 1.075 2.538 1.223 3.948 1.223H11v2H7.005a1.005 1.005 0 0 0-.001 2.01h9.991a1.005 1.005 0 0 0 0-2.01H13v-2h3.846c1.404 0 2.853-.149 3.933-1.229C21.906 14.146 22 12.65 22 11.337V8.659c0-1.325-.094-2.832-1.217-3.943-1.131-1.131-2.633-1.226-3.952-1.226m2.538 10.354c-.472.47-1.155.646-2.522.646H7.169c-1.377 0-2.066-.174-2.539-.642-.465-.466-.63-1.13-.63-2.535V8.659c0-1.401.165-2.062.632-2.529.466-.467 1.154-.64 2.537-.64h9.662c1.383 0 2.07.173 2.541.644.458.453.628 1.137.628 2.525v2.678c0 1.371-.171 2.05-.632 2.507",clipRule:"evenodd"}))}));t.A=r},68079:function(e,t,n){"use strict";var a=n(21389),o=n(73540),r=n(32485),i=n.n(r),s=n(96540),l=n(84389);t.A=(0,s.memo)((function(e){var t=e.className,n=e.label,r=e.defaultOption,c=e.options,u=e.onSelect,d=e.error,p=e.name,m=e.renderOption,f=(0,s.useState)(null==r?void 0:r.value),v=f[0],g=f[1],h=(0,s.useState)(!1),y=h[0],A=h[1],E=(0,s.useRef)(null),b=(0,s.useRef)(null),C=c.find((function(e){return e.value===v})),S=c.findIndex((function(e){return e.value===v})),w=(0,s.useState)(S),k=w[0],R=w[1],P=(0,s.useCallback)((function(e){g(e.value),A(!1),null==u||u(e)}),[u]),I=(0,s.useCallback)((function(e){y&&b.current&&(b.current.scrollTop=56*(e-1))}),[y]),M=(0,s.useCallback)((function(e){switch(e.preventDefault(),e.key){case"Enter":case" ":c[k]&&P(c[k]);break;case"ArrowUp":(t=k-1)>=0&&(R(t),I(t));break;case"ArrowDown":var t;(t=k+1)<c.length&&(R(t),I(t));break;case"Escape":A(!1)}}),[c,k,P,I]),_=(0,s.useCallback)((function(){A(!y)}),[y]),T=(0,s.useCallback)((function(e){if("Enter"===e.key)_()}),[_]);(0,s.useEffect)((function(){return y&&window.addEventListener("keydown",M),function(){window.removeEventListener("keydown",M)}}),[y,k,c,M]),(0,s.useEffect)((function(){I(S),y||R(S)}),[y,I,S]),(0,l.A)(E,(function(){return A(!1)}));var N=i()("web-dropdown",{"web-dropdown__open":y,"web-dropdown__error":!!d}),L=i()("web-dropdown--input",t),D=i()("web-dropdown--arrow-icon",{"web-dropdown--arrow-icon__open":y}),x=i()("web-dropdown--label",{"web-dropdown--label--small":!!C}),O=i()("web-dropdown--input-text",{"web-dropdown--input-text--with-label":!!n}),V=i()("web-dropdown--options",{"web-dropdown--options__scrollable":c.length>4}),B=function(e){return[e,p].filter(Boolean).join("-")},F=B("web-dropdown-label"),U=B("web-dropdown-options");return s.createElement("div",{className:"web-dropdown--container"},y?s.createElement("div",{className:"web-dropdown--placeholder"}):null,s.createElement("div",{className:N,ref:E},s.createElement("div",{className:L,onClick:_,onKeyDown:T,tabIndex:0,role:"combobox","aria-controls":U,"aria-expanded":y,"aria-activedescendant":"web-dropdown-option-".concat(k),"aria-labelledby":n?F:void 0},n?s.createElement("label",{id:F,className:x},n):null,s.createElement("span",{className:O},null==C?void 0:C.label),s.createElement(a.A,{className:D})),s.createElement("ul",{id:U,role:"listbox",className:V,tabIndex:-1,style:{display:y?"block":"none"},ref:b},c.map((function(e,t){return s.createElement("li",{key:e.value,id:"web-dropdown-option-".concat(t),role:"option",className:i()("web-dropdown--option",{"web-dropdown--option__selected":e.value===v||t===k}),tabIndex:-1,onClick:function(){return P(e)},"aria-selected":v===e.value},m?m(e,c):e.label)}))),d?s.createElement("div",{className:"web-dropdown--error"},s.createElement(o.A,null),d):null))}))},77264:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},d:function(){return s}});var a=n(96540),o=n(41043),r=function(e){var t=(0,a.useState)(e),n=t[0],r=t[1];return(0,a.useEffect)((function(){var e=o.A.subscribe((function(e){r(e)}));return function(){return o.A.unsubscribe(e)}}),[]),n},i=function(){return r(void 0)},s=function(e){return void 0===e&&(e={xs:!1,sm:!0,sMd:!0,md:!0,lg:!0,xl:!0,xxl:!0}),r(e)}},84389:function(e,t,n){"use strict";var a=n(96540),o=["mousedown","touchstart"];t.A=function(e,t){(0,a.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return o.forEach((function(e){document.addEventListener(e,n)})),function(){o.forEach((function(e){document.removeEventListener(e,n)}))}}),[e,t])}},41043:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var a,o,r=n(15215);!function(e){e.xs="xs",e.sm="sm",e.sMd="sMd",e.md="md",e.lg="lg",e.xl="xl",e.xxl="xxl"}(o||(o={}));var i=((a={})[o.xs]="(max-width: 374px)",a[o.sm]="(min-width: 375px)",a[o.sMd]="(min-width: 540px)",a[o.md]="(min-width: 768px)",a[o.lg]="(min-width: 960px)",a[o.xl]="(min-width: 1170px)",a[o.xxl]="(min-width: 1440px)",a),s=Object.keys(i),l=new Map,c=-1,u={},d={matchHandlers:{},dispatch:function(e){return u=e,l.forEach((function(e){return e(u)})),l.size>=1},subscribe:function(e){return l.size||this.register(),c+=1,l.set(c,e),e(u),c},unsubscribe:function(e){l.delete(e),l.size||this.unregister()},unregister:function(){var e=this;s.forEach((function(t){var n=i[t],a=e.matchHandlers[n];null==a||a.mql.removeListener(null==a?void 0:a.listener)})),l.clear()},register:function(){var e=this;s.forEach((function(t){var n=i[t],a=function(n){var a,o=n.matches;e.dispatch((0,r.__assign)((0,r.__assign)({},u),((a={})[t]=o,a)))},o=window.matchMedia(n);o.addListener(a),e.matchHandlers[n]={mql:o,listener:a},a(o)}))}};t.A=d}}]);
